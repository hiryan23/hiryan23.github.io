<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>2025.05.14 讨厌宿命论</title>
    <link href="/2025/05/14/%E8%AE%A8%E5%8E%8C%E5%AE%BF%E5%91%BD%E8%AE%BA/"/>
    <url>/2025/05/14/%E8%AE%A8%E5%8E%8C%E5%AE%BF%E5%91%BD%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<p>今天晚上L和我说了她研究了生辰八字的事，我好像有点应激。我其实不应当应激的，现在想来人家可能只是来分享一个好玩的事，我却显得有些较劲（或许），实在有点不应该。唉，她是多么可爱的一个人，我是多么糟糕。</p><p>我其实有点自相矛盾了，必须给予自我批评。一方面我自称不相信生辰八字，另一方面我把原理和她给的舍友生辰的例子研究了一下，然后又悄悄的研究了研究我自己的生辰八字（虽然不知道出生时间），并试图套出她的生辰八字。还好她没告诉我，如果她告诉我了，我一定会更加多想的。甚至有可能直接深夜问我妈我的生辰（这是否有些夸张的手法了）</p><p>这就是窥探命运的诱惑吗？如果说有一个能够看到未来的水晶球或是什么机器，我想必是会偷偷去看，就像一些电影里悲剧的开端那样吗？或者说这个窥探命运的例子和生辰八字完全不能类比，因为这个例子的窥探一定是准的，但是生辰八字并不准？那谁说生辰八字不准呢？从预测的具体程度看？或者说我说的和我实际做的并不一定一样？</p><p>我成为了那种说着不信，但是会偷偷看一眼的不好的人。草，怎么会是这样。我想起MBTI，也是一样，说的是不信，但是自己还是偷偷看了许多。但是事情就是这样的吗？我必须仔细进行自我分析。不信和看，这两者矛盾吗？好像并不矛盾。看一眼是怎么个事，和用它来指导生活和人生，是完全不一样的。</p><p>说说应激的原因吧，其实应该还是事与愿违，就是我的私心。如果我偷看了MBTI或者生辰，又或者什么鬼东西，结果如我自己所愿，那还会应激吗？唉在这你还含蓄什么呢，直接明说了就是你和她能不能在一起呗。你看了生辰八字什么的解释，一知半解，然后结合网上和自己的乱推测，发现自己似乎和她不合适。又是什么天无二日，又是什么命里无正缘，搞得和那种小说一样。所以你应激了，你疯狂地否认这些，因为你期望和她在一起，你讨厌任何外界对于你们这段关系的拆解。很犀利啊哥们。</p><p>但是真是这样吗？说说MBTI，你也曾看过，说ENTP和INFP不是最佳的恋人，说什么前者老是欺负后者，所以你不信？其实你别装了，你也在评论区看到过说ENTP和INFP的组合，见到过这叫思维组还是什么鬼的，所以从MBTI的角度你们的关系问题不大。所以你没有应激？</p><p>事实如此吗？你否定MBTI和事未与愿违关系大吗？仔细想想，我相信你。即使是事未与愿违，你也没有认可MBTI，这能说明问题吗？先说你的观点吧，你觉得人是复杂的，反对使用MBTI来定义和标签。没问题，但是你自己知道，还是由于事未与愿违，所以你的观点总是带着点杂质。仿佛你心里有这样的逻辑：我否认MBTI的，即使我认可那也是对我有利嘛。但是你自己知道，你的观点是纯净的。</p><p>这样想，那事未与愿违，我的观点不干净；那我事与愿违，我的观点还不干净，那不是无解死局了吗？所以我的观点干不干净和事情是否如我所愿应当没关系。我还是否认生辰八字。</p><p>“运势这种如果说和运气相关，那我觉得还能聊以解释和安慰吧，比如今天运气不好或者运气好。但是如果生辰八字成为了预言，或者说具有指导意义了，那我觉得一个人一生的命运在出生下来的一刻就被定死了，也太悲哀了。”</p><p>这是我给她发的话，语气未免有些严肃。但是我必须说说我的观点了。在这里我是可以畅所欲言的，说吧哥们。</p><p>我的观点就是生辰八字就是扯淡。从私心，以及顺着相信者的角度说，即使（即使，即使）我和她从生辰八字上真的不合适——首先，你没有知道自己的完整生辰八字；其次，你们也只是在网上算命般的测，见识皮毛罢了；最后，你为啥要强调那么多即使？你心里确实还真是惦记这个？——那就说明了你们就不能在一起了？原来是这样命中注定的吗？原来相恋相爱相守，只是看你们的八字就结束了吗？这还真是方便呢，下次直接给每个新生儿建立数据库，终身大事从出生就解决了呗。正着说就是事在人为，我看网上不也说道教强调事在人为么。只要双方用心经营，共同努力——用只要就的句式吗，你还真是作文写多了，敢这么用——就能走到一起吧。</p><p>我必须再喷两句。因为我意识到我担心的不是我自己，而是她，而是我的爸妈。我清楚记得爸妈半开玩笑地说到时候和结婚对象还要看八字合不合呢。我担心爸妈信这个。其实我最担心她信这个，我担心她因为生辰八字说我们不合，就放弃努力，就合理化一些关系中的矛盾，就从态度和心理暗示的角度否定感情，而非实际的交往，实际的生活，实际的努力，实际的合不合适。对的，你担心的就是这个，所以你应激了。但是你这样合理吗？你凭什么管人家的想法呢？凭什么人家根据生辰八字的判断就不对呢？凭什么不能合理化矛盾呢，就是八字不合，性格问题，没法解决，分手吧。</p><p>草，这么说其实不能说服我自己，因为我是觉得上面说的最后这样没逻辑。如果她真是这么想的，那确实该分，没什么好留恋的。你在这种情况下，应该是能够做到的吧。那我的应激应该是解释得通了。</p><p>接下来从个人价值的角度说两句。我反对宿命论。首先，我得先明确生辰八字这种东西的内容。据她所说，可以看出人的运势，主要干这个用，而且还挺准。这玩意准吗？它是一个模糊的东西，从运势的角度，拟合程度未免太高了。一点点好运的事，或者霉运的事，都能往上靠。比如说我测出来今天好运，同时我今天考试分数高，那我就会归功于运势，算命，而非我平时的努力了吗？这个例子还是有点不妥，因为这个例子的因果太具体刻意了。那就比如说我成功交了一个女朋友，是归功于桃花运，正缘，还是归功于我的平时经营，我的个人品格，还有类似的？这个结论就不大明显了嘛。额，所以你想说什么？从运势的角度，勉强能起安慰的作用。应当起安慰的作用，比如在霉运的时候说运气不好，后面加油这种。在成功的时候说只是运气好罢了，戒骄戒躁。但是，你这样不还是认同了运气这个东西是和生辰八字相关的吗，结果只是看你的态度。</p><p>还有一些对人生大事的预测。这个网上很多，说什么确实预测对了什么的。但是存在自己主动往上靠的嫌疑。有人使用自己的生辰八字例证，但是又被别人反驳说解读错了。那这算什么呢？因为一知半解，因为都不是真正的专家和大师。那大师怎么说呢？大师是不是反而说事在人为，反而说主观能动这种话呢？</p><p>欸，这个观点如何呢？承认生辰八字的预测，强调主观的态度。这好像是比较折中的观点，可能更好接受？gl曾经和我说过类似的观点，同时我也没法反驳他。他说玄学不能说是错的，因为你没法判断。所以呢？没法从客观上直接判断。但是可以从客观上间接判断，比如说这样的观点：如果玄学是对的，那么怎么千百年来发展到现在还没成为主流？但是这个观点有力吗？或许从宗教的角度，一些宗教确实可以证明，它们成为了主流的宗教。但是，万一它一直被打压，导致不能成为主流呢？唉，我的这个反驳好像也有点扯淡。说回来，也可以从主观上判断。就是你信则有，不信则无。不影响。</p><p>真不影响吗？这个观点的问题就在于真能主观不管，如果承认生辰八字具有预测性吗？很难。很难。我自己估计都不能做到。很难。</p><p>所以还是不承认生辰八字具有预测性吧，不承认这些玄学的东西。有理由。客观上来说，它就根据生辰，就确定了一个人的运势，那么那么多人在同一时辰出生，相同的生辰八字，那大家的运势岂不是都相同了？这一听就很荒唐。但是L有反驳，说还跟环境、相生相克等别的变量有关。这个反驳乍一看有道理，但是仔细推敲，最后还不是分类加了一堆定语，就跟决策树一样，分到最后每个类别就只有单一的个体，结论就是每个人都独一无二。那我为什么不一开始就认为每个人都独一无二呢？</p><p>草，写到这发现这玩意有点像技术分析啊。你分析这个K线图长这样，所以未来会涨。那没涨，肯定有别的原因，加定语吧。但是又畏惧了。因为技术分析是真有人认的，还有缠论。我好像还没全认，先不谈有效市场假说，我认的量化是统计学来进行预测，和技术分析还是有点区别。真有区别吗？其实是一回事。那完了。完了啊！</p><p>没完。经济学是有逻辑的，姑且认为是科学。能和玄学类比吗？这有点像开篇水晶球的例子了。但是，我这么说是否加入了事先对玄学的有色眼镜呢？可能在一些人眼中，玄学就是有逻辑的，就是科学。那我还不懂，我没法说啊。所以你得学？学成大师才能评价呀。</p><p>真没完吗？我又想到了人工智能里的黑箱，很多东西不具有解释性，但是它就是对的。打住打住，再想就想不过来了。对事物，对命运的解释还是太难了，如果我学的是理科，会不会更清醒一点呢？这就是生而为人的最原始的求索欲啊！</p><p>继续个人的价值吧。命运应当是可以改变的。我讨厌知道自己的命运，因为这样我的动机就仿佛失去了主体性。仿佛是命运，在驱使我做事，我的反抗也是由命运指使的。那我还是人吗？我活着有什么劲呢？《三体》里似乎有类似的桥段？我要看下三体，L好像很喜欢，当然不仅是因为她。我还要补我的哲学素养，今天的碎碎念让我感到了价值观上的压力啊。</p><p>如果一个人的一辈子，在出生的时候就由生辰八字决定，你会在什么时候富有，什么时候落魄，和谁结婚，谁是贵人，都已决定。并且你顺应这些来过你的人生。我觉得那真的很痛苦。因为你被一种他物主导了，左右了，失去了你作为人本身的主体性。但是，如果你现在的主体性只是看似的主体性呢？你的主观能动，只是看似的，其实还是被命运主导，只不过你不知道，自以为是主观。那就两种解决方案吧，一种是没事，我不知道就算了，最好别让我知道，被我知道了我就要反抗。第二种是不存在的，没法证明还是被命运主导，还是主观上面的问题，那就主观认为具有能动性就好了。</p><p>插播：如果我放弃主观能动性呢？就是接着前面的折中的观点，承认但不管。如果我拼命认命，好像也是一种解决方案？比如我就是遇到了八字不合的人，但是我就是和她结婚了。我没有根据生辰八字而选择调整结婚对象，选择最适合的，我就认了。那好像也没有什么问题？你怎么还举这个例子呢，你就是心里一直放不下她。</p><p>知道自己的命运却不根据命运做更优的选择，是不是也是生而为人的一种反抗呢？</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025.05.11 没话硬写</title>
    <link href="/2025/05/11/%E6%B2%A1%E8%AF%9D%E7%A1%AC%E5%86%99/"/>
    <url>/2025/05/11/%E6%B2%A1%E8%AF%9D%E7%A1%AC%E5%86%99/</url>
    
    <content type="html"><![CDATA[<p>4月份从对一个女生的单方面上头中慢慢走出来了，其实也只有几天。月底，和另一个女生开始交往？</p><p>L的性格很温和，但是也是一个有追求的人，而且好像有些被动，这点和我有点像。而且很能接梗，平常还玩游戏，比较宅，会画画，会游泳，会多国语言。真是一个美好的人啊。</p><p>我们一起去看了音律联觉，第一次约女生单独出来玩，有点放不开，她好像也是。但是还是一起打了伞，分享了糖果，心里暖暖的。</p><p>舍友都说她肯定是喜欢我的，应该吧，但是我一定要把握好这份情感，想办法运营。我也对她有好感，那么怎么告诉她呢？就先从每天和她聊天开始吧。害，要是都能打直球就好了，可惜连我自己都不好意思，又怎么要求人家呢？</p><p>这几天的相处淡淡的，真正的考验是后面一年的异地。先等它成为考验，再说吧。</p><p>感觉没有什么情感波澜啊，写不出来一点。两个人就体现着淡淡的，体面的，模糊暧昧的情愫。那没话就不要硬写了。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2025.04.20 坏结局</title>
    <link href="/2025/04/20/%E5%9D%8F%E7%BB%93%E5%B1%80/"/>
    <url>/2025/04/20/%E5%9D%8F%E7%BB%93%E5%B1%80/</url>
    
    <content type="html"><![CDATA[<p>坏结局，还是好结局？ <span id="more"></span></p><p>坏结局 BAD ENDING</p><p>你再次看到了那对黯淡的眼睛。</p><p>她并没有发现你，只是用手摸索那个泛着灰白色光的碗。你注意到地上的收款码已经翻新，还附上了中英双语的“好人一生平安”，A4纸单色打印并塑封。</p><p>地铁通道内人来人往，人们忙碌地欢声笑语着。</p><p>你没有失去任何钱财。但是你失去了上前的勇气。</p><p>普通结局 NORMAL ENDING</p><p>你再没有遇见那个乞讨的老奶奶。</p><p>这个世界上根本没有这样一个视力有问题，血压血糖高的乞讨者，上次是正常人伪装的，目的是骗你一次钱。你上当了。</p><p>大家都笑话你太好骗，你也跟着笑了。</p><p>今天又碰到了那个乞讨的老奶奶。</p><p>给12345打电话了，得知了徐汇区救助站的电话，又打了过去。两边都非常强调一件事，就是这个乞讨者是否自愿接受救助。如果不，那么也管不了。（带未成年人的除外）</p><p>驻足的时候，内心非常犹豫和纠结要不要上前去聊聊。但是能聊什么呢？心里想着还有很多事要做，遂放弃。突然记得之前保存了她的电话，于是默默地给她打了个电话，想确认下。看到她在四处翻找手机，我就立马挂断了。</p><p>拍了两张她的照片和收款码，还是打了一些钱。 <img src="/2025/04/20/%E5%9D%8F%E7%BB%93%E5%B1%80/2a84c053fd5d1b65f2bb59ee7ba3c2a.jpg" alt="照片"> <img src="/2025/04/20/%E5%9D%8F%E7%BB%93%E5%B1%80/c8456055b7d6aae1c67c079c84bab44.jpg" alt="收款码"></p><p>晚上，她给我回电话了。简单寒暄后，我问出了那个问题：她愿不愿意去救助站。她的回答很果断，不去，救助站不收盲人，血糖高很麻烦等。我想到这些话我去年是听过的，又想到救助站的人说的职业乞丐的事，顿感失望和不耐烦。她说我有空能不能去看看她，给她点吃的和钱。同时，她应该还遇到了一个好心人给她买了一副盲杖。</p><p>注意到她的头发似乎染的更黑了点。她的眼疾应该是真的，乞讨能获得比救助站更高的效用，应该也是真的。但是对于她是不是“职业乞丐”，除了悲伤，我只感到恶心。罢了罢了。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025.03.23 破案了</title>
    <link href="/2025/03/23/%E7%A0%B4%E6%A1%88%E4%BA%86/"/>
    <url>/2025/03/23/%E7%A0%B4%E6%A1%88%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<p>明天要进行中期答辩了，要求准备ppt和论文初稿，还一字未动。上午睡到10点，在浩然高科开始精神内耗。试图通过知乎搜寻答案。</p><p>忽然看到知乎的一个观点：喜欢一个人，是因为她让自己感觉很好。因此放下一个人，自己取悦自己，让自己感到快乐（大概是这个意思，转述总是一塌糊涂）。顿悟了！</p><p>我对她产生好感，是因为我感觉她的礼仪或者说道德品质，比我更高！那么首先，她的道德品质是否真的比我更高呢？其次，我应当做的不是漫长的精神内耗，而是向她学习，学习她的道德和礼仪，也成长为一个让他人相处很愉快的人。这才是对的。</p><p>心中突然畅快起来。这真是缓了一大口气，应该有心思准备中期了。</p><p>我也可以进电梯用手挡住电梯的门，也可以关注身边的人，关爱他人，为他人着想。有些东西可以不学，有些东西她未必做的有我好。而且我应当这么做，因为不然的话，就不能证明我把她放下了，就出现了矛盾。</p><p>这真是一个很好的点，我现在心情好像有点不错了，似乎发现了我最为关注和看重的东西了，而我应当为此付出和成长。这样不会违背我的价值观。违背价值观就会让我不适，进入精神内耗。</p><p>我想起我的过去。第一次出现这样的觉醒是在很小的时候，估计只有几岁。小区里有一家杂货店，老板是一个老奶奶。我经常去那里买点小零食吃，但是从来不称呼，因为当时对她似乎有一种莫名的陌生感。我清楚地记得有一天我爸妈看见我如此粗鲁，明确告诉我：“见到奶奶要叫人，不然很没礼貌。”后来，每次和他人说话之前我都会带上称呼，这个习惯一直保持到今天。</p><p>称呼这个事在演变的过程中好像出现了一点变化。那就是我和同学之间交流全部都直呼大名称呼，不知道为什么，这点就是很难改。我感觉可能是一种边界感。本来我管年长的男性叫叔叔，年长的女性叫阿姨，但是后来似乎是在网上看到叫姐姐比较好，所以后面我也开始叫姐姐。叫哥这个是跟Jackylove学的。</p><p>我的道德和礼仪在成长的过程中逐渐形成和成熟。在绿格的时候又发生了一件影响我的事。当时另一个领队教会我如何让他人帮忙做事，其实用请求他人帮忙比较好。因为我的语气永远是冷淡的发号施令，虽然内心完全没有指挥的意思，但是客观上从他人的角度听上去就很冷很卑微。所以，她教我在每句话后面加上“好不好”或者“可不可以”。这对我的帮助真的很大。草，当时我其实也对她产生了好感，这下也破案了。</p><p>其实能打动我的女生不多，但是每次走出来却很累。还是太纯了，女生的一点点交互就令人自作多情浮想联翩，有点搞笑了。但是无论怎么说，还是要保持真诚开放的态度，不要失礼失态，继续成长为更好的人吧！</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025.03.21 又是鲜花和四月</title>
    <link href="/2025/03/21/%E5%8F%88%E6%98%AF%E9%B2%9C%E8%8A%B1%E5%92%8C%E5%9B%9B%E6%9C%88/"/>
    <url>/2025/03/21/%E5%8F%88%E6%98%AF%E9%B2%9C%E8%8A%B1%E5%92%8C%E5%9B%9B%E6%9C%88/</url>
    
    <content type="html"><![CDATA[<p>现在是星期五晚上，我刚结束两周的黄浦实验学校实习。刚刚心里还有些难受，想写点什么抒发一下，但是打开日记又不知道该写些什么，有什么好难受的呢？emm，这篇文章可以预见又是一篇散的不能再散乱的意识流文。我主要应该要说明两件事，一件是对这两周实习的总结，另一件是对未知生成的情感的总结。</p><p>先说感情吧，因为我怕等下忘了。写这些东西，就像过年祭祀的时候烧纸。你的内心先被一把火点燃，然后外表面开始碳化变黑，化为灰烬消散在空气中。但是内部的一些实体需要你拨开浮灰，掀起压在上面的未熄的烬，才能接触天日，燃烧殆尽。我的情感就像摇曳的火光，美丽跳跃，却终归死寂。</p><p>我最初是什么时候和她认识的呢？舍友如是问道。刚刚我翻阅了一下聊天记录，是在绿格面试的时候。当时我是面试官，她是候选者，我微信上给她通知，简单聊了几句。草了，怎么是23年的4月，刚好是她生日后一天。真服了，这是什么巧合。后来再见到她便是研支团的面试了，期间朋友圈经常会看到她发一些活动和非常正能量的东西，似乎是默默在关注。研支团面试结束后，我们要拉一个群，我发现她入选了，刚好就拉了。然后线下的见面全是研支团的活动，从刚开始介绍，到破冰，到东台实践，到黄浦实验实习，到今天结束。</p><p>她最打动我的是哪一点呢？舍友其次问道。性格好相处？我顺着舍友的话回答，但其实我想说的是道德修养，但是也不矛盾。她长得好像不算特别好看，但是这是在我试图消除目前我对她的滤镜的情况下得出的结论。其实也挺好看，不是那种大众意义上的网红脸的好看。因为其令我对单眼皮女生的颜值有所改观，真是奇妙（当然黄浦实验的班主任张老师强化了我这个判断）。我宣布我把双眼皮暂时从我的择偶标准中删去。我的择偶标准是什么呢？原来真的会对道德修养很好的人动心吗？即使其的智识和外表都并非突出？道德修养好的人会很多吗？是因为其参加了很多学生工作导致的吗？智识真的不重要吗？你还没有和她深入交流到能确定三观的地步呢。</p><p>和她共处的时间确实很舒服。她有时会撒娇，虽然我也不知道是不是撒娇。是不是我还是段位太低了，对这样的女生没有抵抗力。她会经常性地主动用手挡着电梯门。这很怪，是礼仪吗？其实有点怪，导致夏也跟着做了。夏是个纯真的好人。有必要在每次上下电梯的时候挡门吗？思考一下，这必须建立在你最先进入电梯，且电梯里没什么人的时候。然后你一直等到最后一个再走，即使电梯门无需被阻挡。用手挡门是不是一个危险且没必要的行为，但是确实可以展现出你的礼仪态度。但是真有必要吗，这时候得搬出我的理论：接受他人的礼仪行为，有时候也是一种礼仪。并且我认为是更高一层的礼仪，是第五层对第二层的礼仪。所以就走出电梯吧。</p><p>她主动找我交互过，我真的没法分辨这是礼貌，还是茶，还是表示友好，还是说人家根本没在乎？记得在东台实践的时候，我拿着团旗，然后她突然跑过来说要不要帮我拿，主动得令人疑惑。后来坐在一起吃面食点心的时候，她会跑出去问导游阿姨要不要一起吃，令我感到非常震撼。破案了，我好像就是从这个时候开始对她产生好感的，因为我觉得她具有高尚的道德品质。在黄浦实验的时候，她让我帮她开门，这个可以解释，可能是因为我坐的离门最近。在操场时问我能不能把她的手机放我口袋，这个或许也可以解释，可能只是顺口，没有多想。在玩米宝的时候，她经常cue我，频率高得令人疑惑。这个或许也可以解释，可能我只是一个比较有意思的喜欢乱玩的玩伴。有时候她会帮我，其实我应该帮她的次数更多，这个应该只是我自作多情罢了。</p><p>唉，自作多情。在两周前我有动心吗？已经忘了。在黄浦实验，有一次她的手机掉地上了，我弯腰低头看了一眼，判断出手机离她更近，要是我捡得钻到桌子底下去，因此没有出手，显得有些粗鲁。我意识到她停顿了一下，可能是在看我会不会帮忙，因为我弯腰比较快。然后我没捡，她自己捡了。这会不会成为一件所谓瞬间下头的事？不清楚，正如我的DID判断不出中国制造2025是否有用一样。这是我多虑了，还是我的判断是对的？我好像是一个很注重细节的人。有时候我的预判很对，有时候又是大错特错，就如在CRP一样。她好像是个多虑的人，总是认为我们其他三个人有小群体，孤立和排挤她。今天晚上我和她说，没想到她认为我们有小群，在群里有些勉强地失态。为什么会失态呢？如果她真的想得很多，正如她自己所说晚上不睡觉都在想事情，那么她怎么不会从我今天的问题中看出一些端倪呢？</p><p>我是不是太单纯了，还是太自恋了，幻想着人家对我的好感，事实上只是人人都有的礼貌。昨晚我尝试从送花的话题展开聊天，我说女生是不是都喜欢收到花。她说她本人是的，然后说女生男生也都是，明显地看出其言语的女权性。这好像不是我期待的结果。对这种话的回答不应该是说原因吗，怎么突然就出现一个新的论断了。“只是我收到幸福感更高一点，对，好看的话，嗯。”这是我第一次看到这些口语助词出现在和她的聊天中。我想打听下她喜欢什么样的花，因为我想她4月初要过生日了。于是我问什么花比较好看。她说就是好看的花，网上有避雷贴可以看看。我说大多数男生收到的第一束花是在自己的坟前。她说那她还是经常给别人送花的，她的男生朋友真幸福。</p><p>我是不是她的男生朋友呢？这是在炫耀，还是在暗示，还是只是平常的交流？我真的分辨不出。不合时宜地想起了黑莓和达（草。说了今天中午送花，结果她一大早就很积极地订了。还好她定了。本来我还以为她会给我送花的，想着和她说不用给我买了。现在看真是小丑啊，还好没说。感觉已经下定论了呀，她对我根本就没好感，就是普通的同事关系，甚至连同学都算不上？这一切行为都只是礼貌，或者是在她的平常交流的范畴内。</p><p>那我着相了。之前吃饭的时候聊支教地，我说我不去四川，因为不能吃辣。她说“你为什么不能吃辣？”我真着相了。今晚和申兄吃晚饭前，我问她支教地的问题，期待能够和她在一个地方，如果一起在一个地方一年，或许还有甚至很大的发展机会。我问她会考虑云南和广西吗，她说思考一下，但是会争取去四川。嗨呀，这不是已经很清楚了吗，就差明说了。我肯定不去四川的，她明知如此，还说争取去四川，那不是铁没戏了么。人家根本就对你没感觉，该收了哥们。</p><p>这么一分析，结论已经很明朗了。全部都是我的一厢情愿和自作多情罢了。看来写这些还是有点用的。那就开始复盘。根本原因还是压抑太久了。人家都说了和同学谈恋爱不会很尴尬吗，万一分手了还要再见面。也对，这是不是就说明她不会和同学谈恋爱呢？但是其实女生的话都不可信，这是我单纯的好歹知道的一点。人家只是不喜欢你罢了。</p><p>为什么我会对她有好感呢？感觉分析还是从两个方面吧，一个是择偶标准，一个是可得性。她高尚的道德和礼仪满足了我的择偶标准，同时她的高中曹杨二中，以及她的家乡安徽阜阳，都带给我熟悉之感，看起来提升了可得性。Wait，我怎么判断出她的道德感的呢？我只能看出的是她的礼仪教养，但是道德是怎么看出来的呢？好像只是我的脑补罢了。她为什么执意要去四川，是因为四川最轻松吗？我不知道了。</p><p>我应该是个唯物的人，但是我心里好像还是在自我强化对缘分、宿命之流的相信，还是迷信。鲜花是在23年520的时候送给设计学院的一位打羽毛球的女生的，虽然我现在已经完全对她没感觉了，当时只是一时上头，也没有像今天一样的详细分析。一年前的22年5月20日前后，我在疯狂地入脑贝拉，疯狂地。四月初是她的生日，同时某人的生日也在4月初。我很想忘记，但是却真忘不掉，太好记了主要是。所以这就注定是悲剧吗，在鲜花盛开的四月。同我的姓氏预言一起？还是只是统计不显著的废话。</p><p>差不多够了，实习的总结后面再写吧。今晚必须把DID作业做了，还要准备中期答辩。够了，下了。</p><figure><img src="/2025/03/21/%E5%8F%88%E6%98%AF%E9%B2%9C%E8%8A%B1%E5%92%8C%E5%9B%9B%E6%9C%88/33cb19cf0d1dc703f2cdcc9dd408b49.jpg" alt="SHSMU的花很美，我不知道该不该忘记"><figcaption aria-hidden="true">SHSMU的花很美，我不知道该不该忘记</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中国公司法与证券法</title>
    <link href="/2025/02/21/%E4%B8%AD%E5%9B%BD%E5%85%AC%E5%8F%B8%E6%B3%95%E4%B8%8E%E8%AF%81%E5%88%B8%E6%B3%95/"/>
    <url>/2025/02/21/%E4%B8%AD%E5%9B%BD%E5%85%AC%E5%8F%B8%E6%B3%95%E4%B8%8E%E8%AF%81%E5%88%B8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>本笔记整理自安泰经济与管理学院2025年春季学期课程ECON8117中国公司法与证券法，授课人是徐卫老师。</em></p></blockquote><span id="more"></span><p>证券法：主要针对上市公司 ## 一、公司法概说 ### 公司的概念与分类 ####公司是怎么产生的 最早的时候是没有公司的，都是自然人做生意。 -风险太大，破产就倾家荡产 - 想办法，万一失败了不影响其他财产 -找几个人组成实体 - 要有财产才能交易 -每个人出资，形成组织的财产（就是后面说的注册资本） -除了要有财产，还要有实体的意识表示，不然就和个人一样了 - 组织机构 -法定代表人 - 结果：独立的财产、独立的意思机关、独立承担责任 -实现了防止经商带来的无限责任，防止了风险的扩大</p><h4 id="公司的概念">公司的概念</h4><p>日本商法：以实施商行为为目的而设立的社团 - 商行为：盈利为目的，职业的- 以盈利为目的的社团，虽不以实行商行为为业，也是为公司</p><p>台湾：本法所称公司，谓以盈利为目的，依照本法组织、登记成立之社团法人- 除了介绍公司的使命，介绍了公司成立的维度</p><p>我国：没定义，彰显灵活性</p><p>学理定义：公司是依法设立的，以营利为目的的，由股东投资形成的企业法人。</p><h4 id="公司的特征">公司的特征</h4><p><strong>依法设立</strong> - 申请设立登记 -看登记类型，有可能是什么什么制企业 - 看是不是公司 -有可能名字是公司，但是不是公司</p><p><strong>以营利为目的的组织</strong> - 营利与盈利 -营利：谋取利润，是使命、宗旨，动词 -盈利：表示赚的利润，是状态，名词</p><pre><code class="hljs">- 判断：以取得利润并分配给股东等出资人为目的成立的法人，为营利法人    - 取得利润    - 分配给出资人，如果不分配就是事业单位，放在组织体里</code></pre><ul><li>体现<ul><li>对股东财产权的认可</li><li>与营利相左的实践（长期不分红，违背了公司）</li></ul></li><li>营利的限制：要承担社会责任</li><li>2018年新增</li><li>2023年修正：承担社会责任<ul><li>利益相关者<ul><li>公司职工</li><li>消费者等</li><li>债权人、客户、供应商、社区</li></ul></li><li>社会公共利益<ul><li>如生态环境保护等</li></ul></li></ul></li></ul><p><strong>以股东投资行为为基础设立</strong><strong>具有法人资格</strong></p><ul><li>拥有独立的财产<ul><li>财产<ul><li>资产vs财产<ul><li>资产是指企业过去的交易或者事项形成的，由企业拥有或者控制的、预期会给企业带来经济利益的资源<ul><li>资产要带来经济利益<ul><li>废铁不是资产</li><li>财产可以卖，承担责任<ul><li>废铁是财产</li></ul></li></ul></li><li>资产要能控制<ul><li>未出资的不是资产</li><li>债权是财产<ul><li>未出资的是财产</li></ul></li></ul></li></ul></li><li>财产和责任挂钩</li><li>公司印章并非一般意义上的公司财产，而是特殊财产<ul><li>公司的商业机会也是特殊的公司财产</li></ul></li></ul></li></ul></li><li>独立<ul><li>股东只有股权，财产都是公司的<ul><li>“公司中的国有资产所有权属于国家”<ul><li>违反了法理，所有权属于公司</li></ul></li><li>严格区分公司财产和股东财产，哪怕股东构成经济犯罪</li></ul></li><li>独立承担民事责任<ul><li>财产、意识都是公司自己的</li><li>抽逃出资的股东，追加责任<ul><li>相当于把公司的财产拿走了，得还回来</li></ul></li></ul></li></ul></li></ul></li></ul><h4 id="公司的一般分类">公司的一般分类</h4><h5 id="资本结构和股东责任">资本结构和股东责任</h5><ul><li>有限责任公司<ul><li>看人合性，信赖关系</li></ul></li><li>股份有限公司<ul><li>看资合性，资本关系</li></ul></li><li>无限公司<ul><li>普通连带责任</li><li>我国就是合伙企业，英国说无限公司</li></ul></li><li>两合公司<ul><li>有限合伙公司，有些是有限责任，有些是无限连带责任</li></ul></li></ul><h5 id="公司信用基础">公司信用基础</h5><ul><li>资合公司</li><li>人合公司</li><li>资合兼人合公司<ul><li>小型股份有限公司</li></ul></li></ul><h5 id="公司的组织关系">公司的组织关系</h5><h6 id="母公司与子公司">母公司与子公司</h6><ul><li>公司法没有界定母公司<ul><li>“公司可以设立子公司”</li><li>实际控制地位</li></ul></li><li>控制<ul><li>资本控制<ul><li>控股股东</li><li>但也不一定，创始人没达到控股，但是能对决议产生重大影响</li></ul></li><li>实际控制<ul><li>实际控制人，<del>不是股东</del>，但是通过协议什么安排，实际支配公司行为<ul><li>小股东，有协议实际支配，也是实际控制人</li></ul></li></ul></li></ul></li><li>母公司就是子公司的股东或者实际控制人<ul><li>子公司为母公司提供担保，母公司要回避<ul><li>公司为股东提供担保</li></ul></li></ul></li><li>母子公司各为独立法人<ul><li>劳动关系独立</li><li>债务独立<ul><li>例外：<ul><li>滥用公司法人独立地位<ul><li>公司法人人格否认</li></ul></li><li>没有履行出资义务<ul><li>类似抽逃出资</li></ul></li><li>母子公司都受同一个人控制（以逃债）<ul><li>两个公司不独立</li></ul></li></ul></li></ul></li></ul></li></ul><h6 id="本公司总公司与分公司">本公司（总公司）与分公司</h6><p>不独立，只是分支机构 - 总公司不能给分公司提供担保，自己给自己担保</p><ul><li>分支机构的登记与批准<ul><li>非金融，登记<ul><li>要掌握经营活动，监管监督需要</li></ul></li><li>金融部门，批准</li></ul></li><li>不能独立承担责任<ul><li>不意味着无需用自己财产承担责任</li><li>“仍应以自有财产承担民事责任，不足部分由母公司承担”</li></ul></li><li>民事责任由法人承担，也可以先以该分支机构管理的财产承担，不足承担的，由法人承担。<ul><li>保障债权人权益，否则得去总公司，麻烦</li><li>保障分公司积极性</li></ul></li><li>具有相对独立性（前提是拿到营业执照）<ul><li>诉讼法领域<ul><li>可以作为民事诉讼当事人</li></ul></li><li>劳动法领域<ul><li>可以作为用人单位与劳动者签订合同</li></ul></li><li>民法领域<ul><li>可以以自己名义签合同</li></ul></li></ul></li></ul><h5 id="我国现行立法体系下的公司">我国现行立法体系下的公司</h5><h6 id="有限责任公司与股份有限公司">有限责任公司与股份有限公司</h6><p><strong>区别</strong> - 公司设立方式 - 只能发起设立 vs 募集设立 -有限责任公司具有人合性，只能发起设立 - 股东人数限制 -有限责任公司，股东上限不能超过10人，考虑人合性 - 出资证明方式 -出资证明书 vs 股票 - 股权转让方式 -有限责任公司其他股东有优先购买权：保障人合性 - 注册资本的体现方式 -有限责任公司：出资额 - 股份：体现在均等的股份 - 组织机构设置 -有限责任公司：董监高比较随意，不要求齐全，考虑人合性，自治 -股份：要求董监高齐全，管治 - 所有权经营权分离程度 - 有限：分离程度低 -股份：高 - 信息披露义务 - 有限责任公司，要求不严 -股份：很多股东不参与公司管理，不了解</p><p><strong>核心区别</strong> 有限：人合性和封闭性股份：资合性和开放性</p><h3 id="公司法概念性质与体系">公司法概念、性质与体系</h3><h4 id="概念">概念</h4><ul><li><p>组织法与行为法的结合</p></li><li><p>强制性规范与任意性规范结合</p><ul><li>保护交易安全</li><li>公司是上市主体</li></ul></li><li><p>实体法与程序法的结合</p></li><li><p>《公司法》的主要宗旨</p><ul><li>规范公司的组织和行为</li><li>保护公司、股东、职工、债权人的合法权益<ul><li>职工！</li></ul></li><li>完善中国特色现代企业制度，弘扬企业家精神<ul><li>没界定</li><li>创新、大局观</li></ul></li><li>维护社会经济秩序，促进社会主义市场经济的发展</li></ul></li><li><p>社会作用</p></li></ul><h4 id="体系">体系</h4><p>民法典模式 vs 商法典模式 vs 单行法和判例法并行模式</p><h4 id="历史沿革">历史沿革</h4><p>新增“公司登记”一章 有利于提高公司登记的效率</p><p>提高公司注销效率</p><h2 id="二股东与股东权">二、股东与股东权</h2><h3 id="股东概说">股东概说</h3><h4 id="股东的概念及分类">股东的概念及分类</h4><h5 id="概念-1">概念</h5><ul><li>程序意义上：登记在股东名册中</li><li>实质意义上：出资<ul><li>投资 vs借款：投资的收益是不确定的，可能亏损，不能保证分享红利。如果是固定收益，实为借款。</li><li>投资：不能随时撤回所投资金，不存在撤回问题</li></ul></li></ul><h5 id="分类">分类</h5><p><strong>优先股股东、普通股股东、劣后股股东</strong> -优先股：财产权优先，优先于普通股分配公司利润和剩余财产，但是决策管理等权利受到限制（限制并非丧失）- 分类 - 可调整优先股 vs 不可调整 - 强制分配优先股 vs非强制：有利润是否必须分配 - 累积优先股 vs非累积：这一年分红比例没到，累积到下一年 - 参加分配优先股 vs不参加：是否参加分配 - 可转换优先股 vs 不可转换：是否能转换为普通股股东- 可赎回优先股 vs 不可赎回：公司是否能赎回优先股，让股东退出</p><p><strong>表决权</strong>优先股有时候也能表决（与普通股股东分开）：影响自身切实利益的时候 -修改公司章程中与优先股相关内容 - 一次或累计减少公司注册资本超过百分之十- 公司合并、分立、解散或变更公司形式 - 发行优先股 -公司章程规定的其他情形</p><p><strong>经营股东、投资股东、投机股东</strong> 短线 vs 长线</p><h3 id="股东资格的取得与丧失">股东资格的取得与丧失</h3><h4 id="取得">取得</h4><p><strong>取得方式</strong> - 原始取得：公司设立与发行新股（增资扩股）- 继受取得：买卖、赠与、继承与置换</p><p><strong>取得的限制</strong>（不能当股东） - 禁止持有和获批的法定限制- 章程限制</p><p>例： -证券交易场所、证券公司和证券登记结算机构的从业人员，证券监督管理机构的工作人员- 违反证券交易公平 - 购买上市保险公司股票，持股比例达到5、15、33.3 -怕你影响公司治理，金融行业强调稳健经营 -初始章程限制：股东解除劳动合同，股权须全部转让 - 维护人合性</p><h4 id="丧失">丧失</h4><ul><li>股权转让、股东死亡</li><li>股权回购、违法剥夺</li><li>强制除名、其他事由<ul><li>强制除名：未履行出资义务，经董事会决议可以向该股东发出失权通知</li></ul></li></ul><h4 id="股东资格的认定">股东资格的认定</h4><p><strong>认定原则</strong> - 股东名册（最直接证据） -投资人名册、出资证明书？得看公司认不认可你，只能证明你出钱了，还要看公司认不认可- 公司章程（辅助意义） - 工商登记（对于第三人来判断） -未经（变更）登记，不得对抗第三人（交易安全） -牵涉第三人，股东资格认定遵循外观主义原则——以登记为准 -内部——以股东名册为准</p><p>股份有限公司发起人之外的其他股东变更，无法进行变更登记！ -发起人：有限责任公司设立时的股东，有限责任公司变为股份有限公司时的股东是股份有限公司的发起人</p><p><strong>隐名股东问题</strong>存在需求：公务员、后面要离婚的、证券从业人员</p><ul><li>禁止违法代持上市公司股票<ul><li>上市公司讲究股权穿透，穿透到具体的持有人</li><li>上市公司的一些隐名持股协议无效（小股东无所谓，董监高、控股股东、发起人、实控人，这些法律有特别义务）</li></ul></li><li>股权代持不能违反金融法律管理性规定</li></ul><h3 id="股东与公司关系">股东与公司关系</h3><h4 id="股东有限责任原则">股东有限责任原则</h4><p>以出资为限</p><p><strong>有限责任的含义</strong> -有限责任公司以其<strong>认缴出资</strong>为限，股份有限公司以其<strong>认购股份</strong>为限</p><p><strong>法人人格否认制度</strong></p><ul><li>股东滥用法人独立地位和股东有限责任，逃避债务，严重损害债权人利益的，应当承担连带责任。<ul><li>共同连带而非补充连带<ul><li>债权人想找谁就找谁（保护债权人）</li></ul></li><li>是否包含公法债权人（逃税，国家就是债权人）<ul><li>不好说</li><li>公法债权人可以使用罚款来保护自身</li></ul></li><li>严重<ul><li>公司财产不足以清偿债权人债权</li></ul></li><li>滥用（独立财产、独立意思）<ul><li>人格混同<ul><li>核心：财务混同，还有人员混同、经营混同<ul><li>无偿使用公司资金或财产，不作财务记载</li><li>公司资金偿还股东债务，或者无偿给关联公司使用，不作财务记载</li><li>公司账簿与股东账簿不分</li><li>股东收益与公司盈利不分，利益不清</li><li>公司财产记载于股东名下</li><li>人格混同的其他情形</li></ul></li></ul></li><li>过度支配与控制</li><li>资本显著不足<ul><li>股东实际投入资本与公司经营风险明显不匹配，表明其没有从事公司经营的诚意，实质是恶意利用公司独立人格和股东有限责任把风险转嫁给债权人，以小博大</li></ul></li></ul></li></ul></li></ul><h3 id="股东权概说">股东权概说</h3><h4 id="概念-2">概念</h4><ul><li>概念：是基于股东资格享有的权利</li><li>体现：资产受益、重大决策、选择管理者等权利</li></ul><p>得看有没有股东资格 -配偶并非公司股东，无权干涉股权转让（股权行使），只能享有收益</p><h4 id="股权的特征">股权的特征</h4><p>债权（请求权）物权（支配权）</p><p>具有<strong>社员权</strong>性质的一种资本性财产权利 - 身份权 -资本性财产权利：可以参与公司管理</p><h3 id="股东主要权利分析">股东主要权利分析</h3><h4 id="股东的财产权">股东的财产权</h4><h5 id="股利分配请求权">股利分配请求权</h5><ul><li>优先股股息 vs 普通股红利</li></ul><p><strong>股利分配形式</strong> - 现金、实物、股票</p><p><strong>股利分配时限</strong> 股东会决议作出之日起6个月内交付</p><p><strong>股利分配原则</strong> 1. 无盈利不分 -例外：建设股息分配请求权（建设公司） 2. 公司自持股不分 3.遵守分配法定程序 -纳税（社会责任）、弥补亏损（保护债权、交易安全）、提法定公积金（维持公司注册资本，保护债权人）等- 违反规定，分红后的钱要退还公司，给公司带来损失，负责的董监高要负责</p><p><strong>对长期不分股利的法律回应</strong> -5年盈利但不分红，要求公司收购其股权（有限公司） -非公开发行股份的股份公司（封闭性的，退出有点困难）</p><h5 id="剩余财产分配请求权">剩余财产分配请求权</h5><p>公司破产后，财产怎么办 - 清算费用 - 职工工资、社保费用、法定补偿金 -所欠税款 - 清偿公司债务</p><p>剩余财产 - 按股东认缴比例分了</p><h4 id="新股认购优先权">新股认购优先权</h4><p>新增注册资本时，有限责任公司股东在同等条件下可以按照实缴出资比例优先认缴出资</p><p><strong>法理依据</strong> 1. 保障既得比例性利益 2. 维护人合性</p><p><strong>适用范围</strong> 有限责任公司（股份有限公司为增加注册资本发行新股时，股东不享有优先认购权，另有规定除外）</p><h4 id="股东的表决权">股东的表决权</h4><h5 id="股东表决权概述">股东表决权概述</h5><p><strong>权利性质</strong>：固有权 不能随意剥夺，否则和借贷有什么区别-特殊行业或类型的公司（如保险公司、上市公司），背后辐射的是社会公共利益使其需要特殊的法政策考量- 其他可能的特殊公司：金融、上市、国有、外资</p><p><strong>行使原则 一股一权（有例外）</strong> - 无表决权股（优先股） -公司自持股 - 不足一股股（公司合并的情况下） - 一股多权股 - 相互持有股 -稳产业链/供应链/金融链 - 稳定公司内部治理结构 -预防与挫败目标公司管理层敌意收购图谋 - 弊端：资本虚空、危害交易安全 -台湾公司法：相互行使表决权不得超过三分之一（安全控制线，一票否决权）</p><p><strong>参加方式</strong> - 可以委托 - 委托谁：无限制 -委托的作用</p><h4 id="股东的诉讼权">股东的诉讼权</h4><h5 id="诉讼权">诉讼权</h5><ul><li>直接诉讼（自身的权益）</li><li>代表诉讼（公司的权益）</li></ul><p><strong>股东代表诉讼（派生诉讼）</strong> -股东以自己名义起诉，代表公司，因为侵公司权的人可能是内部人员</p><ul><li>前置程序</li><li>尊重公司人格，得公司内部先表态<ul><li>董监高先不起诉，股东才能起诉</li></ul></li><li>豁免：<ul><li>情况紧急</li><li>根本不存在可能性<ul><li>比如董事会和监事会全体成员都侵害公司利益</li></ul></li></ul></li><li>比较严格<ul><li>股份有限公司：持股比例1%，时间180天</li></ul></li></ul><h4 id="股东的知情权">股东的知情权</h4><p><strong>概述</strong> - 存在理由 -对股东自己：了解公司经营，有利于投票和投资 - 对公司：是潜在监督 -权利性质 - 固有权 - 单独股东权 -兼具自益权和共益权属性（为了自己利益、公司利益） -制度评估：平衡公司正常经营和利益</p><p><strong>制度解读</strong>（重点） - 主体 -原股东：如果有初步证据证明持股期间权益受损，可以查 - 破产企业股东 -优先股股东 - 母公司股东 - 方式 - 查阅或复制 - 范围 - 有限公司 -会计账簿（但可以作假），只能查阅 - 会计凭证，只能查阅 -无规定：董监高会议记录、银行流水 -前置程序：应向公司提出书面请求，并说明目的 -如果公司认为有不正当目的可能损害公司利益，可以拒绝 - 有实质竞争关系业务- 向他人通报相关信息（动机） - 曾经向他人通报相关信息（实际） - 股份公司- 股东：持股180日以上+持股3%以上，可以查会计账簿、会计凭证</p><ul><li>会计账簿和会计凭证不能复制怎么办？<ul><li>摘录部分内容</li><li>利用“证明妨碍”</li></ul></li><li>查阅、复制全资子公司材料<ul><li>“同一主体”和“支配控制”理论支持查阅权的穿越，如果不行，那么可以由多层主体规避</li></ul></li><li>上市公司：是否因信息披露等限制查阅权<ul><li>不应限制：信息披露是对广大投资者和监管视角。</li><li>应限制：构成重大信息和内幕信息</li></ul></li></ul><h4 id="股东的提案权">股东的提案权</h4><ul><li>针对公司：股份公司</li><li>适用对象<ul><li>持股达到1%的股东，公司不得提高此比例</li><li>不足：表决时是否需要继续持有？没说</li></ul></li><li>排除规则<ul><li>违反法律、行政法规、章程的提案</li><li>不属于股东会的职权范围</li></ul></li><li>具体程序<ul><li>股东大会召开前10天+书面提交</li><li>董事会2日内通知其他股东+提交股东会审议</li></ul></li></ul><h4 id="异议股东股份收购请求权">异议股东股份收购请求权</h4><p>投反对票的股东请求退出 - 有限公司 -连续五年不向股东分配利润：关系股东的核心利益 -公司合并、分立、转让主要财产的：冲击人合性、涉及公司运营根基 -有人说要看涉不涉及经营 -时间到了，股东会再次修改章程使公司存续：超出股东预期 -股份公司（非公开发行股份，这是闭锁性的，类似人合性） -连续五年：核心利益 - 转让主要财产：运营根基 - 决议修改：股东预期</p><p>控股股东滥用股东权利，严重损害公司或其他股东权利，其他股东可以要求收购其股权</p><p>公司回购的股票怎么处理？ - 转让 -减资：通过减资程序保护债权人，最终就注销了</p><h2 id="三公司资本制度概述">三、公司资本制度概述</h2><h3 id="公司资本的概念">公司资本的概念</h3><p>公司资本，是股东投资于公司，用于承担责任的财产 vs公司营运的财产：有些公司营运不用财产</p><ul><li>注册资本不同于投资总额、实缴出资额<ul><li>投资总额：银行借款也算投资总额，但是要还的。</li><li>注册资本仅存在于法人型的企业</li><li>取消注册资本最低限额及实缴制度，制度淡化（重视净资产）<ul><li>因为注册资本对于保障债权人利益没意义，亏完了就亏完了</li><li>净资产可以保障，取决于公司财产状况、商业发展前景、总体经济环境</li></ul></li></ul></li></ul><h3 id="各种资本制度分析">各种资本制度分析</h3><p><strong>法定资本制</strong> - 章程对资本总额明确规定，股东全部认足 -优点：防止公司设立欺诈、投机、保护交易安全 - 缺点：公司增资不方便</p><p><strong>授权资本制</strong> -章程对资本总额明确规定，不要求股东全部认足，未认购的部分，授权董事会发行新股募集- 优点：便于公司迅速成立；公司增资方便 -缺点：导致公司设立欺诈；债权人保障不力</p><p><strong>折中资本制</strong> -有的对授权发行资本的期限或数额加以限制； -有的在法定资本制基础上允许附条件增资</p><h3 id="我国资本制度的演变">我国资本制度的演变</h3><ul><li>1993年公司法——严格法定资本制<br></li><li>2005年公司法——严格法定资本制、缴付这种的法定资本制<br></li><li>2013年的公司法——认缴制的法定资本制（大多数）、实缴制的法定资本制（募集设立的股份公司、法律规定的公司如金融企业）<br>#### 资本三原则<br><strong>概述</strong></li><li>资本确定原则——公司设立时，明确的规定、全部认足<br></li><li>资本维持原则——公司存续中，应维持与其注册资本货实缴资本相当的财产（不能人为地侵蚀公司资本，如果正常经营产生亏损是可以的）<br></li><li>资本不变原则——公司存续中，公司资本不得随意变动（增资减资需要通过法定程序）</li></ul><p><strong>资本维持原则</strong><br>- （一）确保公司设立时股东出资充实 -出资要件：可估价性、可转让性（如用教育成本出资，就不算出资，因为不能估价和转让）<br>- 1、货币 -对现金流流动性要求强的公司，如金融公司（保险公司股权管理办法规定投资人必须用货币出资）- A.通过借代取得的货币出资（一般在增资的时候） -依靠自身能力借代的货币——没问题 -依靠公司担保借代的货币——影响公司稳定性，应当予以禁止（但法律未规定禁止）- B.非法货币出资<br>-民法上的非法——如股东挪用他人钱款出资，公司可以善意取得（可参照民法典）<br>-刑法上的非法——如用盗窃、抢劫的钱出资，赃物应予以追缴，但公司已经成立了，如果全部追缴不利于公司秩序的稳定，则一般通过股权拍卖（将非法出资的股权拍卖变卖，股权依然存在）的方式<br>- 2、股权出资 -A.本质：股权转让（出资要转让财产权，转让后被出资的公司是股东）<br>- B.特点：价值不稳 - C.条件： 1.由出资人合法持有并可以依法转让（如股权锁定期） 2.无权利瑕疵（如出资不到位）或权利负担（被冻结、查封、质押） 3.已履行关于股权转让的法定手续（如有限公司股权，其他股东已放弃优先购买权）4. 股权依法进行了价值评估<br>- D.禁止股权出资的情况<br>- 以股权向股权所属公司出资（防止虚增资本、自持股份） -母子公司之间以股权出资（防止虚增资本） -以股权与股权所属公司共同投资设立公司（防止虚增资本） -3、劳务、技艺以及商誉出资 - 4、债权出资 -A.理论、司法解释、规定层面<br>-之前规定在一定范围内允许债转股，现在《实施细则》规定放宽，债转股基本可以实现- 外债能否转股，需要关注敏感的公司 -4种敏感的公司：金融类公司、国有控股、上市公司、外商投资公司 - B.风险制评估：债务不履行、债务不存在、被抗辩等 -C.出资的条件：必须是货币债权、确定债券（不能附条件生效）、未到期债权（不然公司变成催债主体的）、无抵销抗辩权债权、限制债权出资比例- 5、土地使用权<br>- 只能出资土地使用权，而非所有权 - 不能是集体的，只能是国有的<br>-例外：《土地管理法》第60条规定“农村集体经济组织”以“建设用地兴办企业”，63条“集体经营性建设用地”可以出资-只能是出让的，不能是划拨的（划拨主要是用于公益目的，当时没有付钱，也没有付出任何代价，而公司是用于运营的。必须是当时付出了出让金，无偿的不行。）- 没有规定负担的（没有在银行设立抵押贷款） - 6、知识产权（趋向宽松） -立法方向：取消比例、扩大范围（取消了以前采用的“工业产权”一词） -知识产权因过期进入公有领域而产生贬损——因客观因素导致贬值，不用承担补足出资责任- 知识产权使用权能否出资：可以（见ppt）<br>- 7、非专利技术 - 立法变动：从列举到删除<br>- 财产转移：并无法律规定 - 出资风险：出于秘密状态 - 8、出资的缴付 -A.出资方式：交付或登记（股东代付竞买保证金也视为交付） -B.时间：财产变更登记可在公司成立后的一段时间办理（公司设立时，公司主体还没有存在，因此不动产出资只有在成立一段时间后才能进行变动）- C.期限：章程规定期限（目前还没有规定，二稿增加） - 例外： 1.加速到期，法院受理破产后，要求认缴出资不受出资期限的限制——破产法；法院穷尽执行措施无财产可执行，公司已具备破产原因但不申请破产；2.公司产生债务后，恶意延长出资期限——九民纪要（二稿：改为公司不能清偿到期债务→把公司法和破产法分开）<br>- 9、违反出资义务及其责任 -法定义务——源自公司的独立法人地位和股东有限责任（法律给予公司有限责任的特权，基础是要履行出资义务）- 约定义务——公司章程约定什么时候出资，出资多少，出资的义务是具体、明确的- A. 不缴纳出资的民事责任 - 违约责任：未缴纳出资股东对其他股东 -侵权责任（侵权之债）：未缴纳出资股东对公司（若公司怠于行使权利，其他股东可以提起股东代表诉讼；公司债权人可以提起债权人代位权诉讼）- 连带责任：发起人对公司承担——与出资相关的责任，而非违反出资义务 -既规范股份有限公司，又规范有限责任公司，有限责任公司设立时的股东全都是发起人- 补充赔偿责任：未缴纳出资股东对债权人<br>-例外：公司破产（公司一但破产，财产对所有债权人公平清偿，不能再个别清偿）；增资之前（增资之前已经产生的债权人，对增资后没有缴纳到位的出资没有合理信赖）-相应的责任（和过错成比例）：董事、高管在增资环节没有尽到勤勉义务，对债权人产生——与出资相关的责任，而非违反出资义务- B.出资不实的民事责任 -针对的是非货币财产，必须显著低于公司章程所定价额 -责任：补足差额（公司法修订一稿规定还要补足利息；二稿又删去，因为缴足了也不一定存在银行）-其他发起人承担连带责任（董监高也要履行勤勉义务，但当前法律没有规定其责任，因此修订二稿规定其也要负担连带责任）- 公司法30条评价分析 - C.虚假出资行为的责任 - 除了前面的以外 -行政责任：罚款 -刑事责任：虚假出资罪（只适用于实行实缴登记制的公司和对外募集资本的公司，如金融公司，责罚与社会危害性相符）- D.抽逃出资行为的民事责任 - 抽逃出资主要表现（司法解释明确列举的事项）- 制作虚假财报虚增利润进行分配 - 虚构债权债务将其出资转出 -利用关联交易将出资转出（操作复杂、查处困难） -其他未经法定程序将出资抽回的行为（兜底条款）<br>-形式1：把股权转让给没有经济实力的朋友，声称担心其支付不了对价，因此找公司为股权转让做担保；因为被转让人实际没有经济实力，因此公司必然要承担担保责任，把钱给转让人【公司为股东之间股权转让款提供担保】-形式2：将公司债权（公司财产）转让给他人，用来抵偿股东、实际控制人个人债务【用公司的财产（包括债权）为股东个人债务抵债，属于抽逃出资】- 形式3：与公司对赌的对赌协议可能构成抽逃出资 -抽逃出资的民事责任（可能出简答） - 对公司 -返还出资（一稿：并加算同期存款利息；二稿：删去→不能假设公司财产一定存银行，和公司的本质不相符）<br>-赔偿损失（可以包含利息，只要举证确实用于存银行；若公司经营受到影响造成损失，也属于此类）- 对公司债权人 -承担补充赔偿责任【如董监高有过错的（只要实施了协助，不论起作用大小），承担连带责任】- 第三人垫付后又抽逃出资的（见ppt） -E.股东未依法履行出资义务的权利限制【2023/11/17第二节课 回听】 - 权利限制- 丧失未缴出资的股权（包括表决权）<br>- 解除股东资格 - （对未履行出资）无时效抗辩权（出资责任不能消灭） -最高院发布的典型案例：（未履行出资义务）股东（对公司的）债权居次于其他债权——不能与其他债权人平等受偿——因为未履行出资业务导致公司经营受影响-未全面履行或未履行出资义务的股权，也可以用来做担保；只不过在拍卖时需要完成实缴- 限制违法分配利润 - 资本公积 - 股票溢价 - 法定财产重估增值 -接受捐赠的财产<br>-不是注册资本、也不是盈利，但是公司财产，不能随意转出去——为什么原来说不能用于弥补公司亏损，但后来改为允许用于弥补（一般用盈利弥补阔送，但资本公积金不是盈利，资本自己弥补自己没有意义；后来认为资本公积金不算在注册资本内，不会对债权人交易产生信赖或损害，因此可以用来弥补亏损；对上市公司而言，往往有大量资本公基金，可以在一定期限内大大缓解亏损压力）- 福利的对象是员工，不是股东；且福利的金额比较小，不可能是40万）<br>- 股票发行不得低于票面标准 - 禁止公司违法收购自己公司的股份 -规制公司的担保、捐赠以及转投资行为 - 规制财务资助行为【考试重点】</p><h3 id="公司组织机构模式">公司组织机构模式</h3><ul><li><p>股东会→监事会→董事会（双层制模式）</p></li><li><p>股东会→监事会、监事会（并列制）→（总经理）——我国</p></li><li><p>股东会→董事会（单层制模式）</p></li><li><p>我国模式</p><ul><li>配置审计委员会（公司法修订二稿调整）<br></li><li>任意配置</li><li>强制配置：国有独资公司、上市公司<br></li><li>3/2/1：至少有3个董事、半数以上独立董事、至少有一个懂财务</li></ul></li><li><p>公司治理结构的趋向</p><ul><li>股东会中心主义→董事会中心主义</li><li>原因：股东不喜欢参与，把权利下沉到董事会，达成所有权和经营权的分离</li><li>后果：董事会权力过大，出现代理成本问题（损害公司、股东利益）</li><li>观点：股东会丧失的不是地位，而是机能（本质还是股东会中心主义，形式是董事会中心主义）</li></ul></li></ul><h3 id="股东会">股东会</h3><h4 id="股东会组成">股东会组成</h4><ul><li>组成成员：全体股东<br></li><li>列席成员：董监高（非强制参加）</li></ul><h4 id="职权">职权</h4><ul><li>二稿删去“决定公司的经营方针于投资计划”，股东会不管经营，只决定公司重大问题（如解散、增资、合并、分立等）经营是董事会的职权</li><li>也删去“审议批准公司的年度财务预算方案、决算方案”，原因同上</li><li>修改公司章程——体现了公司自治的基本理念，也可以用来缩小董事会职权</li><li>另有一些条文分散在公司法中，如121条（买卖重大资产或提供大额担保）、16条（提供担保）、148条（交易冲突交易、同类业务）、142条（收购本公司股份）</li><li>【思考】如何区分股东会决议于股东协议：股东会作出宏观决定（如增资）——多数决，股东协议做细致落实（如具体谁来出资）——全体协商一致；<ul><li>区分要点：是否属于股东会职权，不属于职权范围，做出的股东会决议无效（滥用多数决，侵害部分股东权益）；若属于职权范围，属于公司内部治理范畴，不可诉讼解决，除非利用大股东地位滥用股东地位，导致公司不分配利润，给其他股东造成损失</li><li>关于分红的例外情况<ul><li>《证券法》分红规则——上市公司——保护小投资者利益——要求在公司章程明确如何分红，后续遇到问题应按章程规定（间接强制）</li><li>《保险法》分红机制——对偿付能力不足的保险公司，直接限制分红，保护投保人利益（限制分红）</li><li>《破产法》分红机制——破产重整期间，不得分红（绝对限制）</li></ul></li></ul></li></ul><h4 id="股东大会的召开">股东（大）会的召开</h4><ul><li>股东常会（一年至少一次）<br></li><li>股东大会（临时股东会）<ul><li>有限公司（3种情形）<ul><li>代表1/10以上表决权以上股东要求召开——提案权效果</li><li>股份公司（6种情形）<ul><li>“公司章程另有规定”——股份公司规模大，情况比较复杂，需要灵活的特殊安排</li></ul></li><li>股东会召开例外：股东书面一致同意 #### 股东（大）会的召集<br></li></ul></li></ul></li><li>召集通知：15日，目前不存在无记名股东</li><li>召集主体（法定替补顺序）</li></ul><h4 id="会议决议">会议决议</h4><p><strong>有限责任公司的决议规定</strong><br>- 2/3以上表决权（重大事项）<br>- 普通决议：公司法没有规定表决权通过比例（一般都过半数）</p><p><strong>股东有限公司的决议规则</strong> -2004公司法：半数以上——问题：包含半数——2013修订改为过半数 -普通决议过半数，特别决议2/3以上 - 必须采用2/3的情形 1.修改公司章程中优先股相关内容、发行优先股——出席会议的普通股、优先股股东所持表决权都需达到2/3以上2.上市公司一年内购买、出售重大资产或向他人提供担保，达到公司资产总额30%，需2/3以上表决通过3. 涉及上市公司破产重组、资产重组</p><h4 id="股东大会决议的无效和可撤销">股东（大）会决议的无效和可撤销</h4><ul><li>内容<ul><li>违反法律、行政法规→无效</li><li>违反公司章程→可撤销</li></ul></li><li>程序<ul><li>违反法律/行政法规/公司章程→可撤销（轻微瑕疵+对决议未产生实质性影响，则不可撤销）<br></li><li>严重瑕疵影响决议成立时→决议不成立<ul><li>未召开会议<br></li><li>会议未对决议事项进行表决<br></li><li>出席数不够</li><li>表决数不够<br></li></ul></li><li>决议不成立与可撤销的区别<ul><li>制度价值<ul><li>成立与否是事实判断，可撤销属于价值判断</li></ul></li><li>瑕疵程度<ul><li>决议不成一的程序瑕疵更严重</li></ul></li><li>瑕疵原因<ul><li>决议撤销除程序瑕疵外，还包括内容违反公司章程</li></ul></li></ul></li></ul></li><li>1、申请确认无效或不成立的主体<ul><li>利害关系人（公司股东（表决时没有提出异议，投了赞同票的除外）、董事、监事等（具有勤勉义务））</li><li>“等”为债权人针对公司的破产申请提出撤销留下了空间（不希望公司申请破产）</li></ul></li><li>2、决议被确认无效、撤销、不成立后的第三人保护<ul><li>善意相对人形成的民事法律关系不受影响。如违反法律法规的强制性规定，则不属于善意，不受保护。<br>### 董事、董事会<br>#### 概念、资格与种类<br></li></ul></li><li>资格：只规定了消极资格<ul><li>意识能力、道德品质（“执行期满”忽略了缓刑的情况，公司法二稿增加了“缓刑考验期满”；刑法上被剥夺政治权利只是不能担任国有企业高管，公司法却规定个人公司也不能担任，超越了刑法的规制范畴，而反了罪刑法定原则，《证券投资基金法》里就没有规定这条）、管理能力（忽略了监事，《破产法》、《证券基金投资法》中规定了监事）、合规意识（吊销营业执照、责令关闭和后面的吊销营业执照不对应）、经济状况（到期没有偿可能有原因，如抗辩时效、抵消权，应当加上“并且纳入失信名单”的补充条件）</li><li>对企业负有个人责任：违反忠实、勤勉义务</li></ul></li><li>种类<ul><li>内部董事、外部董事</li><li>全职董事、兼职董事</li><li>执行董事、非执行董事</li><li>独立董事、非独立董事</li><li>代表董事、非代表董事</li></ul></li></ul><h4 id="董事的权利义务和责任">董事的权利、义务和责任</h4><ul><li>权利<ul><li>一般董事：出席权、表决权……</li><li>代表董事：代表权</li></ul></li><li>董事的义务<ul><li>影子董事</li><li>忠实义务<ul><li>不得利用职权谋取不正当利益</li></ul></li><li>勤勉义务<ul><li>为公司最大利益尽到管理者通常应有的合理注意</li></ul></li></ul></li><li>独立董事制度必设制度——12/8<ul><li>概念</li><li>义务<ul><li>忠实与勤勉义务——赔偿责任非常巨大</li><li>尤其要关注中小股东的合法权益不受损害<ul><li>最多在3家上市公司兼任</li><li>连续2次未出席，且未委托其他股东代为出席的，解除</li></ul></li></ul></li></ul></li><li>特别职权<ul><li>独立聘请中介机构对上市公司具体事项进行审计、咨询或核查</li><li>提议召开董事会会议</li><li>向董事会提议召开临时股东大会</li><li>向股东征集股东权利（不只限于投票权，此处表示股东的其他权利也可以征集→如提案权，扩大了独立董事的职权，有利于发挥独立董事固有的职能）</li><li>对可能损害上市公司或者中小股东权益的事项独立发表意见</li></ul></li></ul><h4 id="董事会的职权">董事会的职权</h4><p>股东会可以授权董事会决议 - 发行公司债券 -提供财务资助（规模小于已发行股本总额的10%） - 决定发行股份 -三年不超过已发行股份的50% - 非货币财产出资除外</p><p>思考：签订董责任险合同的决定机关？ - 董责险保费的性质 - 任职报酬说 -董监报酬——股东会决定 - 经理报酬——董事会决定 -经营支出说（当前主流）——董事会决定 - 公司是最终获益者 - 上市公司不现实 -《上市公司治理准则》 -经股东大会批准，上市公司可以为董事购买责任保险……</p><h3 id="总经理">（总）经理</h3><p>是指董事会聘任的<strong>主持日常经营工作</strong>的公司负责人 -应该引入“事实高管”</p><p><strong>设置</strong> - 选设（有限公司） - 必设（股份公司）</p><p><strong>职权</strong> 董事会——决策权 经理——执行权</p><p>现行规定：根据公司章程的规定或董事会的授权行使职权。（取消经理职权的法定性）</p><p>关于公司法删除“经理法定职权”的评价 -股东会、董事会、监事会是保证公司作为独立法人进行行为的必需保障，须由公司法明确职权划分- 经理与董事会之间的委托关系，无需对其职权具体枚举，而是交由公司自治 -对于第三人来说： - 会增加交易成本与风险 - 对第三人课以更高的审查义务 -影响相关纠纷的举证责任分配 - 对于公司来说： -增加了代理成本（为避免越权代理） -章程与董事会决议在设定经理权限时需考虑的事项更多 -公司需更严格的明示授权程序或监管措施，如公示相关文件</p><p><strong>资格</strong> 监事不得兼任经理</p><h3 id="监事会">监事会</h3><h4 id="概述">概述</h4><p>董事会中心主义——权力扩张——权力滥用——监督制约股东会监督不现实——专门监督机构</p><p>监督：财务+董事高管（除了总经理，还有财务和上市公司董秘） -监督性职权 - 非监督性职权</p><p>突出问题：监事行使权力受阻时是否具有诉权？高院：不支持 - 公司法80-2 -董事、高管应当如实向监事会提供有关情况和资料，不得妨碍监事会或者监事行使职权</p><p><strong>监督实效评估</strong> - 组成上看 - 股东监事（资本的选择） -代表大股东利益 - 职工监事 - 与公司有劳动关系 - 职权上看 -专业经验不足/监督方式局限</p><p><strong>取消监事会的理由</strong> - 减少管理层级，决策高效灵活 -对其他监督机关的信任和强化 - 证券监管 - 税务机构 - 审计机构 - 内部审计 -独立董事</p><h3 id="审计委员会">审计委员会</h3><h4 id="组成与职权">组成与职权</h4><p>由董事组成 -股份公司：3董事+超半数为董事（包括独立董事、职工董事）</p><p>优势： - 人员更专业，懂行 - 审计委员会和董事会平级</p><p>针对上市公司 董事会决议的前置程序——审计委员会全体过半数通过 -聘用解聘公司审计业务的会计师事务所 - 聘任解聘财务负责人 -披露财务会计报告 - 证监机构规定的其他事项 涉及财务反面的人和事</p><h3 id="上市公司组织机构的特殊规定">上市公司组织机构的特殊规定</h3><h4 id="独立董事制度">独立董事制度</h4><ul><li>具体办法由国务院规定，具体管理方法由国务院证监机构规定</li></ul><h5 id="概念-3">概念</h5><ul><li>不在公司担任任何职务（除了董事）</li><li>与公司主要股东/实控人不存在直接或间接利害关系</li><li>不存在其他可能影响其独立客观判断的关系</li></ul><p>不独立： - 出身不独立 - 大股东选的 - 抚养不独立 - 公司给钱</p><h5 id="组成">组成</h5><p>上市公司应当建立/至少有三分之一独立董事（至少一名会计专业人士） -日本、欧洲国家比例更高，可以达到三分之二</p><h5 id="义务">义务</h5><ul><li>对上市公司及全体股东负忠实与勤勉义务<ul><li>最多三家兼任</li><li>连续2次未出席，解除</li></ul></li><li>尤其要关注中小股东合法权益不受损害</li><li>赔偿很大</li></ul><p>（第五章公司设立不讲） ## 六、有限责任公司的股权转让 ### 概说 ####股权转让基本原则 以自由转让为原则，以限制转让为例外 -财产权意味着自由转让 - 人合性公司 - 限制外部转让</p><h4 id="分类-1">分类</h4><ul><li><p>内部转让</p></li><li><p>外部转让</p><ul><li>优先购买权的适用</li></ul></li><li><p>向他人转让</p></li><li><p>向公司转让</p><ul><li>公司回购问题</li></ul></li><li><p>有偿转让</p><ul><li>显失公平</li><li>善意取得</li><li>优先购买权</li></ul></li><li><p>无偿转让</p></li><li><p>全部转让</p><ul><li>一人公司</li></ul></li><li><p>部分转让</p></li><li><p>控制权股权转让</p><ul><li>治理结构变化，监管部门批准</li></ul></li><li><p>非控制权股权转让</p></li><li><p>协议转让</p></li><li><p>非协议转让</p><ul><li>法律规定<ul><li>证券公司股东</li></ul></li><li>法院判决</li></ul></li></ul><h3 id="法律限制">法律限制</h3><h4 id="公司法对问题的修订">公司法对问题的修订</h4><p>在对外转让的情况下，其他股东同等条件优先购买 - 维护人合性 -其他股东资本对公司做了贡献</p><p>适用： - 股权继承情况 - 股东似了，不是转让 - 同等条件认定 -容易击破（加一个个性化的转让条件） - 权利行使期间 -多个层面（章程可以规定，通知规定，法律规定30日） - 部分优先购买 -例外限制（不能影响剩余股权的价格） - 股权捐赠情况 - 不予适用，但可以规避- 先捐赠第三人一点点，再对其转让剩余股权 - 分次转让 -股权代持（名字写你的，让哥们代持） - 设置排他性条件 - 阴阳合同</p><h4 id="公司章程对股权转让进行限制的效力">公司章程对股权转让进行限制的效力</h4><ul><li>人走股留</li><li>永远不得转让，股权继承除外<ul><li>限制股权转让自由，无效</li></ul></li><li>公司章程规定：向第三方转让，应取得其他股东一致同意<ul><li>如果为初始公司章程，可以</li><li>如果为修改后的章程，剥夺了少数反对股东的权益</li></ul></li></ul><p>判断路径 - 合理性 - 合法性 - 是否违法、违反公序良俗 - 公司章程类型 -初始章程 vs 修改章程</p><h4 id="特殊情况下的认定">特殊情况下的认定</h4><h5 id="侵犯优先购买权的股权转让行为之效力">侵犯优先购买权的股权转让行为之效力</h5><p>基本思路：区分合同效力与合同履行 -合同有效，但是无法履行，要承担违约责任</p><h2 id="七股份与债券">七、股份与债券</h2><h3 id="股份有限公司与股份">股份有限公司与股份</h3><h4 id="概说">概说</h4><p>略</p><ul><li>普通股<ul><li>无法满足多元化的投资需求</li><li>无法满足不同治理结构需求</li></ul></li><li>类别股<ul><li>有点特殊</li></ul><ol type="1"><li>优先/劣后分配利润或剩余财产</li><li>表决权<ol type="1"><li>选举/更换监事或审委会成员，类别股与普通股每股表决权相同</li></ol></li><li>转让须经公司同意等转让受限</li><li>国务院规定的其他类别股</li></ol><ul><li>保护中小股东权益</li><li>对于公司重大事项，也要参与表决</li></ul></li></ul><p>同股同权——同类股同权</p><ul><li>面额股<ul><li>对股东公平，体现在设立的时候。发行新股时无法准确反映新老股东地位</li><li>对债权人，无法反映公司时刻变化的财务状况</li><li>对公司，限制了发行价格，降低公司融资效率</li></ul></li><li>无面额股<ul><li>比例股票</li><li>份额股票</li><li>没有票面价值，但有账面价值</li><li>优点<ul><li>发行价格灵活，方便公司筹资，便于分割等</li></ul></li><li>缺点<ul><li>可能以极低价格发行股份，数量与实收资金观念上存在巨大偏差，给债权人带来困扰</li><li>应当将所得款项一半以上计入注册资本，剩余存入公积金</li></ul></li><li>实际上算：不真正无面额股</li></ul></li><li>区别核心：剥离货币符号</li></ul><h4 id="转让">转让</h4><p><strong>法律限制</strong> - 转让地点：证券交易场所，或者新三板 -不在规定场所转让，效力并无影响（只是一个管理性的规定）</p><p><strong>转让主体</strong> - 发起人：3年不能转让，变为不用管 -以前规定锁定3年：避免成为非法集资的手段，但是会降低积极性 - 现在不用：1. 现在公司基本是发行设立，很少募集设立 2. 不少由有限责任公司变更 3.对客观上需要发起人转让股份的情况造成障碍 - 重组、股权激励 -原始股股东，一年内不得转让 -董监高，任职期间，每年最多抛25%，上市后锁定一年，离职后锁定半年 -削减其“身份价值” - 锁定期内可以质押</p><ul><li>限制期内仍然转让，效力如何？<ul><li>合同有效，但是无法交付，不能履约</li><li>观点：对交易的否定性评价可以通过合同履行的规制实现，不必动辄否定合同的效力。</li></ul></li></ul><h4 id="股份的收购">股份的收购</h4><p><strong>股份收购 vs 股份购买请求权</strong> 股份收购 -公司主动找股东，有主观原因 股份购买请求权 -股东对决议有异议，要求公司把股份买回去，保障自身权利。公司是被动购买</p><h5 id="现行规定">现行规定</h5><p>公司不得收购本公司股份。 - 为了保护债权人利益 -把股东出资退还，降低了公司的偿债能力 - 例外： - 公司减资 -与其他公司合并 - 员工持股计划——有利于职工利益 -员工持股计划超过200人，也不属于公开发行 - 股权激励 ——调动优秀员工 -股东持异议要求收购（小股东利益） - 用于转换可转债转股（公司利益） -上市公司为了维护公司价值及股东权益所必需（上市公司利益和股东利益）</p><h2 id="第一章证券与证券市场概述">第一章、证券与证券市场概述</h2><h3 id="证券概念">证券概念</h3><p>证券是记载并代表特定权利的凭证。</p><p>风险性是证券最大的特点</p><h3 id="证券市场概述">证券市场概述</h3><h4 id="证券市场的分类">证券市场的分类</h4><p><strong>按照市场职能</strong> -发行市场（企业融资环节），一级市场、初级市场 -公司将股票、债券等证券出售投资者的市场：以筹集资金为目的首次出售给投资者- 交易市场，二级市场、次级市场、流通市场 -股票、债券等证券在不同的投资者之间买卖的市场</p><p><strong>按照交易组织形式</strong> - 场内交易市场 - 证券交易所市场 -集中交易 - 固定的交易场所 - 固定的交易时间 - 场外交易市场 - 柜台交易市场- 存在原因 - 交易所容量有限且上市条件严格 - 交易简便、灵活 - 不足 -信息不对称和操纵风险 - 透明度低，普通投资者难参与 - 第三市场 -原来在证交所上市的股票移到以场外进行交易而形成的市场 - 第四市场 -大机构绕开经纪人，彼此利用通信网络直接进行的证券交易 - 交易成本低 -可以保密 - 不冲击市场 - 信息灵敏、成交迅速</p><h4 id="证券市场参与者">证券市场参与者</h4><ul><li>发行人<ul><li>可能为上市公司，可能未上市</li><li>政府、金融机构、公司、其他企业<ul><li>政府发行证券不受证券法管</li></ul></li></ul></li><li>投资者<ul><li>个人、机构<ul><li>主要是培育机构投资者</li></ul></li></ul></li><li>中介机构<ul><li>证券服务机构<ul><li>律师、资产评估、会计、信用评级</li></ul></li><li>证券经营机构<ul><li>券商、证券公司<ul><li>承销</li><li>经纪</li><li>自营</li></ul></li></ul></li></ul></li><li>自律组织<ul><li>证交所</li><li>证券业协会</li></ul></li><li>监管机构<ul><li>证监会、证监局</li></ul></li></ul><h2 id="第二章证券法概述">第二章、证券法概述</h2><h3 id="证券法的内涵界定">证券法的内涵界定</h3><h4 id="证券法的概念">证券法的概念</h4><p>调整证券发行、交易、服务以及证券监管过程中所发生的各种社会关系的法律规范的总和</p><h4 id="证券法的宗旨和作用">证券法的宗旨和作用</h4><p>2019《证券法》第1条为了规范证券发行和交易行为，保护投资者的合法权益，维护社会经济秩序和社会公共利益，促进社会主义市场经济的发展，制定本法。</p><p>两大任务 - 如何让企业把证券发行出去 -如何让购买证券的投资者权益得到保护 - 证券欺诈发行回购、买回制度 -证券违法民事赔偿责任优先支付 - 控股人和实控人减持规则 - 分红不达标 -破发 - 破净 - 平准基金</p><h4 id="证券法的调整对象">证券法的调整对象</h4><p><strong>中国</strong> 1998证券法制定的争论： - 是否调整证券发行？ -调整证券的范围？ - 1998 - 股票、公司债券和国务院依法认定的其他证券 -2005 - 1998 - 政府债券、证券投资基金份额 - 证券衍生品种 -由国务院依照本法的原则规定 - 2019 - 1998+存托凭证 - 2005(2) -资产支持证券、资产管理产品 - 由国务院依照本法的原则规定 -意味着是准证券，否则就直接写“适用本法”了</p><ul><li>扩大证券概念<ul><li>有利于投资者保护</li><li>以及避免监管套利</li></ul></li><li>定义模式：列举 &amp; 概括式<ul><li>一读稿（草稿）：本法所称证券是指代表特定的财产权益，可以均分且可转让或者交易的凭证或者<strong>投资性合同</strong>。</li></ul></li></ul><h4 id="中国证券法调整的证券">中国证券法调整的证券</h4><p><strong>股票</strong> - 证权证券 - 有价证券 - 流通证券 - 要式证券 -风险证券</p><p><strong>债券</strong> 2019《证券法》 - 公司债券 - 发行和交易 -政府债券 - 上市交易</p><ul><li>债券市场<ul><li>银行间债券市场<ul><li>投资者：商业银行和非银金融</li><li>监管者：人行及银行间交易商协会</li><li>文件：系列管理办法</li></ul></li><li>交易所债券市场<ul><li>监管：证监会和沪深交易所</li><li>流动性：非常差，无法与上面匹配</li></ul></li></ul></li><li>证券法为什么不把债券统一？因为有人行和证监会监管，权力不方便让渡</li><li>立法变化：债券得到重视</li></ul><p><strong>存托凭证</strong>实质：上市公司的股票以凭证方式在另外交易所上市流通</p><p>好处： 1. 中国资本市场：加快国际化进程 2.投资者：拓宽投资渠道，优化投资组合 3. 中国的银行：增强业务及盈利能力</p><p><strong>证券投资基金份额</strong> - 发售基金份额 - 基金托管人托管 -基金管理人管理 - 投资于证券 - 组合投资</p><h3 id="证券法的基本原则">证券法的基本原则</h3><h4 id="三公原则">“三公”原则</h4><table><thead><tr class="header"><th></th><th>针对主体</th><th>基本要求（含义）</th></tr></thead><tbody><tr class="odd"><td>公开</td><td>发行证券的企业（包括其他主体）</td><td>真实、全面、及时、易得、易解</td></tr><tr class="even"><td>公平</td><td>证券市场全部参与人</td><td>责任、机会、权利义务等（实质公平）</td></tr><tr class="odd"><td>公正</td><td>证券监管机构</td><td>反欺诈、反操纵、反内幕交易</td></tr></tbody></table><p>信息披露：证券法 vs 行政法 - 公平原则 vs 知情权</p><h4 id="依法进行的原则">依法进行的原则</h4><p>证券的发行、交易活动，必须遵守法律、行政法规；禁止欺诈、内幕交易和操纵证券市场的行为</p><h4 id="分业经营分业管理原则">分业经营、分业管理原则</h4><p><strong>不足</strong> 1. 具有明显竞争抑制性 2. 缺乏优势互补 3.削弱了国际竞争</p><p>立法技术：留了混业经营的后路，国家另有规定的除外实践中，银行、证券、保险、信托混业经营越来越明显，银行、保险、信托通过各种形式深度介入证券市场</p><h2 id="第三章证券发行制度">第三章、证券发行制度</h2><p>证券发行 - 狭义：不含证券募集（只是把证券制作交付） -广义：包含证券募集</p><h3 id="证券发行的条件">证券发行的条件</h3><h4 id="首次公开发行新股且上市的条件">首次公开发行新股且上市的条件</h4><p>基本思路：不能太高也不能太低</p><p>2013证券法：要求较高，限定品质 - 持续盈利，财务状况良好 -无虚假记载，无其他重大违法行为 2019证券法：门槛降低 -持续经营，无保留意见审计报告 - 发行人及控股股东、实际控制人没刑事犯罪 -原因 - 注册制，不进行实质审查 - 降低门槛，让企业能融到资</p><p>2023首次公开发行股票注册管理办法 - 以信息披露为核心</p><ul><li>发行条件<ul><li>持续经营三年以上且有运行良好的组织机构（保证成长性、稳定性）</li><li>会计基础工作规范（财务数据）</li><li>业务完整且有独立持续经营能力（业务）</li><li>生产经营合法且合国家产业政策（例如教培、外贸等行业）</li><li>最近3年内发行人及控股股东、实控人不存在经济刑事犯罪或其他重大违法行为（要求管事的人）</li><li>董监高最近三年不存在受到行政处罚，或因立案侦察立案调查等情形（要求干事的人）</li></ul></li><li>上市条件</li></ul><h4 id="上市公司发行新股的条件">上市公司发行新股的条件</h4><h5 id="上市公司向不特定对象发行股票的条件">上市公司向不特定对象发行股票的条件</h5><ol type="1"><li>具备健全且运行良好的组织机构</li><li>董监高符合法律规定的任职要求</li><li>具有完整的业务体系合直接面向市场独立经营的能力</li><li>会计基础工作规范</li><li>最近一期末不存在金额较大的财务性投资（说明你不缺钱）（金融类企业除外）</li><li>主板上市公司配股、增发，最近3年盈利；增发还应满足近三年加权平均净资产收益率不低于6%</li><li>其他禁止性事项</li></ol><h5 id="上市公司向特定对象发行股票条件">上市公司向特定对象发行股票条件</h5><ul><li>特定对象<ul><li>符合股东大会决议，每次不超过35名</li></ul></li><li>发行条件<ul><li>发行价格不低于定价基准日20个交易日股票均价的80%（具有资金成本，促进定增的成功）</li><li>6或18个月内不得转让</li><li>募集资金使用符合规定</li></ul></li><li>禁止事项<ul><li>资金用途方面</li><li>财务报表编制和披露方面</li><li>董监高方面（公开谴责）</li><li>控股股东与实控人方面</li><li>上市公司自身行为方面</li></ul></li></ul><p>没有盈利要求，因为不影响公众，面向特定对象</p><p>思考： - 法理 - 情理 - 事实 - 实践</p><p>思考： 能否向发行对象做出保底保收益承诺，或者提供财务资助？ - 禁止 -原因：会产生溢出效应，给市场发出错误信号</p><h4 id="上市公司配股的条件">上市公司配股的条件</h4><p>概念区分 - 配股 - 全体股东 - 要除权，不利于中小股东 -发行价格不与二级市场价格挂钩 - 控股股东利用配股“低价”巩固控制权 - 增发 -不用除权 - 转股 - 公积金转成股票 - 送股 - 利润换成股票</p><p>配股条件 - 配股数量不超过股本总额的50% - 配股对中小股东不友好 -基于募集资金管理的考虑（不要搞太多钱，用不完也不会用） -控股股东应在股东会召开前公开承诺认配股份的数量 - 控股股东：监督和约束 -其他股东：做出决策</p><p>配股失败 - 控股股东不履行认配承诺（说明自己都不看好） -原股东认购数量未达到拟配售数量70%（倒逼股东合理设置配股价格）</p><h3 id="证券发行审核制度">证券发行审核制度</h3><h4 id="证券发行审核模式">证券发行审核模式</h4><p>两种模式 - 核准制 - 缺点：权力寻租 - 注册制 - 退一步：决定权 -进一步：监管 - IPO直接成本降低，间接成本增加</p><p>实质区别：谁对证券做投资价值判断 注册制核心：信息披露</p><h4 id="注册制的制度内容">注册制的制度内容</h4><p>证券公开发行 - 证券交易所审核 - 前端 - 证监会注册（可以否决） - 终端- 隐性审核权 - 中介机构 - 实质审核权</p><p>现在没有豁免注册</p><h2 id="第四章证券承销和保荐制度">第四章、证券承销和保荐制度</h2><h3 id="证券承销的概念与适用">证券承销的概念与适用</h3><p>间接发行 - 市场需求把握 - 证券销售专门知识 - 要有文件核查能力 -销售网络</p><p>2019：承销不是强制性要求 - 原因：从成本的角度考虑</p><p>2025：上市公司发行证券（增发），应当由证券公司承销 -原因：已经上市，有很多中小投资者，需要保护；专业机构卖得快，有利于企业募集资金- 提前确定全部发行对象的，可以由上市公司自行销售</p><h4 id="承销方式">承销方式</h4><ul><li>证券代销：委托代理<ul><li>卖多少是多少，卖不完再还回去</li><li>规模达不到70%，发行失败<ul><li>促使合理定价</li><li>保障募集目的实现</li></ul></li></ul></li><li>余额包销：先委托代理，后买卖</li><li>全额包销：买卖</li><li>承销团承销</li></ul><h3 id="证券承销商权利与义务的特殊规则">证券承销商权利与义务的特殊规则</h3><h4 id="超额配售选择权">超额配售选择权</h4><p>超额配售选择权，又称“绿鞋”</p><ul><li>发行人给主承销商授予选择权<ul><li>可按同一发行价格超额发售</li><li>然后可在市场上竞价购买？</li></ul></li></ul><h4 id="发行文件核查义务">发行文件核查义务</h4><p>承销不同于销售</p><p>2019证券法 证券公司承销证券 - 核查公开发行的募集文件 - 真实性 -准确性 - 完整性 -如果没能力独立核查，没要求，但是应该要请专业机构核查</p><p>未履行义务的责任： - 虚假记载 - 误导性陈述 - 重大遗漏</p><p>损失多少赔多少 - 有争议：主承销之外的其他承销商是否承担责任</p><p>发行文件核查要求（实质审查） - 依法对文件内容进行审慎尽职调查 - 法律- 行政法规 - 监管部门制定的规章和文件 - 行业执业规范 -无专业意见的内容：审慎尽职调查和独立判断 -有专业意见的内容：审慎核查和必要调查、复核</p><p>储架注册 - 通俗的说，一次注册，分多次发行 - 优点 - 提高融资效率 -解决过度融资 - 促进披露信息 - 缺点 - 削弱了承销商讨价还价的能力 -承销商尽职调查实践非常有限</p><h3 id="证券发行上市保荐制度">证券发行上市保荐制度</h3><h4 id="证券发行上市保荐制度概述">证券发行上市保荐制度概述</h4><p><strong>形成与发展</strong>起源于英国伦敦证券交易所的另类投资市场，后推广至主板市场。美国没有保荐制度，证券发行中发挥主要作用的是主承销商。中国2004年开始探索施行，2005年证券法修订</p><p><strong>我国保荐制度的确立</strong> - 最大特点：双重保荐 - 保荐机构 -保荐代表人 - 穿透到人原则 - 有学者建议取消</p><ul><li><p>涉及阶段</p><ul><li>推荐发行上市</li><li>上市后持续督导</li></ul></li><li><p>跟投比例制度：利益捆绑</p></li><li><p>适用范围</p><ul><li>公开发行股票，依法采取承销方式的<ul><li>排除私募</li><li>排除金融债</li></ul></li><li>公开发行可转债，依法采取承销方式的<ul><li>排除发行普通公司债券</li></ul></li><li>公开发行依法实行保荐制度的其他证券</li></ul></li></ul><h4 id="保荐机构的职责">保荐机构的职责</h4><p>发行人 vs 保荐机构 - 基于保荐合同，具有保证顺利发行的义务 -约定性、私益性 - 要付费，有可能袒护</p><p>投资者 vs 保荐机构 - 基于法律规定，具有保证信息真实的义务 -法定性、公益性</p><ul><li>尽职推荐</li><li>独立审慎核查<ul><li>全面调查，充分了解</li></ul></li><li>提交文件</li><li>承诺与担保<ul><li>只保证信息</li><li>不再担保证券品质</li></ul></li><li>配合核查</li><li>持续督导</li></ul><p><strong>核查义务</strong> -出具专业意见的内容（保荐人牵头责任模式，双重看门人制度） - 可以合理信赖- 保持职业怀疑 - 运用职业判断 - 存在重大异常 - 前后重大矛盾 -存在重大差异 - 调查复核 -重大事项方面，必须重复注册会计师等证券服务机构工作 - 无专业意见支持内容- 充分尽职调查 - 进行独立判断</p><p><strong>督导义务</strong> 实现对投资者利益的持续性保护</p><ul><li>香港地区已经取消，由“合规”顾问取代</li><li>督导义务的特殊性<ul><li>2019证券法：审慎核查，督导发行人规范运作</li><li>2023保荐业务管理办法：持续督导<ul><li>审阅</li><li>督导<ul><li>控制人、董监高、关联交易（财务顾问）</li></ul></li><li>持续关注<ul><li>募集资金、提供担保、发表意见（财务顾问）</li></ul></li></ul></li></ul></li><li>不同于核查<ul><li>持续督导，不需要核查报告中的财务数据<ul><li>勤勉义务</li></ul></li><li>效果有限<ul><li>动力不足</li><li>难以追踪<ul><li>事实上已经和上市公司松绑</li></ul></li></ul></li></ul></li></ul><h2 id="第五章-证券交易制度">第五章 证券交易制度</h2><h3 id="证券交易方式">证券交易方式</h3><h4 id="集中竞价">集中竞价</h4><p><strong>集合竞价</strong> 目的：确定开盘价和收盘价分类：开盘竞价和收盘竞价 规制：对虚假申报重点监控</p><p><strong>连续竞价</strong> 时间优先、价格优先</p><p>如果破发、破净、分红不达标，那么不得集中竞价交易减持。</p><h4 id="大宗交易">大宗交易</h4><p>单笔买卖交易，量很大 - 上交所：单笔30万股，或者金额200万</p><p>不纳入即时行情和指数计算</p><p>为什么要设立？ - 时间成本和资金成本都很大 -对二级市场股价造成冲击</p><p>大股东、原始股股东减持 - 证交所集中竞价交易减持 -3个月内减持总数不得超过公司股份总数1% - 大宗交易减持 -3个月内减持总数不得超过公司股份总数2%</p><p>可以低于现价20%卖出 - 允许折扣：量大从优 - 折扣限制：避免操纵市场</p><h4 id="做市交易">做市交易</h4><p>解决流动性的问题 在更窄的盘口挂单，但是并不会亏损</p><p>美国纽交所：为每只特定股票选择一个公司作为指定做市商指定做市商针对不同流动性的股票具有不同的义务要求</p><h3 id="证券持有和交易规则">证券持有和交易规则</h3><h4 id="限定期内禁止">限定期内禁止</h4><ul><li>《公司法》锁定期</li><li>《证券法》锁定期<ul><li>5%以上股东</li><li>实际控制人</li><li>董监高</li><li>首发前的原始股东</li><li>定增股东或战略股东<ul><li>是否应当区别对待VCPE公司？<ul><li>上市前溢价进入，承担了很大风险</li></ul></li></ul></li></ul></li><li>后果：买卖合同有效，但是没收违法所得，并处买卖证券等值以下的罚款（186条）</li></ul><p><strong>绕道减持</strong> - 离婚 - 法人或非法人组织终止 -公司分立</p><p>股份过出方、过入方，应当在股票过户后持续共同遵守关于大股东减持股份的规定</p><p><strong>“转融券卖出”问题</strong>战略配售的投资者，在承诺的持有期限内可以借出给证券金融公司，然后其融券给其他投资者做空，借出期限届满，证券金融公司再返还给战略投资者。</p><p>不合理：类比坐牢</p><h4 id="短线交易归入权制度">短线交易归入权制度</h4><p>持有5%以上的股东，董监高（及配偶、子女、父母、家人）</p><p>针对特殊身份、特殊地位 - 控制优势 - 信息优势不限制的话违反了证券法的公平原则</p><p>禁止买入后6个月卖出，或者卖出后6个月买入 - 收益归该公司所有</p><p>例外：（看持股目的是不是为了控制公司） -对于持股5%以上的股东，因包销购入售后剩余股票而持有5%以上 -证监会规定的其他情形 - 社保基金 - 公墓基金</p><p>买入股票时间如何认定？ - 批准时间 &amp; 过户时间（后者）买入是否仅限二级市场？ - 股份转让协议是否构成 买入时是否须有特定身份？ -一端说、两端说、折中说 - 买入/卖出时具有特定身份 -折中说：如果是董监高，一端说；如果是大股东，两端说主观动机是否影响认定？ - 很难认定， 所以没有要求</p><p>大股东减持股票，在6个月内再买入可转债，算短线交易 -2019年《证券法》：具有股权性质的证券</p><h2 id="第六章-信息披露制度">第六章 信息披露制度</h2><h3 id="概念与作用">概念与作用</h3><p><strong>作用</strong> - 合理形成发行与交易价格 - 维护投资者利益 -促进发行公司的管理 - 给证券监管部门提供便利</p><h3 id="基本要求">基本要求</h3><ul><li>真实性<ul><li>虚假记载</li></ul></li><li>准确性<ul><li>误导性披露</li></ul></li><li>完整性<ul><li>重大遗漏</li></ul></li><li>及时性<ul><li>上市公司突发事件，受政府信息发布行为的制约，信息披露具有特殊性。应当在政府正式发布信息后立即披露信息。</li></ul></li></ul><p>关于“同时性”问题 - 公平披露理念（绝对公平标准） -缺陷：减损证券分析师、机构投资者调研活动的原有功能 -2024《上交所上市规则》：同时披露重大信息</p><h3 id="持续信息披露制度">持续信息披露制度</h3><h4 id="定期报告">定期报告</h4><ul><li>年度报告<ul><li>可以作为证据，用于证明当事人主张的侵害知识产权赔偿数额</li></ul></li><li>中期报告</li><li>季度报告</li></ul><h4 id="临时报告">临时报告</h4><p>重大事件：可能对股票交易价格产生较大影响 - 向证监会、证交所报告 -立即 - 起因、状态、后果 - 向投资者公告</p><p>重大事件 vs 内幕交易用词 - 可能 vs 足以 - 较大影响 vs 重大影响</p><p>重大性 - 价格敏感性标准 vs 理性投资者标准 -欧盟：价格敏感标准：未公开信息可能对证券市场价格产生影响 -英国：价格敏感标准 -美国：理性投资者标准：足以改变理性股东投资决策信息组合的信息 -要看市场发达程度和法官的能力 - 中国2003：理性投资者标准 -中国2022：价格敏感性标准</p><p>重大事件 - 业务经营相关 - 经营范围重大变化 - 重大投资 - 重要合同 -重大担保 - 重大债务 - 重大亏损 - 生产环境重大变化 - 治理管理相关 -董监高变动 - 董监高无法履行职责 - 大股东变化 -增减资、合并、分立、解散、破产 - 涉法涉诉相关 - 重大诉讼、仲裁 -涉嫌违法犯罪</p><ul><li>裁量型事件、定量型事件、定性型事件</li></ul><p>预测性信息的披露（软信息） - 盈利预测披露 - 有助于投资者作出正确判断- 确信能对最近未来盈利作出切合实际的预测 -如果没法实现预测80%，公开作出解释并道歉 -如果没法实现预测50%，责令改正，谈话</p><ul><li>基本要求<ul><li>对影响业绩实现重要因素风险提示</li><li>编制基础合理</li><li>预测前提发生重大变化时，及时调整</li></ul></li></ul><h2 id="第八章-上市公司收购制度">第八章 上市公司收购制度</h2><h3 id="上市公司收购制度概述">上市公司收购制度概述</h3><p><strong>上市公司收购的概念</strong>收购者从目标公司股东那收购股份，<strong>目的是成为控股股东</strong></p><p>上市公司控制权衡量 - 持股50%以上 - 表决权超过30% -表决权能决定董事会半数以上成员选任 -表决权足以对股东大会决议产生重大影响（例如创始人） -表决权不用实际持有，可以通过一致行动人，看实际支配 -证监会认定的其他情形</p><p><strong>上市公司收购的法律特征</strong> 主体 - 一致行动人 -有消极资格限制（不能当收购人） - 负重大债务 - 重大违法行为 -证券失信行为 - 公司法情形</p><p>客体 - 有表决权的股份（优先股不算） - 投票权（甚至可以放弃收益权） -存托凭证</p><p>主观特征 - 并不涉及主观要素</p><p>客观特征 - 拥有权益的股份达到一定的比例 -包括未登记其名下，但是其可以实际支配表决权的股份</p><p>场所 - 理论上无限制 - 法律上要求在证券交易所</p><p><strong>立法目的与立法原则</strong> - 立法目的 - 无须关注收购者利益 -无须关注目标公司管理层的利益 - 关注如何保障目标公司的股东利益 - 立法原则- 目标公司股东平等待遇原则 -同种类的平等对待，不同种类的区别对待（特别表决权） -保护中小股东利益原则 - 收购要约条件，适用所有股东 - 充分披露原则</p><h3 id="持股预警披露制度">持股预警披露制度</h3><h4 id="概念-4">概念</h4><p>意义 - 股东作出投资决策 - 及时确定是否将要达到强制要约收购 -持股达到30%后，再收购要要约收购 - 防范内幕交易和操纵市场 -避免突发性收购对股东和管理层产生负面影响</p><h4 id="基本内容">基本内容</h4><p><strong>权益公开规则</strong>（5%规则）自己持有+共同持有，表决权股份达到5% - 报告监管、交易所 - 通知公司 -公告投资者 期间不得再行买卖</p><ul><li>适用领域<ul><li>不限于收购，也包含以投资收益为目的的持股变动</li></ul></li><li>适用股份<ul><li>有表决权股份（这是证券法新增的）</li></ul></li><li>交易方式<ul><li>行政划转、法院执行、继承、赠与等不受此限制</li><li>主要针对主观购买的</li></ul></li><li>违反后果<ul><li>交易行为效力：有效</li><li>但是限制超过比例部分表决权36个月，原有的没事</li></ul></li><li>例外规定<ul><li>机构投资者（公募基金、社保基金等）</li><li>目的不是为了控制公司</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>2025SG</category>
      
    </categories>
    
    
    <tags>
      
      <tag>课程笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>望远簿</title>
    <link href="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/"/>
    <url>/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/</url>
    
    <content type="html"><![CDATA[<p>自行整理的一些经济金融事件。 <span id="more"></span></p><h2 id="section">2022</h2><h3 id="英国养老金危机">英国养老金危机</h3><h4 id="摘要">摘要</h4><p>美联储加息、英国“迷你预算案”导致利率升高，引发英国养老基金被迫变卖国债偿付保证金，引发债市动荡。<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/50fd577587d0ff5cb755096d4a54e22.jpg" alt="金边债与英镑市场动荡"></p><h4 id="详细内容">详细内容</h4><p>英国是世界上最早建立现代化社会保障制度的国家之一，其养老金体系由三大支柱组成，基本养老金（59%）、职业养老金（35%）、个人养老金（6%）。其中，职业养老金又分两种类型——DB计划与DC计划。这次危机事件主要涉及的是<strong>DB计划</strong>的养老金。</p><blockquote><p>DB计划（DefinedBenefit，收益确定型）。退休后每月发放一定数额退休金，旱涝保收。占职业养老金的绝大多数，2021年底约1.8万亿英镑。</p><p>DC计划（DefinedContribution，缴费确定型）。账户的市值随行就市，退休后的领取额取决于投资的成功与否、收益状况。</p></blockquote><p>从政府的角度，DB计划未来支出确定的现金流，相当于发行了一笔固定收益证券。所以，DB型养老金的管理通常采用<strong>LDI策略</strong>来匹配资产和负债。</p><blockquote><p>LDI策略（负债驱动策略，Liability-DrivenInvestment）。根据负债端的现金流支出决定资产端的投资策略。LDI备受推崇，2021年，通过LDI策略对冲的债务总规模达到近1.6万亿英镑。相比之下，英国国债市场规模约为2.3万亿英镑。</p></blockquote><p>DB型养老金的久期很长，平均久期为20年。匹配长期负债风险最靠谱的是长期国债，特别是与通胀挂钩的国债。<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/96615ea226d0d6b9a7f70b05bd76c5a.jpg" alt="英国DB计划养老金按负债久期划分的资产价值">但是，虽然国债能够匹配长久期要求，但是收益率偏低，无法满足养老基金对回报率的要求。使用衍生品可以同时解决久期和收益率的问题，代价就是更多的风险敞口。<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/db69ae2090bd2e7db646492d45c5c28.png" alt="养老金计划常用的互换">DB型养老金的LDI策略使用了<strong>IRS</strong>，这是这次危机的主角。</p><blockquote><p>IRS（Interest rateswaps，利率互换），交易双方约定，在未来一段时间内，彼此交换利率不一致造成的现金流差异（本金不发生移转）。在同样的本金下，一方支付固定利率，一方支付浮动利率。</p><p>英国的DB养老基金配置IRS方向为：收取固定利率，支付浮动利率。2019年，英国约有62%的大型养老金存在IRS风险敞口。<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/500b172167b2136d998014e7a6ddabd.png" alt="英国养老金衍生品使用比例和杠杆率情况"></p><p>IRS可以保持极高的资金利用效率。前期只需缴纳少量抵押品，就可以获得足够久期敞口。节约下来的资金可以配置更高收益的资产。例：某养老金产品计划30年后有一笔100元的固定支出，期间平均年利率预期为4%，因此现值为31元。该养老金计划可以：1.将31元投资于30年期债券；2.与对手方达成一个本金为31元、固定利率为4%的30年期IRS合约。假设IRS合约保证金为10%，则只需占用3.1元资金就能覆盖等价31元债券的现金价值（即30年后的支付敞口），剩余27.9元便可用于投资高收益资产。</p><p>IRS在两种情况下需要额外追加保证金或抵押物：1. 当IRS合约价值为负时；2.当负债价值缩水时，杠杆率自动升高，需要保持杠杆率。续上例：假设由于宏观环境变化，未来30年预期利率下降1%，为3%。那么，负债现值变为41元。若持有长期债券，则债券价格也相应上涨为41元。若持有互换，未来预期支付金额减少，但是收到金额不变，因此互换价值上涨。即：养老金计划以31元为本金支付每年3%利息（30年后为75元），但是收取4%（30年后为100元）。所以，30年后差额为25元，按3%折现为10元。反之，若利率上升，则IRS亏损，亏损到一定程度需要补保证金。</p></blockquote><p>2022年，通胀飙升，美联储加息，全球利率大幅上行，10年期英国国债收益率从1%上升至4.5%。同时，英国政府推出<strong>“迷你预算案”（mini-budget）</strong>，导致英国金融市场巨震，汇率大跌，国债收益率大幅上扬，股票富时100指数大幅下挫，股债汇三杀。</p><blockquote><p>英国新首相Liz Truss上台推出两项合计950亿英镑计划。 1.2022年9月21日，公布400亿英镑紧急援助计划，为企业的天然气和电力能源批发价格设定上限，以帮助英国企业在能源价格飙升之际度过危机。2.2022年9月23日，在英国央行宣布加息50BP第二天，公布自1972年以来最激进、价值450亿英镑、需要政府举债720亿英镑的“历史性”一揽子新增长计划（mini-budget，又称迷你预算），并制定了2.5%的趋势经济增长目标。同日，新任财政部长Kwasi Kwarteng公布相关细节： 1.取消将公司税率最高提至25%的计划，继续将税率稳定在19%的水平上，以鼓励企业加大投资、创造就业。2.自2023年4月起将英国个人所得税基本税率下调至19%，比原计划提前一年。此举预计将使得得3100万人的平均年收入增加170英镑。3. 对年收入超过15万英镑职工征收的所得税的最高税率从45%下调至40%。 4.取消国民保险税1.25%的增幅以及通过大幅削减印花税、增加剩余政府土地的处置等方式支持购房者。5.加大基础设施建设、设立新的投资区、取消银行家奖金上限、发布游客退税方案、通过能源补贴缓解能源支出压力以及消酒类税收上调计划等等。</p></blockquote><p>利率飙升，造成IRS价值迅速亏损，导致英国养老金面临<strong>流动性危机</strong>（官方强调，而非偿付能力危机。解决方案应侧重于流动性提供、稳定市场情绪和去杠杆化）。但是，为了补缴保证金和抵押品，LDI养老金开始抛售各类资产，又进一步加速了利率上升，进入<strong>抵押品抛售——资产价格下跌，市场风险偏好下滑——国内外资金加速撤出——保证金压力倍数上升</strong>的“末日循环”。</p><blockquote><p>英国国债价值变动通过LDI基金影响养老金基金。（图片中LDI基金2倍杠杆的负债端上方应为回购借款）<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/ddbaaa6c747287745dd0fab52a31b57.png" alt="英国国债价值变动通过LDI基金影响养老金基金。">在这个简化的例子中，图的左侧展示了在英国国债波动前，LDI基金运行的赤字情况。养老金基金通过持有成长型资产以提高回报率，并且通过投资LDI基金来提高英国国债的持有量（该LDI基金中有一半的英国国债是通过回购借款所取得）。<strong>缓冲区间（负债端的资产）</strong>就是英国国债持有量的一半，即是其通过非杠杆资产所购买。</p><p>图的右半部分展示了英国国债收益率上升（即国债价格下跌）后的情况。在此例中，随着英国国债价格下跌，LDI基金的缓冲区间被严重破坏，如果国债价格继续下跌（超过50%），缓冲区间将会被完全破坏，LDI基金的资产净值将会归零，并且导致回购借款的违约。后果就是银行交易的对手方将会获得英国国债的所有权。LDI基金的缓冲区间被破坏将导致其要么出售部分持有的英国国债，要么让其养老金投资者提供额外的资金以再平衡缓冲区间。</p></blockquote><p>最后，英国政府和央行采取相应措施： <img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/fe8486d40ba41d32ae36e250c15a7f8.png" alt="英国政府和央行的相应措施"></p><p>结果：危机暂时稳定，但是仍然<strong>治标不治本</strong>。DB养老金资产约缩减至1.5万亿英镑，之前市场预测金边债券和通胀挂钩债投资组合的杠杆率平均为4倍，危机后已降至1.5倍至3倍之间。与LDI相关的衍生工具头寸的市值损失可能在1250亿英镑至1500亿英镑之间。<img src="/2025/02/19/%E6%9C%9B%E8%BF%9C%E7%B0%BF/bbf010c9f8458e29401134142e0c16e.png" alt="英国DB养老金资产负债变化"></p><blockquote><p>短期看，英国政府的财政刺激“撤回”和英国央行“暂时性QE”可以修复债券市场流动性，稳定资产价格，避免债券市场流动性危机演化为债务危机甚至全面金融危机。中长期看： 1.英国央行临时性QE与加息互相矛盾，市场对于中央银行政策倾向的预期更为困惑。英国市场动荡与流动性枯竭是无序财政刺激的结果，随后英国央行为维护市场流动性进行“临时性QE”，相当于中央银行为财政扩张的负面影响“兜底”，央行信誉降低与通胀失控的风险可能进一步抬升。2.虽然财政大臣亨特撤回财政刺激受到市场欢迎，但英国远未摆脱困境，高通胀和衰退都将进一步分裂，经济和金融仍然处于非常不稳状态。3.除英国央行外，保险与养老金、外资也是英国国债主要持有者，若外资抛售潮趋于恶化，英国央行或难以完全应对。4.LDI需要战略性解决暴露的流动性缺口。短期内是通过抛售金边债来回笼约100亿英镑的流动性，但中长期会更倾向于抛售公司债券、ABS、CLO等资产。因为其市场流动性远远低于英国国债市场，如果LDI想要结构性地增加其流动性，未来他们可能会持有更多的英国国债，而不是公司债券等半流动资产，并使用更少的杠杆。这可能影响对ABS、CLO（欧美担保贷款凭证）和类似短期浮动利率信贷产品以及公司债券的需求，甚至长期的非流动信贷头寸（如贷款和私人信贷）。但其实英国养老金抛售CLO已经蔓延至大洋彼岸的美国CLO市场。</p></blockquote><h4 id="参考资料">参考资料</h4><ul><li><a href="https://zhuanlan.zhihu.com/p/579950238">英国养老金风波：危机解除还是持续酝酿？|金融小百科 - 知乎</a></li><li><a href="https://www.sohu.com/a/595102440_530597">英国养老金困局事件探究_基金_计划_支出</a></li><li><a href="https://wallstreetcn.com/articles/3672945">详解英国养老金危机的“罪魁祸首”：LDI- 华尔街见闻</a></li><li><a href="https://www.sohu.com/a/593361706_313170">英国：养老金之殇_投资_基金_负债</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>金融学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>专题整理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025.02.15 关于理想（二）</title>
    <link href="/2025/02/15/%E5%85%B3%E4%BA%8E%E7%90%86%E6%83%B3%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <url>/2025/02/15/%E5%85%B3%E4%BA%8E%E7%90%86%E6%83%B3%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>其实想说的还谈不上理想，但是为了不让《关于理想（一）》太孤单，还是起了这样的名字。</p><span id="more"></span><p>今天结束寒假回归宿舍。好像每次都是学期初喜欢写博客，然后逐渐废弃，已见怪不怪。在路上，突然想到一个点：现在还能不能找到一个国家或者地区，类似于改革开放初期的中国，千禧年附近的上海或者深圳。如果可以的话，那么毕业后选择过去发展，结果会如何。</p><p>出发的根本逻辑是“在风口上，猪都能飞起来”。能想到这个点，有一个原因是父亲前几天闲聊时说今年是他来到上海的第三十年了。我看着他滔滔不绝地说着三十年前的三月份的某一天（具体哪天我忘了），他来到上海的情景，听得津津有味。其实我也有过这样的一种想法，如《平凡的世界》中所说，自己去到某个地方，面对人生地不熟和一切未知的挑战，从头开始奋斗，孤身一人或者和伴侣一起，想必是非常痛快。</p><p>自然地，那么去哪呢？我又想到前几天在油管上看了一部关于“走线”的纪录片，讲的是一些各种各样的中国人通过“走线”非法移民至美国的故事。片子自然是拍的污名化，但是对各个角色还是触动很深，他们各自有各自的考虑，也有各自的生活和命运。对我而言，我肯定不会走线去美国，问题就是现在去美国还合适吗？我想了想，莫名感觉不大行。因为我总感觉这些国家已经得到了较大的发展，机遇不能说没有，但是我朴素地认为相对较少，相对较难，相对较小。</p><p>又一个自然地，就想到应当去那些正在飞速发展初期，或者即将开始飞速发展的国家和地区。这就像改革开放初期的中国，或者什么时期的发达国家，whatever。你去投资，去创业，去买房，去扎根，在几十年后，自发被动地能够获得较多的回报，实现比较好的状态。这是好的。问题是怎么确定哪些国家和地区在飞速发展初期，或者即将开始飞速发展呢？得了解政策，理解时代。这就要求我开始关注全球的政策，必须得开始胸怀天下。而且还得开始关注历史，总结历史的经验。历史真的是无穷的宝库。</p><p>政策是关键因素吗，肯定是，但是也肯定不唯一，这都是套路。具体要看什么，还得具体看。父亲提了一个印度，从数据上看，我之前似乎也听说过印度经济发展增速很快，或许印度确实是值得考虑的一点。但是对印度的偏见还是存在：卫生问题，人口问题，种姓制度问题。我说了非洲，这倒是和我高中时想去非洲的想法对上了，但是非洲是不是正在处于发展起飞阶段，还是只是在跑道上滑行，这个我更倾向于后者。而且非洲也有偏见：安全问题，气候问题。父亲又提了一个台湾，他的观点是台湾在未来将被收复，收复后可能会出现较大政策扶持。台湾我不了解，但我想不出什么坏处，我很想去台湾旅游看看，其实我哪都想去旅游看看。我否定了一些欧美发达国家，因为我觉得这个机遇应该出现在发展中国家，提了一个巴基斯坦，仅因为新闻中经常看到，和中国关系不错，有可能在未来会迅速发展。父亲最后说西部地区在未来也会发展，但我认为在国内还是不好说，太卷了，但西部地区会不会没那么卷呢？</p><p>这些思考还是基于我的不了解。不了解的评论就是瞎猜。所以当务之急是开始了解下，开始行动很重要。</p><p>也没啥好写的，就这样吧。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.11.17 关于理想（一）</title>
    <link href="/2024/11/17/%E5%85%B3%E4%BA%8E%E7%90%86%E6%83%B3%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2024/11/17/%E5%85%B3%E4%BA%8E%E7%90%86%E6%83%B3%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>评价一类理想。 <span id="more"></span></p><p>又有好久没写日记了，最近在沉迷三角洲行动，虽然作业和课程压力很大。</p><p>我知道关于理想我的思考肯定不会局限于这一篇，所以我在标题中加了序号。</p><p>很多人说自己的理想，或者人生目标，或者最大的愿望，是挣很多的钱。设想这样一个情境：你拥有足够多的钱，但是生活在一个没有人的世界里，所有的工作与服务都由机器人提供，不会对你的生活质量产生任何影响。在这样的世界里，你能够得到身体上的满足，但是我断言你不会感到满意，因为你没法从其他人那里得到尊敬和认可——这个世界上除了你没有其他人。</p><p>同样，有些人的理想就是为了拿到某个奖项，得到某项荣誉。但是，如果完全没有人和你竞争，你自然就是最厉害的，但你也无法满意；如果你自己自封为王，没有人知晓或认可，你同样也无法满意。</p><p>所以我说，这些人，或者说有一种人吧，他们的理想其实是关于获得他人的尽可能多正认可。这句话值得细细分析。首先，为什么说是认可，因为当你得到他人的喜爱的时候你会感到满意，得到他人的羡慕，甚至是嫉妒恨的时候，你也会感到满意，理想就是一个你追求的让你满意的东西，因为在实现理想后你彻底地满意，随之能动性就会死亡，遑论生命了。喜爱、羡慕、嫉妒，还有其它类似的词，其本质我认为是认可。先认为你确实做到了某件事，抑或认为你确实拥有某个物，然后才有对你的尊重、喜爱、羡慕、嫉妒，才能进一步让你满意。否则，如果我根本没听说过你，或者我不认可你的成就，那么你就不会从我这得到满意。其次，他人有认可，肯定也有不认可。没有什么东西是绝对能受所有人认可的，即使是上帝也不例外。所以，这种人追求的应该是尽可能正的认可。那么这个正，应该如何衡量？我认为就是体现出正认可的人数与体现出负认可的人数之差。可能有些人十分认可你，也有些人勉强认可你，也有些人认为你完全不配，这些都体现出对你的认可，所以我认为这些人与人之间的正负认可是平等的。所谓十分认可和勉强认可，只是个体内正认可与负认可含量的大小。需要注意的是，负认可也是认可，并非不认可。</p><p>这就解释了这种理想带来的竞争关系：我想挣比你更多的钱，不是为了钱或者财富本身，而是为了得到更多的正认可。我想拿到世界冠军，或者获得什么奖项荣誉，也是为了得到更多正认可。但是得到正认可的途径不只有这些路。最简单的得到认可的方法就是帮助他人了。在帮助他人的过程中，自动实现了认可的存在性，因为如果他人都不认可你的帮助，那就没有帮助一说了。从这个角度看，大部分人的理想都统一了，只是路径不同罢了。而且从这个角度，好像利他是比利己更有利于实现理想的方式。</p><p>（为了实现提升文笔——至少不倒退——的作用，在正文中应该尽量减少口语化和自言自语的内容……尽量</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>量化交易初探</title>
    <link href="/2024/11/03/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E5%88%9D%E6%8E%A2/"/>
    <url>/2024/11/03/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<p>本文为讲座笔记，分享者为MS。干货满满。 <span id="more"></span></p><h2 id="股票量化交易">股票量化交易</h2><h3 id="什么是量化交易">什么是量化交易</h3><ul><li>通过分析<strong>历史</strong>数据，寻找规律</li><li>依赖于统计模型和计算机、AI</li><li>程序自动决策，自动下单交易</li><li>大量交易、利用大数定律盈利</li></ul><h3 id="量化历史">量化历史</h3><ul><li>萌芽与起步（1960s）<ul><li>Edward O. Thorp</li><li>Stephen Ross</li></ul></li><li>成长与繁荣（1980s）<ul><li>一些老牌美国量化公司</li></ul></li><li>逐渐成熟（21世纪）<ul><li>AUM占对冲基金行业三分之一</li><li>占美股市值9%</li><li>算法交易成交额占比75%</li></ul></li></ul><p>国内量化发展 - 量化1.0（2010—2015） - 市场风格明显 - 股指期货对冲 -量化2.0（2016—2019） - 高频涌现 - 量价为主，复杂模型登场 - 量化四大金刚- 量化3.0（2020—2023） - 策略体系逐渐成熟 - 行业竞争升温 -23年达到万亿，24年下降</p><h3 id="量化-vs-主观">量化 vs 主观</h3><ul><li><p>计算机决策 vs 投资经理</p></li><li><p>历史数据挖掘统计规律 vs 逻辑推理</p></li><li><p>交易频率、广度高 vs 交易慢、数量少</p></li><li><p>持仓时间短 vs 长</p></li><li><p>每笔交易胜率低（50.5%~53%） vs 优秀投资经理胜率高</p></li><li><p>客观性 vs 易受情绪干扰</p></li><li><p>对数据依赖较高（统计显著性） vs 低</p></li><li><p>严重依赖历史，无法快速应对根本性的变化 vs灵活性高，对突发事件、黑天鹅事件进行演绎推理</p></li><li><p>收益相对稳定、风险较小 vs 收益波动较大、风险较高</p></li><li><p>回报上限低 vs 回报上限高</p></li><li><p>投资经理压力较小 vs 投资经理压力较大</p></li></ul><h3 id="量化策略分类">量化策略分类</h3><h4 id="按频率">按频率</h4><ul><li>低频（持仓&gt;5d）<ul><li>基本面量化策略、选股策略</li><li>2 sigma，Citadel LLC，Millennium</li></ul></li><li>中低频（持仓1~5d）<ul><li>绝大多数股票量化产品，期货CTA</li><li>中小私募</li></ul></li><li>中频（持仓hours~1d）<ul><li>股票T0策略，中频CTA</li></ul></li><li>中高频（持仓&lt;1h）<ul><li>股票T0</li></ul></li><li>高频（延迟~1ms）<ul><li>自营为主</li><li>Jane Street、Tower Research</li></ul></li><li>超高频（延迟&lt;1微秒）<ul><li>做市商或自营</li><li>HRT、Jump Trading、Citadel Securities</li></ul></li></ul><p>低频 vs 高频 - 样本点少 vs 多 - 使用各类量价和另类数据 vs（基本）只使用高频量价数据 - 更依赖于预测模型 vs 更依赖于 IT infra -收益低、不稳定 vs 收益高、稳定 - 容量大 vs 容量小 - 适用于资管资金 vs适用于自营资金 - 监管风险小 vs 监管风险大</p><h3 id="股票量化产品分类">股票量化产品分类</h3><ul><li>指数增强<ul><li>选一个基准线，目的是超过基准线的超额收益</li><li>目的是优化超额收益</li></ul></li><li>市场中性<ul><li>对标指数，拿出一些资金做空对应股指期货</li></ul></li><li>股票多头<ul><li>没有基准，啥都买</li></ul></li><li>股票T0、混合策略、事件驱动etc</li><li>海外：<ul><li>130/30、绝对收益、纯中性产品</li></ul></li></ul><h2 id="多因子模型">多因子模型</h2><h4 id="框架">框架</h4><p>data -&gt; alphas -&gt; combine -&gt; optimizer -&gt; execution</p><p>alpha 是对市场有预测能力的向量、因子</p><p><span class="math inline">\(R^{n\timesm}\)</span>：n为股票数目，m为alpha个数 <span class="math inline">\(R^n\)</span>：把m合并成一个向量 <span class="math inline">\(\pmbZ^n\)</span>：优化器把连续的向量变成离散的向量（为了交易）</p><p>execution：作用，帮忙拆单，防止影响市场</p><h4 id="data">data</h4><ul><li>price</li><li>volume</li><li>fundamentals</li><li>news</li><li>...</li></ul><h4 id="alphas">alphas</h4><p>alpha分两类：公式化 vs 机器学习，为了能预测未来的回报率（研究员）##### 公式化alpha因子 101 Formulaic Alphas，Zura Kakushadze</p><ul><li>又叫线性因子、手写因子</li><li>直观，可解释性强</li><li>过拟合少</li><li>容易去相关</li><li>预测能力差</li><li>人力密集型</li></ul><h5 id="机器学习因子">机器学习因子</h5><p>ML因子、非线性因子（针对特征而言） 通过机器学习模型预测回报率 -线性模型 - 神经网络 - 树模型 - 统计模型</p><ul><li>分类<ul><li>原始输入：模型输入为原始数据（端到端），如开高低收</li><li>特征输入：模型输入为特征，如MA、std等</li><li>金融数据信噪比非常低，所以端到端输入真的有效吗？会过拟合到噪音<ul><li>vs 常见AI场景：信噪比高</li></ul></li></ul></li><li>容易过拟合</li><li>不直观、难以理解</li><li>预测能力更强</li><li>智力密集型</li></ul><h5 id="另类因子">另类因子</h5><ul><li>另类数据</li><li>另类构造<ul><li>事件型稀疏因子</li><li>signal shaping</li></ul></li></ul><h5 id="预测能力">预测能力</h5><ul><li>alpha和回报率r的相关性？<ul><li>corr：1%~5%</li></ul></li><li>长周期回报率 vs 短周期回报率，哪个容易预测？<ul><li>小于5天，越短周期越好预测</li><li>大于5天，越长周期越好预测</li></ul></li><li>小股票 vs 大股票，哪个容易预测？<ul><li>小股票容易预测（市值小、流动性差）<ul><li>收益有限，竞争小</li></ul></li></ul></li><li>A股 vs 美股，哪个容易预测？<ul><li>A股<ul><li>国外投资者入资有限</li><li>散户多，结构性机会</li></ul></li></ul></li><li>A股上涨 vs 下跌，哪个容易预测？<ul><li>下跌<ul><li>因为无法做空</li></ul></li></ul></li></ul><h4 id="combine">combine</h4><p>因子组合（基金经理） - 把多个因子（预测）组合成一个聚合因子 -idea聚合 - 理想情况下idea不相关 - 聚合因子 - 预测能力更强，更稳定 -线性、非线性</p><h4 id="optimizer">optimizer</h4><p>最重要！</p><h5 id="优化器基础">优化器基础</h5><ul><li>Markovitz</li><li>假设<ul><li>风险定义为方差</li><li>投资人风险厌恶</li><li>希望最大化效用期望</li></ul></li><li>均值—方差优化<ul><li><span class="math inline">\(\max_{w}\Sigma_i w_i E[R_i]-\lambdaw^T\Sigma w\)</span></li><li><span class="math inline">\(\lambda\)</span>风险厌恶系数</li></ul></li></ul><h5 id="实际的优化器">实际的优化器</h5><p>Risk Model: <span class="math inline">\(\Sigma=F^T\Sigma_FF+\Sigma_\epsilon\)</span></p><p>optimize <span class="math display">\[\max_{\Delta p} \alpha^T\Deltap-\lambda\cfrac{1}{2}(p_0+\Delta p)^T\Sigma(p_0+\Delta p)-\mu TC(\Deltap)\]</span> - p是仓位，Δp是仓位变化 - alpha是收益率，<span class="math inline">\(\alpha^T\Delta p\)</span>是预期收益 -中间的二次型：收益的方差 - TC是Market impact model -印花税、交易佣金等，是Δp的线性函数 - 冲击成本（marketimpact）Δp的1.5次或2次函数</p><p>s.t. - position limit - trading volume constraints - factorexposure</p><h6 id="协方差矩阵sigma">协方差矩阵<span class="math inline">\(\Sigma\)</span></h6><ul><li>对角线：股票回报率的方差</li><li>其他位置：两个股票回报率之间的协方差</li><li>如何估计（也有数据商提供，比如barra）<ul><li>直接估计，用回报率的向量，历史数据爆算<ul><li>矩阵过大，4000*4000</li><li>样本点过少，一年就252样本，估出来矩阵奇异</li></ul></li><li>鲁棒统计量<ul><li>取前10个主成分，对角线单独估计。需要估计的参数少，可能就4000</li><li>无法利用公司基本面信息</li></ul></li><li>因子模型（barra）<ul><li>考虑市场、行业、风格因子和股票的特异性</li><li>回报率分解</li></ul></li></ul></li></ul><h6 id="风格因子">风格因子</h6><ul><li>Style factor / risk factor</li><li>具有经济、金融含义，反应股票、公司的性质，对于回报率和风险具有解释意义的数值<ul><li>广泛知道的</li><li>强调风险而不是盈利</li><li>具有实际的含义</li></ul></li><li>例子：<ul><li>市值因子Size</li><li>价值因子Value</li><li>动量因子Momentum</li><li>其他：成长因子Growth、盈利因子Earnings Yield</li></ul></li></ul><h6 id="因子模型">因子模型</h6><ul><li>回报率分解<ul><li>回报率受：市场、行业、风格</li><li>return = market_beta *market_return + industry_beta *industry_return + style_factor_loading * style_factor_return +idiosyncratic_return</li><li>beta就是capm的beta，但是loading是查表，风格return是根据loading算出来的</li><li>最后的特异性（alpha_i）是最特殊的</li></ul></li><li>矩阵形式</li><li>所以，回报率的协方差矩阵也可以进行分解</li></ul><p><span class="math inline">\(R=LR^{fac}+\alpha\)</span> <span class="math inline">\(\Sigma=Cov(r)=L^T HL+D\)</span></p><p>人为对协方差矩阵降维</p><h6 id="交易成本">交易成本</h6><p>固定成本 - Δp的线性函数 - 印花税 - 证管费、经手费</p><p>市场冲击 - 交易使价格向不利的方向变动 - 原因？ - 微观：吃掉对手单 -宏观：供需改变</p><p>如何估计market impact？ - 假设：Market impact is reverting - 市场有效- 一次交易行为，本质没有真实改变公司的基本面 -推高价格后，会触发隐藏的流动性（需求） - 多次交易 -像脉冲一样，价格被抬高后，会慢慢回去 - RMI、decay kernel，可以算出MI -只能估计，通过理论模型，因为根本无法观测</p><h5 id="优化器求解">优化器求解</h5><ul><li>二次、整数、凸优化</li><li>有专门的求解器<ul><li>Mosek（美国）</li><li>Gurobi（欧洲）</li><li>Cplex（IBM）</li><li>COPT（SJTU）</li></ul></li><li>为什么有约束条件？<ul><li>因为模型假设肯定是不完备的，有些风险不能被刻画</li><li>比如风险用二次项，但是还有一些风险不能用二次项</li><li>用约束条件刻画非二次，无法刻画，尾部的，非正态的风险</li></ul></li></ul><h6 id="优化器回顾">优化器回顾</h6><p>优化器做了什么？ - 平衡三者 - 收益（return） - 风险（risk） -成本（cost） - 风险项<span class="math inline">\(\lambda\)</span> -控制收益维度 - 例如：赌小盘股、半导体 - 成本项<span class="math inline">\(\mu\)</span> - 控制收益的实现（速度） -交易太快：滑点MI太大 - 交易太慢：return decay -风险项和成本项不是给定的，是实证、回测或者估出来的</p><h4 id="executor">executor</h4><p>算出来Δp后，用execution拆单 - TWAP 按照时间平均拆单 - VWAP按照交易量平均拆单 - IS(implementation shortfall)优化相比下单时的价格</p><h4 id="多因子模型回顾">多因子模型回顾</h4><p>什么是多因子？ 两个含义： - alpha，聚合因子 -风险里的因子（barra）</p><h5 id="多因子模型优点">多因子模型优点</h5><ul><li>策略层面<ul><li>系统化</li><li>普适性</li><li>稳定易风控</li><li>聚合大量预测模型</li><li>（所以）适合管理大规模资金</li></ul></li><li>商业层面<ul><li>规模效应，对于大公司友好</li><li>易拆分、隔离小团队做多因子模型的不同环节</li></ul></li></ul><h5 id="多因子模型缺点">多因子模型缺点</h5><ul><li>策略层面<ul><li>灵活性差：必须通过优化器调仓</li><li>无法为特殊策略定制参数<ul><li>MI model、risk model</li><li>泛用性强，对策性差</li></ul></li><li>不易处理多周期预测<ul><li>多步骤多因子模型？（事实上效果差）</li></ul></li><li>收益率有限</li></ul></li><li>商业层面<ul><li>规模效应，对于小公司不友好<ul><li>小公司成长过程中会被模型拖累</li></ul></li><li>易拆分、隔离，强制隔离，不准跨环节操作</li></ul></li></ul><h4 id="alternatives">Alternatives</h4><ul><li>股票量化策略能不能不用多因子模型？<ul><li>本质问题：要不要用优化器</li></ul></li><li>其它的股票策略<ul><li>头部选股<ul><li>就选alpha值最高的股票，不需要优化器</li><li>逐渐被慢慢淘汰了，因为被优化器薄纱</li></ul></li><li>事件驱动</li><li>特殊交易<ul><li>例：打板</li></ul></li></ul></li><li>要考虑你的策略和多因子比有什么优势，多因子做不到的<ul><li>MI model、risk model失效</li></ul></li></ul><h2 id="量化职业发展">量化职业发展</h2><h3 id="低频-vs-高频">低频 vs 高频</h3><ul><li>IT技术实力<ul><li>C/C++底层代码优化</li><li>计算机网络、延迟技术</li></ul></li><li>金融知识<ul><li>微观层面：订单簿、交易规则、券商/交易所的行业信息（高频）</li><li>宏观层面：基本面、公司事件（低频）</li></ul></li></ul><h3 id="市场品种选择">市场/品种选择</h3><ul><li>市场规模<ul><li>看量化头部公司、腰部公司年利润</li></ul></li><li>竞争程度（和猎头交流）<ul><li>人才密集度（人员工资、招聘难度）<ul><li>比如期货高频，很完备，很卷</li></ul></li><li>小团队 vs 大团队作战<ul><li>美国股票资管：没有超大型玩家策略，基金经理选择加入平台型公司，行业发展程度高，垄断化寡头化</li><li>中国，选择自己出来开公司拿牌照</li></ul></li></ul></li><li>可持续性<ul><li>竞争层面<ul><li>体量小？</li><li>大玩家不进来？</li><li>时间早？</li><li>crypto</li></ul></li><li>监管层面<ul><li>政府监管</li></ul></li></ul></li></ul><h3 id="策略环节">策略环节</h3><ul><li>公式化因子<ul><li>“灵性”</li><li>基本面、财务知识</li></ul></li><li>机器学习<ul><li>编程能力</li><li>研究能力</li></ul></li><li>优化器<ul><li>框架知识</li><li>统计、优化、编程</li></ul></li></ul><h3 id="团队选择">团队选择</h3><p>大团队 vs 小团队 - 管理模式不一样 - 大团队：部门化 -小团队：研究员+基金经理模式</p><p>大团队 - 方法论和框架完整有效 - 部分有培养体系 -生存压力、业绩压力较小，年薪百万 -流水线细化、知识面狭窄、容易成为螺丝钉 - 晋升困难</p><p>小团队 - 方法论和框架有待验证 - 有较大生存压力、业绩压力 -全面接触各个流程、知识面广 - 取决于老板、领导的水平 - 有晋升空间</p><h3 id="学习建议">学习建议</h3><p>向老板学习</p>]]></content>
    
    
    <categories>
      
      <category>金融学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>量化金融</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>管理科学</title>
    <link href="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/"/>
    <url>/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>本笔记整理自安泰经济与管理学院2024年秋季学期课程BUSS2402管理科学，授课人是孙海龙老师。</em></p></blockquote><span id="more"></span><h2 id="线性规划linear-programming">线性规划（Linear Programming）</h2><h3 id="一般形式">一般形式</h3><p><span class="math display">\[\begin{align}\max(\min)\ \ \ \  &amp;Z=c_1x_1+c_2x_2+\cdots+c_nx_n\\s.t.\ \ \ \ &amp;a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n&amp;\leq(=,\geq)\b_1\\&amp;a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n&amp;\leq(=,\geq)\ b_2\\&amp;a_{31}x_1+a_{32}x_2+\cdots+a_{3n}x_n&amp;\leq(=,\geq)\ b_3\\\vdots\\&amp;a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n&amp;\leq(=,\geq)\ b_m\\&amp;x_1,x_2,\cdots,x_n&amp;\leq(=,\geq)\ 0\end{align}\]</span> - <span class="math inline">\(x_j,\forallj=1,\cdots, n\)</span>是决策变量 - <span class="math inline">\(a_{ij},b_i,c_j,\foralli=1,\cdots,m,j=1,\cdots,n\)</span>是参数</p><h3 id="矩阵形式">矩阵形式</h3><p><span class="math display">\[\begin{align}\max_{\pmb x}\ \ \ \  &amp;\pmb c^T\pmb x\\s.t.\ \ \ \ &amp;\pmb A\pmb x&amp;\le(=,\ge)\ \pmb b\\&amp;\pmb x&amp;\le(=,\ge)\ \pmb 0\end{align}\]</span></p><ul><li>Objective Vector: <span class="math inline">\(\pmbc=\begin{bmatrix}c_1\\c_2\\\vdots\\c_n\end{bmatrix}\)</span></li><li>Constraint Matrix: <span class="math inline">\(\pmbA=\begin{bmatrix} a_{11} &amp;a_{12} &amp;\cdots &amp;a_{1n}\\a_{21}&amp;a_{22} &amp;\cdots &amp;a_{2n}\\\vdots &amp;\vdots &amp;\ddots&amp;\vdots\\ a_{m1} &amp;a_{m2} &amp;\cdots&amp;a_{mn}\\\end{bmatrix}\)</span></li><li>Decision Variables Vector: <span class="math inline">\(\pmbx=\begin{bmatrix}x_1\\x_2\\\vdots\\x_n\end{bmatrix}\)</span></li><li>Right-Hand Side Vector: <span class="math inline">\(\pmbb=\begin{bmatrix}b_1\\b_2\\\vdots\\b_m\end{bmatrix}\)</span></li></ul><h3 id="基本概念">基本概念</h3><ul><li>线性：模型中的所有函数都是线性的<ul><li>目标函数线性</li><li>约束条件线性</li></ul></li><li>规划：计划、部署某项活动，例如生产、物流、运输、排班等。</li><li>线性规划（Linear Programming，LP）是一类数学优化模型<ul><li>目标是最大化（最小化）一个线性函数</li><li>决策受限于一系列（有限个）线性（等式或不等式）约束条件</li></ul></li></ul><h3 id="假设分析">假设分析</h3><p>主要是看模型的某些参数变化后，对目标函数的影响</p><ul><li>目标函数系数变动<ul><li>只有一个系数变动</li><li>多个（两个）系数同时变动</li></ul></li><li>约束条件系数变动<ul><li>单个约束条件单一系数变动</li><li>约束条件同时变动</li></ul></li></ul><h4 id="敏感性分析">敏感性分析</h4><h5 id="只有一个系数变动">只有一个系数变动</h5><p>例如单位利润变动。</p><ul><li>可变化值：最优解不变的前提下，目标函数系数允许变动（增加或减少）的最大值</li></ul><h5 id="多个两个系数变动">多个（两个）系数变动</h5><p>和前面的差不多</p><h5 id="法则">100%法则</h5><p>当目标函数的系数同时变动时，计算每个系数的变化量占允许变化量的百分比。将各百分比相加：- 如果百分比之和不超过100%，则最优解一定不变 -如果百分比之和超过100%，则不确定</p><h5 id="图形表示">图形表示</h5><p>看成目标函数发生旋转 <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/4a7d05ddddd86dab50847511acbb90a.png"></p><h4 id="约束条件变动">约束条件变动</h4><h5 id="约束条件右端项rhs变化">约束条件右端项（RHS）变化</h5><p>例如总禀赋发生变化。</p><h6 id="影子价格">影子价格</h6><p>由于约束条件RHS变化产生的目标函数变化率，被称作这个约束条件的影子价格。</p><h6 id="允许变化范围">允许变化范围</h6><p>每个影子价格都对应着一个RHS的变化范围。这个范围被称为右端数值的允许变化范围，简称允许变化范围。-与目标函数系数的允许变化范围不同，RHS数值在允许变化范围内变动并不意味着最优解不变。-只要影子价格不为零，右侧数值的变化一定会导致最优解的改变。（最优解的改变导致目标函数发生变化）</p><h6 id="法则-1">100%法则</h6><p>若同时改变几个约束函数的右端数值，只要这些变动占允许变化范围百分比之和不超过100%，那么影子价格就依然有效。如果超过100%，则无法确定。</p><p>注意：100%法则只对分析单独变化目标函数系数或者单独变化约束RHS有效，两种同时变化无效。</p><h5 id="图形表示-1">图形表示</h5><p>看成约束条件发生平移 <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/7f6463e5f8d700ce89227ba41043699.png"></p><h5 id="约束条件左端项变动">约束条件左端项变动</h5><h3 id="对偶问题">对偶问题</h3><p>利润最大化vs成本最小化 <span class="math display">\[\begin{align}\max_{x_1,x_2}\ \ \ \ &amp;Z=\pmb c^T\pmb x\\s.t.\ \ \ \ &amp;\pmb A\pmb x\leq\pmb b\\&amp;\pmb x\geq\pmb 0\end{align}\]</span> <span class="math display">\[\begin{align}\min_{y_1,y_2,y_3}\ \ \ \ &amp;W=\pmb y^T\pmb b\\s.t.\ \ \ \ &amp;\pmb y^T\pmb A\geq\pmb c^T\\&amp;\pmb y^T\geq\pmb 0^T\end{align}\]</span></p><h4 id="构造规则">构造规则</h4><ul><li>原始问题目标函数的系数是对偶问题约束右端项</li><li>原始问题约束右端项是对偶问题目标函数的系数</li><li>原始问题一个变量在所有约束方程中的系数是对偶问题一个约束方程中的全部系数</li></ul><p><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/3925d575c5052d5cd6ee71aceda0182.png"> <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/b8238bca0157c75668a8673cc4dab66.png"></p><h4 id="关系">关系</h4><ul><li>对称性：对于LP问题，对偶的对偶=原始问题</li><li>弱对偶定理：原始和对偶<strong>可行解</strong>之间的关系<ul><li>如果<span class="math inline">\(\pmbx\)</span>是原始问题（最大化）的可行解，<span class="math inline">\(\pmby\)</span>是对偶问题（最小化）的可行解，那么<span class="math display">\[\pmb c^T\pmb x\le\pmb y^T\pmb b\]</span></li><li>即对偶问题可以求出原问题最优解（最大化）的上界</li></ul></li><li>强对偶定理：原始和对偶<strong>最优解</strong>之间的关系<ul><li>如果<span class="math inline">\(\pmbx\)</span>是原始问题的最优解（有界），而<span class="math inline">\(\pmby\)</span>是对偶问题的最优解（有界），那么<span class="math display">\[\pmb c^T\pmb x^*=(\pmb y^*)^T\pmb b\]</span></li></ul></li><li>影子价格：对偶问题的最优解<span class="math inline">\(\pmby^*\)</span>可以理解为对应原始问题约束条件的影子价格</li></ul><p><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/80175d489ac90a216b8dd12d9aeaf44.png"></p><h4 id="互补松弛条件">互补松弛条件</h4><p><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/d4a9b64546431c2c456b1dc4344e823.png"> -如果受约束的原始资源比较宽松（即存在“剩余”），则该资源的额外数量没有价值-同样，如果对偶（影子）价格不为零（非负约束条件宽松），则资源供给稀缺（没有“剩余”）</p><h3 id="最小费用流问题">最小费用流问题</h3><h4 id="一般模型">一般模型</h4><p><span class="math display">\[\begin{align}&amp;\min\sum_{(i,j)\in A}c_{ij}x_{ij}\\s.t.\ \ \ \ &amp;b_i+\sum_{(j,i)\in A}x_{ji}=\sum_{(i,j)\in A}x_{ij}\\&amp;0\leq x_{ij}\leq u_{ij}\end{align}\]</span> 其中， <span class="math inline">\(i,j\)</span>:nodes <span class="math inline">\((i,j)\)</span>: arc from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> <span class="math inline">\(n\)</span>:number of nodes in the network <span class="math inline">\(c_{ij}\)</span>: the cost of arc<span class="math inline">\((i,j)\)</span> <span class="math inline">\(x_{ij}\)</span>: the flow of arc<span class="math inline">\((i,j)\)</span> <span class="math inline">\(u_{i,j}\)</span>: the capacity of arc<span class="math inline">\((i,j)\)</span> <span class="math inline">\(A\)</span>: the set of arcs <span class="math inline">\(b_i\)</span>: the supply/demand of node <span class="math inline">\(i\)</span></p><h5 id="假设">假设</h5><ul><li>其中至少一个节点为<strong>供给点</strong>，每个供给点产生的净流量指定为一个固定<strong>正数</strong></li><li>至少一个节点为<strong>需求点</strong>，每个需求点产生的净流量指定为一个固定<strong>负数</strong></li><li>其余所有节点都是转运点，每个转运点的净流量为固定值0</li><li>通过弧的流仅允许<strong>沿着箭头</strong>的方向流动，最大流量由该弧的容量确定（如果是双向流，则可以用一对指向相反方向的弧表示）</li><li>网络具有足够的弧提供足够的容量，使得所有在供给点产生的流都能到达需求节点</li><li>在流的单位成本已知的前提下，通过<strong>每个弧的流量成本与流量成正比</strong></li><li>最小费用流问题的目标在满足给定需求的条件下，使得通过网络供给的<strong>总成本最小</strong>（或者最大化利润）</li></ul><h5 id="省流版">省流版</h5><ul><li>目标函数最小化：总弧上成本</li><li>约束条件：每个节点流量、每条弧容量</li></ul><h4 id="性质">性质</h4><h5 id="可行解性质">可行解性质</h5><p>当且仅当供给点所提供的流量总和等于需求点所需流量总和时，最小费用流问题具有可行解- 当存在额外供给（供给需求大于等于需求总和）时 - 采用小于等于约束条件 -<strong><em>引入“虚拟需求节点”，并从每个供给点向虚拟需求节点添加单位流量成本为零的弧</em></strong></p><h5 id="整数解性质">整数解性质</h5><p>如果所有的供给、需求和弧的容量都是整数值，那么只要最小费用流问题有可行解，对于任何流量值都一定存在整数最优解</p><h4 id="常见子问题概述">常见子问题概述</h4><h4 id="运输问题">运输问题</h4><ul><li>没有转运点和弧容量限制</li></ul><h4 id="指派问题">指派问题</h4><ul><li>运输问题的特殊类型</li></ul><h4 id="最大流问题">最大流问题</h4><ul><li>网络中所有流起源于“源”，终止于“汇”，其余节点均为转运点</li><li>目标：使得从源到汇的总流量最大，该流量的大小可以用两种等价的方法来衡量，即离开源的量或者进入汇的量#### 最短路问题</li><li>在网络中选择一条路，始于“源”，终于“目的地”</li><li>目标：寻找从源到目的地的最短路线</li></ul><h3 id="整数规划">整数规划</h3><h4 id="变量整数规划">0—1变量整数规划</h4><ul><li>用0—1变量表示“是非决策”</li><li>称为“0—1整数规划” (binary integer programming)</li></ul><h5 id="集合覆盖问题">集合覆盖问题</h5><p>所有函数约束都是<strong>集合覆盖约束</strong>且目标为总成本最小的模型，被称作集合覆盖问题###### 集合覆盖约束 - 0—1变量的和大于等于1的约束条件</p><h5 id="准备成本问题">准备成本问题</h5><ul><li>定量决策<span class="math inline">\(x\)</span>在是非决策<span class="math inline">\(y\)</span>确定后才能得出</li><li>用一个比较大的数值来进行限制<span class="math inline">\(x\leq99y\)</span><ul><li>若<span class="math inline">\(y=1\)</span>，<span class="math inline">\(x\leq 99\)</span></li><li>若<span class="math inline">\(y=0\)</span>，<span class="math inline">\(x\leq 0\)</span></li></ul></li></ul><h4 id="一般的整数线性规划">一般的整数线性规划</h4><ul><li>要求一部分或者全部决策是整数的线性规划模型被称为<strong>整数线性规划</strong>（LinearInteger Programming） <span class="math display">\[\begin{align}\max\ \ \ \  &amp;\pmb c^T\pmb x+\pmb d^T\pmb y\\s.t.\ \ \ \  &amp;\pmb A\pmb x+\pmb B\pmb y\leq\pmb b\\&amp;\pmb x,\pmb y\geq 0,\pmb x\text{ integer}\end{align}\]</span></li><li>如果没有决策变量<span class="math inline">\(\pmby\)</span>则以上模型成为<strong>整数规划</strong>（integerprogramming）</li><li>如果没有决策变量<span class="math inline">\(\pmb y\)</span>且<span class="math inline">\(\pmbx\)</span>为0—1变量，则以上模型称为<strong>0—1整数规划</strong></li></ul><h5 id="分离约束">分离约束</h5><ul><li><strong>分离约束</strong>（disjunctiveconstraints）可以用来表示至少一部分约束条件需要被满足</li><li>假设两个约束条件<span class="math inline">\(\pmb a^\prime\pmb x\geqb\)</span>和<span class="math inline">\(\pmb c^\prime\pmb x\geqd\)</span>，且其中至少一个约束条件被满足。那么分离约束：<span class="math display">\[\pmb a^\prime\pmb x\geq yb,\pmb c^\prime\pmbx\geq(1-y)d,\ \ y\in\{0,1\}\]</span></li><li>如果约束条件为<span class="math inline">\(\pmb a^\prime\pmb x\leqb\)</span>和<span class="math inline">\(\pmb c^\prime\pmb x\leqd\)</span>，那么分离约束<span class="math display">\[\pmb a^\prime\pmbx\leq b+yM,\pmb c^\prime\pmb x\leqd+(1-y)M,y\in\{0,1\}\]</span>，其中<span class="math inline">\(M\)</span>是一个足够大的数。</li><li>考虑<span class="math inline">\(m\)</span>个约束条件<span class="math inline">\(\pmb a_i^\prime\pmb x\geq b,i=1,\cdots,m\)</span>，其中<span class="math inline">\(\pmb a_i\geq0\)</span>。假设需要至少<span class="math inline">\(k\)</span>个约束条件被满足，则可以通过引入<span class="math inline">\(m\)</span>决策变量<span class="math inline">\(y_i,i=1\cdots,m\)</span>并利用以下分离约束：<span class="math display">\[\begin{align}&amp;\pmb a_i^\prime\pmb x\geq b_iy_i,i=1,\cdots,m\\&amp;\sum_{i=1}^my_i\geq k,\\&amp;y_i\in\{0,1\},i=1\cdots,m\end{align}\]</span></li><li>小于的情况：<span class="math display">\[\begin{align}&amp;\pmb a_i^\prime\pmb x\leq b_i+(1-y_i)M,i=1,\cdots,m\\&amp;\sum_{i=1}^my_i\geq k,\\&amp;y_i\in\{0,1\},i=1\cdots,m\end{align}\]</span></li></ul><h6 id="理解">理解</h6><p>从取交集变成了取并集。</p><h5 id="旅行商问题">旅行商问题</h5><ul><li>一个旅行商计划从起点出发，走遍一个地区的所有城市，且每个城市只走一次，最终返回起点</li><li>城市<span class="math inline">\(i\)</span>与城市<span class="math inline">\(j\)</span>的距离为<span class="math inline">\(d_{ij}\)</span></li><li>最小化总路程</li></ul><p><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/8d9fd3491abd3a7b5e7d1df65115200.png"></p><h6 id="完整模型">完整模型</h6><p>决策变量：令<span class="math inline">\(x_{ij}=1\)</span>表示从城市<span class="math inline">\(i\)</span>出发前往城市<span class="math inline">\(j\)</span>，否则为0 <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/9a32c4102f2719757025b4b519bfc3c.png"></p><h4 id="求解算法">求解算法</h4><h5 id="一个直接但不可行的思路">一个直接但不可行的思路</h5><p>先线性规划松弛，去掉整数解条件，再将最优解取整 -取整之后的解可能是不可行解 - 即使是可行解，可能也与最优解相差甚远</p><h5 id="分支定界法">分支定界法</h5><ul><li><p>分支（branching）</p><ul><li>在剩余尚未剪枝的子问题中选取最近的子问题</li><li>在该问题的LP relaxation最优解中选取数值为非整数的变量<span class="math inline">\(x_j^*\)</span>作为分支变量，并把整个可行解分成两个子集（<span class="math inline">\(x_j\leq\lfloor x_j^*\rfloor\)</span>和<span class="math inline">\(x_j\geq\lceil x_j^*\rceil+1\)</span>）</li></ul></li><li><p>定界（bounding）</p><ul><li>求解两个子问题的LP relaxation，并记录各自的最优目标值<span class="math inline">\(Z\)</span></li></ul></li><li><p>剪枝（fathoming）</p><ul><li>对每个子问题，如果满足以下剪枝测试之一，则将该子问题剪枝</li><li>最优目标值<span class="math inline">\(Z\leq Z^*\)</span>，<span class="math inline">\(Z^*\)</span>为当前最好的可行解（incumbent）对应的目标值</li><li>LP relaxation没有可行解</li><li>LP relaxation的最优解是整数且<span class="math inline">\(Z\geqZ^*\)</span>，该解称为新的incumbent，继续对下一个子问题进行剪枝测试</li></ul></li><li><p>最优性测试：如果所有子问题都已剪枝，则当前incumbent为最优解；否则继续循环</p></li><li><p>最差情况下，分支定界法需要验证指数多的可行解</p></li></ul><h5 id="割平面法">割平面法</h5><ul><li>割平面法从LP relaxation入手</li><li>如果当前的最优解不是整数，则逐步添加线性约束条件，将当前的解从可行解集中切割掉，且不影响整数可行解集</li><li>继续求解LP relaxation，直到得到最优解为整数</li></ul><h2 id="非线性规划nonlinear-programming">非线性规划（NonlinearProgramming）</h2><h3 id="一般形式-1">一般形式</h3><p><span class="math display">\[\begin{align}&amp;\min f(x)\\s.t.\ \ \ \ &amp;g_i(x)\leq 0 \text{ for each }i\in\{1,\cdots,m\}\\&amp;h_j(x)=0\text{ for each }j\in\{1,\cdots,p\}\\&amp;x\in X\end{align}\]</span></p><h3 id="求解">求解</h3><ul><li>线性规划问题<ul><li>如果存在最优解，那么一定存在最优角点解</li><li>单纯形法</li></ul></li><li>非线性规划问题<ul><li>可行域可能不是凸集，角点可能不存在</li><li>即使可行域是凸集，最优解可能是内点而非角点</li><li>不存在单一算法（GRG，Generalized Reduced Gradient）</li></ul></li></ul><h3 id="凸优化convex-optimization">凸优化（Convex Optimization）</h3><h4 id="凸二次规划">凸二次规划</h4><ul><li>目标函数为凸函数+最小化，或者凹函数+最大化</li><li>约束条件为线性（一般而言，其实也可以是二次）</li></ul><h5 id="一般形式-2">一般形式</h5><p><span class="math display">\[\begin{align}\min\ \ \ \ \pmb x^T\pmb Q\pmb x\\s.t. \ \ \ \ \pmb A\pmb x\leq \pmb b\end{align}\]</span></p><h3 id="可分离规划separable-programming">可分离规划（SeparableProgramming）</h3><p>可用来将非线性规划问题变成LP</p><h2 id="排队模型queueing-model">排队模型（queueing model）</h2><table><thead><tr class="header"><th>符号</th><th>概念</th><th>含义</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\lambda\)</span></td><td>平均到达率</td><td>单位时间到达人数</td></tr><tr class="even"><td><span class="math inline">\(\mu\)</span></td><td>平均服务率</td><td>单位时间服务人数</td></tr><tr class="odd"><td><span class="math inline">\(s\)</span></td><td>服务台数</td><td>服务台个数</td></tr><tr class="even"><td><span class="math inline">\(\rho\)</span></td><td>有效因子（利用率）</td><td><span class="math inline">\(=\cfrac{\lambda}{s\mu}\)</span><br>每个服务台提供服务时，用于服务顾客的平均时间比例</td></tr><tr class="odd"><td><span class="math inline">\(L\)</span></td><td>系统长度</td><td>系统中顾客数</td></tr><tr class="even"><td><span class="math inline">\(L_q\)</span></td><td>队列长度</td><td><span class="math inline">\(=L-\rho\)</span><br>队列中顾客数</td></tr><tr class="odd"><td><span class="math inline">\(W\)</span></td><td>系统等待时间</td><td><span class="math inline">\(=\cfrac{L}{\lambda}\)</span><br>单位顾客在系统中的时间</td></tr><tr class="even"><td><span class="math inline">\(W_q\)</span></td><td>队列等待时间</td><td><span class="math inline">\(=W-\cfrac{1}{\mu}\)</span><br>单位顾客在队列中的时间</td></tr></tbody></table><h3 id="基本排队系统">基本排队系统</h3><ul><li>顾客（customer）</li><li>队列（queue/waiting line）<ul><li>如果一个顾客不能立刻接受服务，则加入队列（不包括正在接受服务的顾客）</li></ul></li><li>服务台（server）</li><li>每个顾客由其中一个或者多个服务台提供服务，然后离开</li></ul><h4 id="到达">到达</h4><ul><li>到达间隔时间（interarrival times）<ul><li>连续两个顾客到达排队系统的时间间隔</li></ul></li><li>平均到达率（mean arrival rate）<ul><li>单位时间内顾客到达的期望数量，常用<span class="math inline">\(\lambda\)</span>表示</li></ul></li><li>到达间隔时间的期望：<span class="math inline">\(\cfrac{1}{\lambda}\)</span><ul><li>例：假设100个小时里有300个顾客到达：<ul><li><span class="math inline">\(\lambda=\cfrac{300}{100}=3\)</span>，即平均每小时3个顾客</li><li><span class="math inline">\(\cfrac{1}{\lambda}=\cfrac{1}{3}\)</span>，即顾客到达平均间隔1/3小时</li></ul></li></ul></li><li>大多数排队模型假设到达间隔时间是随机变量，并服从指数分布（exponentialdistribution）</li></ul><h5 id="指数分布">指数分布</h5><ul><li><p>性质</p><ul><li>到达时间间隔比均值小的可能性较大，比均值大得多的可能性很小</li><li>到达时间间隔越大，出现的概率越小</li><li>顾客随机到达（random arrivals）<ul><li>服务台无法控制顾客何时到达，到达时间无法凭感觉预测，下一分钟有顾客到达的概率和其他分钟相同（无记忆性）</li></ul></li></ul></li><li><p>概率密度函数（probability density function） <span class="math display">\[f(x;\lambda)=\begin{cases}\lambda \text e^{-\lambda x}\ \ \ \ &amp;x\geq 0,\\0\ \ \ \ &amp;x&lt;0.\end{cases}\]</span></p></li><li><p>累计概率分布函数（cumulative distribution function） <span class="math display">\[F(x;\lambda)=\begin{cases}1-\text e^{-\lambda x}\ \ \ \ &amp;x\geq 0,\\0\ \ \ \ &amp;x&lt;0.\end{cases}\]</span> <span class="math display">\[\textE[X]=\cfrac{1}{\lambda}\ \ \ \ \\text{Var}[X]=\cfrac{1}{\lambda^2}\]</span> <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/4285b689257e1980f85aedb2cbcf2b2.png" alt="概率密度函数"></p></li><li><p>无记忆性</p><ul><li>下一分钟的到达概率完全不受上一分钟的影响，也被称为马尔可夫特性 <span class="math display">\[\text{Pr}(T&gt;s+t|T&gt;s)=\text{Pr}(T&gt;t),\ \\ \ \forall s,t\geq 0\]</span></li></ul></li><li><p>指数分布是唯一具有无记忆性的连续概率分布</p></li></ul><h4 id="队列">队列</h4><ul><li>队列大小（queue size）<ul><li>等候服务的顾客数量</li></ul></li><li>系统中的顾客数量：队列中的顾客数加上正在接受服务的顾客数量</li><li>队列容量（queue capacity）：队列所能容纳的顾客最大数量<ul><li>无限队列（infinite queue）：可以容纳无限数量顾客的队列</li><li>有限队列（finitequeue）：队列容量需要纳入考量；当有限队列已满时，新的顾客会马上离开</li></ul></li><li>顾客服务规则（queue discipline）：选择队列中成员接受服务的顺序<ul><li>先到先服务（first-come, first-served, FCFS, 或FIFO）</li><li>随机服务（random selection）</li><li>有优先权的服务（priority procedure）</li><li>后到先服务（last-come, first-served, LCFS, 或LIFO）</li></ul></li></ul><h4 id="服务">服务</h4><ul><li>根据服务台数量的不同，服务系统分为单服务台系统（single-serversystem）和多服务台系统（multiple-server system）</li><li>服务时间（service time）：从服务开始到结束经过的时间</li><li>基本的排队模型假设服务时间服从某个概率分布，并与哪一个服务台正在提供服务无关<span class="math display">\[\cfrac{1}{\mu}=期望服务时间\]</span> <span class="math display">\[\mu = 平均服务率\]</span></li><li>例如，卡特先生理发的期望时间是<span class="math inline">\(\cfrac{1}{\mu}\)</span>=20分钟=每位顾客1/3小时，则他的平均服务率<span class="math inline">\(\mu\)</span>=3位顾客/小时</li></ul><h5 id="服务时间分布">服务时间分布</h5><ul><li>指数分布<ul><li>常见假设，且容易分析</li><li>适用于服务时间较为随机的系统，但是并不适用于具有固定流程的系统（服务时间相对固定），如ATM机</li><li>期望值与标准差相等</li></ul></li><li>固定服务时间（constant service time）<ul><li>适用于具有固定流程的服务系统</li><li>标准差为零，也被称为退化分布（degenerate distribution）</li></ul></li><li>Erlang分布（Erlang distribution）<ul><li>允许服务时间的波动量处于指数分布与退化分布之间</li><li><span class="math inline">\(k\)</span>个独立同分布的指数随机变量之和服从Erlang分布</li><li>Gamma分布的离散形式</li></ul></li></ul><h3 id="符号表示">符号表示</h3><p><span class="math display">\[DIT/DST/NS\]</span> - DIT: Distributionof interarrival times - DST: Distribution of service times - NS: Numberof servers</p><ul><li>分布符号<ul><li>M=指数分布（Markovian）</li><li>D=退化分布（constant times）</li><li>GI=到达间隔时间服从相互独立的一般分布（允许任意类型的分布）</li><li>G=服务时间的一般分布（允许任意类型的分布）</li></ul></li><li>例如：<ul><li>M/M/1表示单服务台，且到达间隔时间和服务时间服从指数分布</li><li>GI/M/s表示允许任意的到达间隔时间分布（到达间隔时间相互独立），服务时间服从指数分布，共<span class="math inline">\(s\)</span>个服务台</li></ul></li></ul><h3 id="模型假设">模型假设</h3><ul><li>到达间隔时间独立同分布（independent and identically distributed,i.i.d.）</li><li>所有到达的顾客都进入排队系统，直到服务结束离开</li><li>排队系统的队列是无限队列（出于应用的目的）</li><li>服务规则：FCFS</li><li>有特定数量的服务台，每个服务台可以为任意顾客服务</li><li>每位顾客由一个服务台单独提供服务</li><li>每个服务台一旦完成当前服务，立即开始为下一个顾客服务</li><li>服务时间独立同分布</li></ul><h4 id="mm1模型">M/M/1模型</h4><ul><li>假设<ul><li>到达时间间隔服从均值为<span class="math inline">\(\cfrac{1}{\lambda}\)</span>的（负）指数分布</li><li>服务时间服从均值为<span class="math inline">\(\cfrac{1}{\mu}\)</span>的（负）指数分布</li><li>1个服务台</li><li>无限队列</li><li>利用率<span class="math inline">\(\rho&lt;1\)</span></li></ul></li><li>系统中有<span class="math inline">\(n\)</span>个顾客的概率 <span class="math display">\[P_n=(1-\rho)\rho^n\]</span></li><li>公式 <span class="math display">\[\begin{align}L&amp;=\cfrac{\rho}{1-\rho}=\cfrac{\lambda}{\mu-\lambda}\\W&amp;=\cfrac{1}{\lambda}L=\cfrac{1}{\mu-\lambda}\\W_q&amp;=W-\cfrac{1}{\mu}=\cfrac{\lambda}{\mu(\mu-\lambda)}\\L_q&amp;=\lambdaW_q=\cfrac{\lambda^2}{\mu(\mu-\lambda)}=\cfrac{\rho^2}{1-\rho}\end{align}\]</span></li><li>性能度量<ul><li>假设队列是FCFS，则系统中的等待时间超过<span class="math inline">\(t\)</span>的概率<span class="math inline">\(\textP(\mathscr W&gt;t)=\text e^{-\mu(1-\rho)t}\)</span></li><li>队列中的等待时间超过<span class="math inline">\(t\)</span>的概率<span class="math inline">\(\textP(\mathscr W_q&gt;t)=\rho\text e^{-\mu(1-\rho)t}\)</span></li></ul></li></ul><h4 id="mg1模型">M/G/1模型</h4><ul><li>假设<ul><li>到达时间间隔服从均值为<span class="math inline">\(\cfrac{1}{\lambda}\)</span>的（负）指数分布</li><li>服务时间服从任意形式的概率分布，不需要知道分布的具体形式，只需要估计出均值<span class="math inline">\(\cfrac{1}{\mu}\)</span>和标准差<span class="math inline">\(\sigma\)</span></li><li>1个服务台</li><li>无限队列</li><li>利用率<span class="math inline">\(\rho&lt;1\)</span></li></ul></li><li>公式 <span class="math display">\[\begin{align}L_q&amp;=\cfrac{\lambda^2\sigma^2+\rho^2}{2(1-\rho)}\tag{Pollaczek-Khintchine}\\L&amp;=L_q+\rho\\W_q&amp;=\cfrac{L_q}{\lambda}\\W&amp;=W_q+\cfrac{1}{\mu}\end{align}\]</span></li></ul><h4 id="mms模型">M/M/s模型</h4><ul><li>假设<ul><li>到达时间间隔服从均值为<span class="math inline">\(\cfrac{1}{\lambda}\)</span>的（负）指数分布</li><li>服务时间服从均值为<span class="math inline">\(\cfrac{1}{\mu}\)</span>的（负）指数分布</li><li><span class="math inline">\(s\)</span>个服务台</li><li>无限队列</li><li>利用率<span class="math inline">\(\rho&lt;1\)</span></li></ul></li><li>公式 <span class="math display">\[\begin{align}L&amp;=\cfrac{\rho}{1-\rho}=\cfrac{\lambda}{s\mu-\lambda}\\W&amp;=\cfrac{1}{\lambda}L=\cfrac{1}{s\mu-\lambda}\\W_q&amp;=W-\cfrac{1}{\mu}\\L_q&amp;=\lambda W_q\end{align}\]</span><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/5afcfd32891b742ff363c725b5a582b.png"></li></ul><h4 id="mds模型">M/D/s模型</h4><p><img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/d6fd8eee945cdadf983a52c2a43a392.png"></p><h4 id="有优先权的排队模型">有优先权的排队模型</h4><ul><li>假设<ul><li>有两类及以上类型的顾客</li><li>每类顾客都有一个优先级</li><li>优先级高的顾客先接受服务</li><li>相同优先级顾客，FCFS</li></ul></li><li>两种优先权<ul><li>无强制优先规则：当前服务不被打断的情况下，按照优先级选择下一个服务的顾客<ul><li>对于优先级<span class="math inline">\(i\)</span>，到达时间间隔服从均值为<span class="math inline">\(\cfrac{1}{\lambda_i}\)</span>的（负）指数分布</li><li>不管优先级，服务时间服从均值为<span class="math inline">\(\cfrac{1}{\mu}\)</span>的（负）指数分布</li><li>只有一个服务台</li><li>平均到达率为各优先级顾客到达率之和 <span class="math display">\[\rho=\cfrac{\lambda_1+\lambda_2+\cdots+\lambda_n}{s\mu}\]</span></li></ul></li><li>强制优先规则：优先服务具有优先权的顾客，且打断正在进行的服务<ul><li>对于优先级<span class="math inline">\(i\)</span>，到达时间间隔服从均值为<span class="math inline">\(\cfrac{1}{\lambda_i}\)</span>的（负）指数分布</li><li>不管优先级，服务时间服从均值为<span class="math inline">\(\cfrac{1}{\mu}\)</span>的（负）指数分布</li><li>只有一个服务台</li><li>平均到达率为各优先级顾客到达率之和 <span class="math display">\[\rho=\cfrac{\lambda_1+\lambda_2+\cdots+\lambda_n}{\mu}\]</span></li></ul></li></ul></li></ul><h3 id="绩效度量">绩效度量</h3><ul><li>排队系统中多少顾客在等待？</li><li>顾客需要等待多少时间？</li></ul><h4 id="绩效度量指标">绩效度量指标</h4><ul><li><span class="math inline">\(L\)</span>：系统中顾客数量期望值，包括正在接受服务的顾客</li><li><span class="math inline">\(L_q\)</span>：队列中的顾客数量期望值，不包括正在接受服务的顾客数</li><li><span class="math inline">\(W\)</span>：一个顾客在系统中的等待时间期望值（包括服务时间）</li><li><span class="math inline">\(W_q\)</span>：一个顾客在队列中的等待时间期望值（不包括服务时间）<span class="math display">\[W=W_q+\cfrac{1}{\mu}\]</span></li><li>这些定义假设系统处于稳态（steady-statecondition），也就是说系统处于已经工作一段时间之后的正常运行状态<ul><li>在排队系统开始运行阶段，系统中没有顾客，需要经过一定时间后系统中的期望顾客数量才会达到正常水平</li><li>稳态条件排除了短时间内平均到达率突然上升的非正常情况</li></ul></li></ul><h4 id="little公式">Little公式</h4><ul><li>排队论中最重要的公式之一 <span class="math display">\[L=\lambdaW\]</span></li><li><span class="math inline">\(L_q=\lambda W_q, W=\cfrac{L}{\lambda},W_q=\cfrac{L_q}{\lambda}\)</span></li><li><span class="math inline">\(L=\lambdaW=\lambda(W_q+\cfrac{1}{\mu})=L_q+\cfrac{\lambda}{\mu}\)</span></li><li>排队系统中顾客数=排队系统平均等待时间×单位时间到达顾客数（平均到达率）</li></ul><h4 id="用概率作为绩效度量指标">用概率作为绩效度量指标</h4><ul><li>最坏情况，即在一小部分时间内（小概率）<ul><li>系统或者队列中最多的顾客数是多少？</li><li>顾客的最长等待时间是多少？</li></ul></li><li><span class="math inline">\(P_n\)</span>：系统中有<span class="math inline">\(n\)</span>个顾客的稳态概率<ul><li>例<ul><li>假设目标在95%时间内系统的顾客数不超过3个，则 <span class="math display">\[P_0+P_1+P_2+P_3\geq 0.95\]</span></li><li>假设目标要求至少95%的顾客在系统中的等待时间不超过2小时<span class="math display">\[\text Pr(\scr W\leq 2 \text{ hours})\geq0.95\]</span>W表示一个顾客在稳态系统中的随机等待时间的期望</li></ul></li></ul></li></ul><h3 id="案例分析">案例分析</h3><p>Dupit公司案例 - 目前制度 -每名技术服务代表所负责的区域内应该有足够多的设备，使得他们大约75%的时间在从事维修工作（或在前往维修地点的路上）-连续工作时，每名技术代表平均一天应当能够维修4台设备（平均每台设备2小时，包括路上的时间）- 为了使顾客的等待时间最短，技术代表每工作日应平均接到3个维修电话 -设备每50个工作日就要进行一次维修，因此要为每名技术代表负责的区域指定大约150台设备 - 共10000名技术代表，年支付工资6亿美元（包括奖金） - 问题及建议 -公司的一款新产品——彩色打印复印一体机成为了购买者办公室的重要工具，因此需要更高水平的服务来减少设备的故障时间- 建议的新服务标准：顾客的平均等待时间从6小时降低到2小时 -可供选择的解决方案 -约翰的建议：每个代表负责较小的区域（负责更少的机器），从而降低每个代表期望工作时间所占百分比- 工程副总裁建议：为技术代表提供新的设备，缩短维修时间 -首席财务官建议：将现在由一个人负责的小区域变成几个人负责的大区域，在忙碌时间段通过团队支持可以大幅缩短平均维修等待时间，而不需要雇佣新代表-营销副总裁建议：给新打印机客户优先维修的权利，因为服务不及时的抱怨主要来自于这类客户</p><p>让我们说中文： - 顾客：需要维修的设备（新旧打印机） -顾客到达：打给每名技术代表的保修电话 - 队列：顾客所在地等待修理的设备 -服务者：技术代表 -服务时间：技术代表花在一台设备上的总时间，包括维修时间和路上的时间（当技术代表开始前往这台设备所在地时，即视为该设备进入服务系统）- <span class="math inline">\(\mu=4,\rho=0.75\Rightarrow\lambda=3\)</span></p><h4 id="约翰建议的制度">约翰建议的制度</h4><ul><li>新服务标准要求 <span class="math inline">\(W_q\leq\cfrac{1}{4}\text{day}\)</span></li><li><span class="math inline">\(\lambda=3\)</span>降低到<span class="math inline">\(\lambda=2\)</span>，<span class="math inline">\(\rho=\cfrac{\lambda}{\mu}=0.5\)</span></li><li>需要额外雇佣5000名技术代表，产生每年3亿美元成本<ul><li><em>可能的理由：<span class="math inline">\(10000\times3=15000\times 2\)</span></em></li></ul></li></ul><h4 id="工程副总裁建议">工程副总裁建议</h4><ul><li>平均值维修时间将从<span class="math inline">\(\cfrac{1}{4}\)</span>缩短到<span class="math inline">\(\cfrac{1}{5}\)</span>工作日</li><li>标准差将从<span class="math inline">\(\cfrac{1}{4}\)</span>减少到<span class="math inline">\(\cfrac{1}{10}\)</span>工作日</li><li>一次性成本大约5亿美元</li></ul><h4 id="首席财务官建议">首席财务官建议</h4><ul><li>M/M/1模型变成M/M/s模型</li><li>把三个相邻的技术代表负责的区域合并为一个区域可满足新标准</li><li>无增加成本</li></ul><h4 id="营销副总裁建议">营销副总裁建议</h4><ul><li>只将新服务标准应用于新打印机客户，赋予他们优先维修的权利</li><li>无增加成本</li></ul><h4 id="总结">总结</h4><table><thead><tr class="header"><th>Proposer</th><th>Proposal</th><th>Additional Cost</th></tr></thead><tbody><tr class="odd"><td>John Phixitt</td><td>Maintain one-person territories, but reduce number of machinesassigned to each from 150 to 100</td><td>$300 million per year</td></tr><tr class="even"><td>VP for Engineering</td><td>Keep current one-person territories, but provide newstate-of-the-art equipment to the tech-reps</td><td>One-time cost of $500 million</td></tr><tr class="odd"><td>Chief Financial Officer</td><td>Change to three-person territories</td><td>None, except disadvantages of larger territories</td></tr><tr class="even"><td>VP for Marketing (Chosen)</td><td>Change to two-person territories with priority given to theprinter-copies for repairs</td><td>None, except disadvantages of larger territories</td></tr></tbody></table><h4 id="管理启示">管理启示</h4><ol type="1"><li>设计一个单服务台系统时，相对较高的服务台有效因子（工作强度）将使系统的绩效度量指标大幅降低</li><li>降低服务时间的波动（不改变均值）可以大幅改进单服务台排队系统的绩效（对于多服务台排队系统也是这样，特别是具备较高有效因子的系统）</li><li>具有较高有效因子的多服务台排队系统能够表现的比单服务台系统更好。例如，通过将分立的单服务台排队系统组合为一个多服务台排队系统（不改变有效因子）产生的联合服务台大大改善了系统的绩效</li><li>根据优先级选择顾客进行服务可以大幅改善高优先级顾客服务的绩效度量指标</li></ol><h3 id="泊松分布">泊松分布</h3><p>如果一个离散随机变量<span class="math inline">\(X\)</span>（可能取值为非负整数）服从泊松分布，那么其概率密度函数为<span class="math display">\[f(k;\lambda)=\text{Pr}(X=k)=\cfrac{\lambda^k\texte^{-\lambda}}{k!}\]</span>其中，<span class="math inline">\(k\)</span>为事件出现的次数（<span class="math inline">\(X\)</span>的取值），<span class="math inline">\(\lambda=\text E(X)=\text{Var}(X)\)</span></p><h4 id="泊松到达">泊松到达</h4><p>排队系统中，如果单位时间内顾客到达服从参数为<span class="math inline">\(\lambda\)</span>的泊松分布，则称顾客随时间的到达过程为泊松到达- <span class="math inline">\(N(0)=0\)</span> -独立增长（任何不相交的时间段内到达的顾客数量相互独立） - 任何长度为<span class="math inline">\(t\)</span>的时间段内顾客到达的数量服从参数为<span class="math inline">\(\lambda t\)</span>的泊松分布。即对于任何<span class="math inline">\(s,t\geq 0\)</span>，有<span class="math display">\[\text{Pr}[N(t+s))-N(s)=n]=\cfrac{(\lambdat)^n}{n!}\text e^{-\lambda t}, \ \ \ \ n=0,1,\cdots\]</span> - 时间<span class="math inline">\(t\)</span>内的平均到达数量为<span class="math inline">\(\text E[N(t)]=\lambda t\)</span> -单位时间内的平均到达率为<span class="math inline">\(\lambda\)</span></p><ul><li>对于泊松过程，至少一个顾客在<span class="math inline">\([0,t)\)</span>到达的概率为：<span class="math display">\[\text{Pr}[N(t)\geq 1]=1-\text{Pr}[N(t)=0]=1-\texte^{-\lambda t}\]</span></li><li>至少一个顾客在<span class="math inline">\([0,t)\)</span>到达，等价于顾客到达时间间隔<span class="math inline">\(\leq t\)</span></li><li>排队系统中，如果顾客的到达时间间隔服从（负）指数分布，则单位时间内顾客的到达数量服从参数为<span class="math inline">\(\lambda\)</span>的泊松分布，到达率为<span class="math inline">\(\lambda\)</span>；反之亦然。</li><li>泊松分布中两个连续到达的顾客的到达时间间隔是（负）指数分布的。</li><li>M/M/s的顾客到达是泊松过程</li></ul><h3 id="生灭过程">生灭过程</h3><ul><li><p>大多数排队模型假设顾客到达和离开排队系统服从生灭过程(birth-and-deathprocess)</p><ul><li>出生(birth)：一个新的顾客到达排队系统</li><li>死亡(death)：一个接受完服务的顾客离开排队系统</li></ul></li><li><p>系统在时刻<span class="math inline">\(t\geq 0\)</span>的状态</p><ul><li><span class="math inline">\(N(t)\)</span>：排队系统在时刻<span class="math inline">\(t\)</span>的顾客数量</li></ul></li><li><p>生灭过程在概率上描述了排队系统的状态<span class="math inline">\(N(t)\)</span>如何随时间变化</p></li><li><p>假设：</p><ul><li>给定<span class="math inline">\(N(t)=n\)</span>，直到下一次出生（到达）前剩余的时间服从参数为<span class="math inline">\(\lambda_n\)</span>的指数分布</li><li>给定<span class="math inline">\(N(t)=n\)</span>，直到下一次死亡（服务完成）前剩余的时间服从参数为<span class="math inline">\(\mu_n\)</span>的指数分布</li><li>出生与死亡是相互独立的</li><li>系统的下一个状态或者是<span class="math inline">\(n\rightarrown+1\)</span>（出现一个到达）或者是<span class="math inline">\(n\rightarrown-1\)</span>（出现一个离开），取决于哪个事件先发生</li></ul></li><li><p>目标：求出当<span class="math inline">\(t\rightarrow\infty\)</span>，<span class="math inline">\(N(t)\)</span>的稳态概率(steady statedistribution)，也就是<span class="math inline">\(P_0,P_1,P_2,\cdots\)</span> <img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/0117c97e18555bf4b809e0bd2c6d990.png"></p></li><li><p>状态转移图</p><ul><li>节点：系统状态</li><li>箭头：系统状态仅有的可能转移（每个箭头上的数字给出了系统处于前尾状态时转移的平均率）<img src="/2024/10/12/%E7%AE%A1%E7%90%86%E7%A7%91%E5%AD%A6/553a8544a595eb7ac1be762668a95d2.png"></li></ul></li></ul><h4 id="rate-in-rate-out原则">Rate-in-rate-out原则</h4><ul><li>考虑系统的任意状态<span class="math inline">\(n(n=0,1,2,\cdots)\)</span></li><li>从时间0开始，假设统计该过程进入此状态的次数和离开此状态的次数。<ul><li><span class="math inline">\(E_n(t)\)</span>：系统进入此状态的次数</li><li><span class="math inline">\(L_n(t)\)</span>：系统离开此状态的次数</li></ul></li><li>由于进入和离开两个事件必然是交替发生，因此<span class="math display">\[|E_n(t)-L_n(t)|\leq1\Rightarrow\left|\cfrac{E_n(t)}{t}-\cfrac{L_n(t)}{t}\right|\leq\cfrac{1}{t}\Rightarrow\lim_{t\rightarrow\infty}\left|\cfrac{R_n(t)}{t}-\cfrac{L_n(t)}{t}\right|=0\]</span>其中<span class="math inline">\(\cfrac{E_n(t)}{t}\)</span>和<span class="math inline">\(\cfrac{L_n(t)}{t}\)</span>分别表示截止至<span class="math inline">\(t\)</span>内系统实际进入和离开状态<span class="math inline">\(n\)</span>的平均次数，<span class="math inline">\(\displaystyle\lim_{t\rightarrow\infty}\cfrac{E_n(t)}{t}\)</span>和<span class="math inline">\(\displaystyle\lim_{t\rightarrow\infty}\cfrac{L_n(t)}{t}\)</span>分别表示系统进入和离开状态<span class="math inline">\(n\)</span>的平均率</li><li>主要原理：平均到达率=平均离开率</li></ul><h4 id="平衡方程">平衡方程</h4><ul><li>对系统的任何状态<span class="math inline">\(n(n=0,1,2,\cdots)\)</span>，平均到达率=平均离开率</li><li>平衡方程：<span class="math display">\[\begin{align}\mu_1P_1&amp;=\lambda_0P_0\\\lambda_0P_0+\mu_2P_2&amp;=(\lambda_1+\mu_1)P_1\\\lambda_1P_1+\mu_3P_3&amp;=(\lambda_2+\mu_2)P_2\\&amp;\vdots\\\lambda_{n-2}P_{n-2}+\mu_nP_n&amp;=(\lambda_{n-1}+\mu_{n-1})P_{n-1}\\\lambda_{n-1}P_{n-1}+\mu_{n+1}P_{n+1}&amp;=(\lambda_n+\mu_n)P_n\\\vdots\end{align}\]</span></li></ul><h4 id="稳态概率">稳态概率</h4><p><span class="math display">\[\begin{align}P_1&amp;=\cfrac{\lambda_0}{\mu_1}P_0\\P_2&amp;=\cfrac{\lambda_1}{\mu_2}P_1+\cfrac{\mu_1P_1-\lambda_0P_0}{\mu_2}=\cfrac{\lambda_1\lambda_0}{\mu_2\mu_1}P_0\\P_3&amp;=\cfrac{\lambda_2}{\mu_3}P_2+\cfrac{\mu_2P_2-\lambda_1P_1}{\mu_3}=\cfrac{\lambda_2\lambda_1\lambda_0}{\mu_3\mu_2\mu_1}P_0\\&amp;\vdots\\P_n&amp;=\cfrac{\lambda_{n-1}}{\mu_n}P_{n-1}+\cfrac{\mu_{n-1}P_{n-1}-\lambda_{n-2}P_{n-2}}{\mu_n}=\cfrac{\lambda_{n-1}\lambda_{n-2}\cdots\lambda_0}{\mu_n\mu_{n-1}\cdots\mu_1}P_0\\P_{n+1}&amp;=\cfrac{\lambda_n}{\mu_{n+1}P_n}+\cfrac{\mu_nP_n-\lambda_{n-1}P_{n-1}}{\mu_{n+1}}=\cfrac{\lambda_n\lambda_{n-1}\cdots\lambda_0}{\mu_{n+1}\mu_{n}\cdots\mu_1}P_0\\&amp;\vdots\end{align}\]</span></p><h4 id="系统度量指标">系统度量指标</h4><p>令<span class="math inline">\(C_n=\cfrac{\lambda_n\lambda_{n-1}\cdots\lambda_0}{\mu_{n+1}\mu_{n}\cdots\mu_1}\)</span>，<span class="math inline">\(C_0=1\)</span> 则<span class="math inline">\(P_n=C_nP_0\)</span>，因此<span class="math display">\[P_0=\cfrac{1}{\sum_{n=0}^\infty C_n}\]</span> -系统长度：<span class="math inline">\(\displaystyle L=\sum_{n=0}^\inftynP_n\)</span>，排队长度<span class="math inline">\(\displaystyleL_q=\sum_{n=s}^\infty(n-s)P_n\)</span> - 系统等待时间：<span class="math inline">\(W=\cfrac{L}{\bar\lambda}\)</span>，<span class="math inline">\(W_q=\cfrac{L_q}{\bar\lambda}\)</span>，其中，<span class="math inline">\(\displaystyle\bar\lambda=\sum_{n=0}^\infty\lambda_nP_n\)</span>- 在M/M/1中 - <span class="math inline">\(C_n=(\cfrac{\lambda}{\mu})^n=\rho^n\)</span> -<span class="math inline">\(P_0=1-\rho\)</span> - <span class="math inline">\(P_n=(1-\rho)\rho^n\)</span></p>]]></content>
    
    
    <categories>
      
      <category>2024FG</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2024.09.19 幸运的保研与支教前</title>
    <link href="/2024/09/19/%E5%B9%B8%E8%BF%90%E7%9A%84%E4%BF%9D%E7%A0%94%E4%B8%8E%E6%94%AF%E6%95%99%E5%89%8D/"/>
    <url>/2024/09/19/%E5%B9%B8%E8%BF%90%E7%9A%84%E4%BF%9D%E7%A0%94%E4%B8%8E%E6%94%AF%E6%95%99%E5%89%8D/</url>
    
    <content type="html"><![CDATA[<p>很久没写杂感了，暑假前期天天打游戏爽玩，后期在学校带军训，都没写成。可见太闲或者太忙都让人丧失写日记的欲望。正经人谁写日记啊。</p><span id="more"></span><p>先贴两张公示的图片，存档。</p><p>第一张是支教的名单公示，取前19名。 <img src="/2024/09/19/%E5%B9%B8%E8%BF%90%E7%9A%84%E4%BF%9D%E7%A0%94%E4%B8%8E%E6%94%AF%E6%95%99%E5%89%8D/8ca97d6316c9044aa5d1c2a038b3fe1.png"></p><p>第二张是预推免名单公示。 <img src="/2024/09/19/%E5%B9%B8%E8%BF%90%E7%9A%84%E4%BF%9D%E7%A0%94%E4%B8%8E%E6%94%AF%E6%95%99%E5%89%8D/9421c342e2a156cd693c418a8a6239e.png"></p><p>在军训后期，我也拿到了安泰量化的offer。</p><p>这样的话，保研就算是尘埃落定了。父母悬着的心也放下了，我也感觉如释重负。总结来看，我的整个保研过程就如同蜻蜓飞在水面上，每次快要落水的时候就点一下水救起，最终飞上了岸。</p><p>纵观这半年，不可不谓幸运。从最开始安泰春令营找老师写推荐信，在下午第六节课上课前偶遇唐宗明老师，请她帮我写，我感觉能入春令营大概率离不开她的这封推荐信。后来在星巴克我和同学讨论大创，唐老师直接和我说入营了，让我好好准备，当时刚好放清明节还是五一节。不过我似乎也没有准备很充分，就参营去了。结果不出所料，计量被笔试和面试疯狂拷打。当时我是觉得寄了，不过柳暗花明又一村，后来我打电话给招生办老师，她说我的位次是候补第一位。一方面我担心她是在忽悠我，让我不要去别的学校，因为同时她也在反复问我还有没有报别的学校的夏令营。另一方面我还是心存侥幸，因为毕竟这意味着获得offer的概率还挺大的。</p><p>然后就是预推免名额。准备下学期的期末考试，期间其实还去了复旦管院的夏令营，结果直接笔试被刷。哼哼，管院学费26.8w，让我去我都没钱去，还是安泰好啊。虽然说要准备保研，排名很重要，但是我这一学期还是选了额外的专业课，结果最后分数果然不尽如人意，尤其是商业银行经营管理这门课。排名也只有54/144，大概是前40%左右。只能说在推免的线附近。</p><p>后来了解到支教保研这个选择。我想了想，支教保研也挺好。保研是次要的，能去支教也很符合我的个性，这个方案是两全其美。所以我和思政老师说明了意愿，思政老师也很关心我，让我早点准备材料，也安排我去带一次军训锻炼下自我。可惜军训期间也发生了一些事情，让他痛斥我“一手好牌打烂了”。学院的老师帮我改申请书和材料啥的，然后就是准备答辩ppt。当时军训真的很累，我晚上回到宿舍之后基本都没有力气动脑想ppt，只想睡觉。后来临近答辩，我还没做好。不过运气真的不错，答辩不需要ppt，只需要一个一分钟的自我介绍。于是我在回家的地铁上把自我介绍写了，省了不少时间。</p><p>军训结束后两天就是支教答辩。答辩是7—8人一组，先轮流自我介绍，然后所有评委随机点人提问。我是最后一个介绍的。一进教室，我看见军训团的政委赵昕老师坐在所有老师正中间的位置，心想有个熟悉的老师，还不错。谁料我介绍完后，他立马开始对我发难，直接问：“我们经管学院的学生，你入党申请书交没交呀？”虽然前一天我和老师们准备答辩的时候也考虑了我不是党员的问题，对于入党申请书是先说交了，回头再补。但是在答辩现场，我还是没敢说假话。我想如果赵老师直接一个电话打给我们学院的书记，或者问一些入党申请书的细节，我答不上来，这不就完了，还不如如实回答，所以就说没交。然后他追问为啥没交，我就说第一不是党员也能为人民服务，第二我准备磨练自己后面再交。看着他复杂的神情，我想这下怕是凉凉了。</p><p>说回到思政老师。苗老师对我真的挺好的，但是他和我说话有时也口径不一，虽然我知道这也不是他的问题，而是他收到的信息就是这样。大三下学期最开始，我有些焦虑研究生的事，找他聊了聊，他说我这个排名没问题。后来临近期末，他说有点悬，让我努把力。报名支教的时候，他又说有点危险，让我好好准备支教，走支教的路线，这样最好的情况还能为学院节省下名额。同时，他还强调支教竞争非常激烈，问我的经历能不能行。后来确认我支教的意向的时候，他说今年支教竞争不激烈，好像挺容易的，说我的成绩有优势。军训后期，临近研究生推免的时候，我和他聊天，他最后说今年名额多，我这个成绩应该可以上。结果就是我的成绩应该确实可以上，但是我还是选择了支教，给学院节省名额。</p><p>答辩后我立马给思政老师，还有军训时的指导员张老师打电话，说我支教怕是黄了。他们对我实话实说入党申请书没交的表现深表无语，并安慰我说没关系重在参与。我自己也觉得没了，一天都在想怎么答辩的，这个问题怎样才能回答得更好。不过我对赵昕老师很有好感，因为我记得他曾经说过他喜欢有个性的干部。</p><p>又过了一天，我正常在家里的打金铲铲，运营了半天准备直奔老八了。结果有一个已经在支教的学姐给我发微信，说恭喜我进了。我很是惊讶，看着她给我发的名单找了半天。结果在最后找到了我的名字。一共选19人，我排并列第17，真的是差点名落孙山啊。看到名单上还有一些熟悉的名字，我感觉自己真的太幸运了。然后我就和父亲说，有一个好消息和一个坏消息，把我保研和支教的事情和父母说了一遍。因为我之前一直都是对外宣称考研的，怕期望越大失望越大。现在研究生终于八九不离十了，我也终于可以和父母说了。说说笑笑差不多后，我回到pad旁边一看金铲铲，果然老八离场了。现在谁还有心思玩，肯定是先把喜讯和老师朋友们分享一下。</p><p>昨天预推免名单出来，我还在和申兄在外面吃齐齐哈尔烤肉，那个冻梨真的太好吃了，不知道是怎么做出来的。后来对了下名单，发现大部分人我都有微信好友，看来大学期间也算是结交了很多厉害的同学。学院理论上有95个名额，但是实际上只用了89个，还剩下了几个，想必是没有确定接收方。后来我意识到，如果没有支教，我的排名和offer也能支持我保研安泰。有了支教，我似乎都不需要根据排名的预推免名额和夏令营的offer，这俩似乎都是学校和学院分配的。真是哭笑不得。但我这样，确实给学院节省出了一个预推免名额，也给安泰金专节省了一个offer的名额，相当于候补的顺位又可以往后顺延一位了。量化方向顺延的那个同学刚好和我认识，他也在微信上问我支教的事，真是有缘啊。</p><p>总体来说，保研还是很幸运的。我也和硕神说了，他说不能这么想。我觉得想想应该也没问题，但是也要看到其中的必然性。明天上午要去闵行的五院做研支团的体检，希望后面能够一切顺利吧。大四要先修一些研一的课，不然要累死。等后面做一个规划吧。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.06.24 简记</title>
    <link href="/2024/06/23/%E7%AE%80%E8%AE%B0/"/>
    <url>/2024/06/23/%E7%AE%80%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>今天晚上有点难受。赌球输了5u，买的捷克赢格鲁吉亚，结果平了。辛辛苦苦做的图数据库大作业，结果无济于事，分数还是一样，感觉白做了。唉，在现在的竞争背景下，去功利化真的好难。一看商业银行，辛辛苦苦熬夜搞，写了7w字100多页，结果分数才80出头。唉，真是服了。今晚真的很frustrating。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.06.15 一个哀伤的晚上</title>
    <link href="/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/"/>
    <url>/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/</url>
    
    <content type="html"><![CDATA[<p>我不知道为啥要写这篇文章，是为了陈述苦难，还是为了写出一个乞丐的尊严，还是为了写出一些哀伤，一些不平，一些无味的批判？正如我不知道为啥安泰要在恢复建院40周年的时候大举庆祝，不知道安泰的生日究竟是从哪天算，不知道我是否能共情安泰的恢复建院。我讨厌无病呻吟，但至少我知道写这篇文章是为了记录一个有意思的事件，正如我知道今天安泰的人们心情都还不错。</p><span id="more"></span><p>今天在图书馆复习金融工程期末。晚上8点半打铃，催人清场，我正好在看期权的上下限范围确定，真是头皮发麻。从地铁下面回宿舍，刚进徐家汇站3号口，碰到一位盲人老奶奶。</p><p><img src="/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/0eb4c5ab4672d6b5889dab5b57ef287.jpg"></p><p>我看到她的背影，拿着一根金属的盲杖，走在盲道上，一点点试探，然后往前。教科书般的流程让我有些诧异。我心想还真有人这么标准地使用盲杖和盲道？于是快步从后面赶上去，走到她身侧的时候我就在心里骂自己，因为我发现她真的是个盲人。</p><p>3号口下面是楼梯，我站在楼梯上往回看，老奶奶似乎是要下楼梯。我象征性地犹豫了一秒，果断走了回去。我想着要不要扶她一把，一边观察一边在心里打架。是不管，还是静观其变，还是主动出手？不管首先被淘汰，在静观其变和主动出手之间反复纠结。从图书馆出来的人很多，旁边走过来一些人，像看见外星人一样也诧异地看，然后小心地离开。有一个女生，穿着蓝黑色的高中校服，站在原地看着她。或者也有可能在看着我，我也站在原地看着她俩，形成一个怪异的局势。老奶奶不知道这些，她一步一步往前走，已经探到楼梯了，然后熟练地往墙壁处摸索，想找扶手。我心里比她还急。终于她摸到扶手了，伸出去的脚悬在空中，我绷不住了，果断出手用力握住她的手臂，扶起了她。</p><p>“谢谢你啊，小帅哥。”老奶奶连声道谢，但我却思绪万千。那个高中女生在眼角的余光中走了，像一弯浅浅的海峡。我想她愣在原地的时候，心里活动一定不比我弱，因为她还要观察我的反应。其实我也考虑到她，我身为一个大学生，眼睁睁地看着她提供帮助，而我袖手旁观，岂不是太羞愧了。现在我已出手，不知道她作何感想。我又想到之前写作文的时候都是胡扯，哪有人能够看到需要帮助的人，直接二话不说提供帮助？纠结才真是真实现象。总算是体会到所谓矛盾纠结犹豫的心理了，果然写作文不能无病呻吟。但是又转念一想，要是以前小时候的我，出手的速度或许比现在更快。</p><p>我用力抓着她的手臂，有点凉凉的。“老奶奶，您要到哪里去？”我小声问她，注意到她手上拿着一个不锈钢碗，胸前挂着微信收款码，是要饭的。“我好饿，”她的声调有点尖，吐字有些模糊，“我去要饭，两天没吃饭了，没人给我钱，要不到。”</p><p>我看着她碗里的令人难绷的两个钢镚，苦涩地想这上哪要饭去。现在人都不带零钱了，而且地铁里大家行色匆匆哪有人施舍。下到楼梯底端，她又说“谢谢你呀，小帅哥。”把头扭向我的方向。我有点怀疑她怎么知道我是男的？然后我突然想到妈妈以前说的话。她说每次她碰到要饭的，不给现金，而是去买点吃的，比如馒头什么的送给乞丐。虽然不知道她从哪学到的这招，但我确实认为这是一个好的做法。我记得初中的时候我就这么做过，在小区楼下买过一个馒头和一个茶叶蛋给一个乞丐。于是我抬起头，突然发现这是上海，这是上海徐家汇，这是晚上9点的上海徐家汇。路边也没有包子店，让人哭笑不得。</p><p>好在立马就想到了外卖。我拉住老奶奶，和她说：“我给您买吃的吧。”她高兴地笑了：“好，好，谢谢小帅哥。我想吃饭。我有高血糖，不吃太甜的。酸的和辣的都行。”我去，这还挑起来了？我又感觉了一丝奇怪。“就送到这个地铁站吧，我们上去拿。”说着，她又往回走，想重新走上楼梯。</p><p>我有点沉默，但是还是扶着她慢慢走，心想她是骗子的可能性多大。“平常您怎么吃饭？”我问道。“就要饭，要得到就吃，要不到就饿着。一天都要不到饭，就一直饿。两天没吃了。”她回答说，语气中还有一丝幽怨。我有些好奇，又问：“那您晚上睡哪？”她说：“睡8号口那边。这边老是有人赶我，8号口也得等地铁关门后才可以，那边安稳一点，下雨天也淋不到雨。”</p><p>有些可怜，我掏出了手机。“谢谢你啊，小帅哥。”走上楼梯后，她席地而坐，再次和我道谢。我想外卖肯定是要点的，手指慌乱地在屏幕上划来划去，不知道应该给她买什么。“我给您点外卖，但是您要吃什么，能不能具体一点？”“我想吃饭，不要太甜的，我有高血糖。酸的和辣的都可以。谢谢。”“吃什么肉？”“都吃，蔬菜也吃。”我想这问也没问出什么名堂来，还在迟疑什么，干脆一点，于是看到有一个券，就随便选了一家，忘记店名了，然后点了一些肉和蔬菜，还有蛋。一份27元。地址填在徐家汇地铁站3号口。</p><p>手机号怎么填？我试探性地问了下她。她还真给我报出了她的手机号。我去，居然还有手机？我又看到她脖子上挂的收款码，心里的疑云越来越重。她让我打一下她的手机，看看通不通。我打了，听铃声是按键手机。“您的手机有电吗？”我问。“有，”她说，“8号口有一个小美女，帮我在她的店里给手机充电。”彳亍，脑子里昏昏的，我就把她的手机号填了上去，付款下单。其实应该填我自己的。</p><p>她坐在地上，从不知道哪里掏出一个矿泉水瓶，里面大概还有一口水，20ml左右吧，然后拧开瓶盖大口喝了一口。结果一口估计就喝了5ml。我心里酸酸的。她说：“小帅哥能不能顺便再买点水来，没水喝了。”我看着支付成功的界面，心想坏了，怎么忘记买水了。</p><p>“我从我杯子里给您倒点水吧。”说着我从我包里摸索着水杯，再拧开她的矿泉水瓶盖。没想到她却说不要不要。“在外面要注意卫生……”她絮絮叨叨解释道。我去，我都没嫌弃你，你倒是嫌弃起我来了。彳亍，我觉得她说的也有道理，而且这也不是长久之计，便收起了水杯。刻板印象中，乞丐们如果能喝到水，肯定是不顾一切地去索取的，我想这个刻板印象是不是有点问题，对她的看法更加复杂起来。</p><p>“行，那我给您买水吧。”我又打开美团。“不要买甜的水，买那个苦的水，那个对高血糖管用。好像叫乌龙茶还是什么，”她的话再一次惊到了我，“之前有个小伙子给我买过，管用。”我没想到水还有讲究，况且矿泉水不是什么添加剂都没有，这不比乌龙茶有用多了。乌龙茶还能管高血糖？便和她说。她又说了一堆，我想她应该是不懂的，但是没说出来，只是默默地在手机上买了两瓶1.5L的矿泉水。</p><p>外卖有最低起送额，两瓶水还不够。于是我问她还有什么要买的，一起买了。她说纸巾，于是我选了一包抽纸和一包手帕纸。她又说要牙刷和牙膏。</p><p>我对她顿时肃然起敬，重新打量起她来。虽然她是乞丐，但是衣服裤子却并没有很脏，身上也没有异味，和刻板印象差别还是挺大的。这可能也是刚开始让我怀疑她的身份的原因之一，毕竟她和通常见到的乞丐相比实在太干净了。她慢慢说她在地铁里还是厕所里，找地方洗漱，牙刷都刷烂了。</p><p>“地铁里的人经常赶我，不让我呆着，还有城管。”她看着我的方向和我说着，语气平静，“我就在1号口和8号口之间来回。”我挑了优惠的牙膏牙刷，下了单。突然她又说有没有肥皂，洗头每次洗不干净。我去，真会抓timing，没办法，送佛送到西吧，便重新打开了购物界面。“还有啥要买的吗，您再想想。”“没了，吃的，洗的，都有了，没别的了，谢谢小帅哥啊。”她想了想说，又喝起了她矿泉水瓶里少的可怜的水。我挑了一个肥皂，结果外卖还是差点钱起送。行吧，那就给你买乌龙茶，想着又挑了一瓶1.5L的乌龙茶。</p><p>付完钱，我想着应该和她聊些什么。于是，我问起了她的过去。她是贵州人，十六岁和表姐一起来到上海打拼，今年已经五十多了。我想知道她是什么时候来到徐家汇地铁站的，以前又是怎么生活的。她说她也不记得什么时候来的，就记得是疫情之前，在这边遇到了一个小伙子，人很好，一直帮助她。居然还知道疫情，说不出来的感觉在我心中闪现。</p><p>说着说着，她不知从哪摸出来一张二十元的纸币，问我这是多少钱。我如实说了，她面带笑容说：“明天就用这个钱买饭吃了。”看来这就是她最近的收获。可是如此窘迫，这几年她到底是如何撑过来的？她说起了那个善良的小伙子。</p><p>“他是大学生，之前在这边遇到我，就一直帮我，给我饭吃。”我想这附近的大学不会也是交大的吧，她接着说：“在这边的时候，他在上学时就一直帮我。后来他毕业工作了，是在广告公司。去了外地，北京，找了一个小美女帮我，经常给我送钱，送吃的，还给我买药——我有高血糖、高血压。后来，有一天，小美女给我送了一堆东西，还有钱，然后和我说她不再继续来看我了。我不会去打听这些年轻人的事，什么女朋友啊什么的，我不打听这些……”疫情几年，三个人重叠的人生，就这样从她的话语简短地重演，仿佛一盒蒙了灰的录像带，丰富而平淡。“这个收款码也是那个小帅哥给我做的。”她补充道。</p><p>说到收款码，我连忙像抓住了什么，赶紧问她平常怎么付钱，如果要给她钱，是现金还是扫码。她说都可以。我摸了摸包，好像没有现金，随后让她把手机拿出来给我看看。我猜测她用的是按键手机，那怎么可能能用微信收款码呢？这个问题不解决，就没法打消我对她的不信任。她见状连忙说：“小帅哥我和你说实话，我没法扫码，是让别人帮我……”交流了半天，我大概理解了整个逻辑：这个收款码似乎是之前那个小伙子的。通过把钱转给小伙子，小伙子打电话给老奶奶确认，然后把钱转给老奶奶身边有现金的人兑换成现金给她用。行，这样的话那我就给您转一点吧，我拿出手机扫了付款码。</p><p>电子支付有一个弊端，就是对钱没有什么概念。我面对着转账界面，不知道应该转多少好。本来想转个88元，但是一想这个寓意对盲人来说是不是有点不合适，就换一个。但是脑子里不是66元就是88元，一想算了，就100元吧，就转了100元。</p><p><img src="/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/679701c81f12d835ccee8854bd23f81.jpg"></p><p>“转完了。”我看着她仍举着收款码的手，提醒道。“转了多少钱啊？”“100元，”我说，不知道这些对她而言是否够。“噢，好，谢谢小帅哥。”她和我道谢，语气中似乎有一丝悲伤。“我还是学生，没什么钱。”明知道她不会和我索求，我还是尴尬地补充道。相对她而言，其实我有钱，但我却没有给她更多，看着转账界面和数字键盘，我感觉这就像是张大嘴巴的恶魔等待我的投喂，而我也不知道应该喂出多少。其实我也没道理给她很多钱，我也没有很多钱，这也不是长久之计。但是我不知道。电子支付究竟是让人对钱更敏感了，还是更不敏感了呢？</p><p>她来电话了，是卖肥皂的超市，说这个品种的肥皂没了，能不能换一个更好的品种。我让她把电话给我，说：“好的，谢谢。”</p><p>又问起她的眼睛，她说她一点也看不见，就靠摸索，已经摸清了徐家汇地铁站1号口到8号口的话环境了，再往前就不知道，会迷路。我确认了这点，因为在她讲话的时候我故意偷偷静步走到另一个方向去，但是她头的朝向却没有改变。问起她为什么会失明，她说受了伤，似乎被人拿刀砍了，嘟嘟囔囔说了一堆，我也没听大懂。问失明的时间，二十七岁，记得很清楚，回答得很坚决。</p><p>我心里一算，二十多年失明了，不知道是否应该感叹她生命的顽强。她说以前在上海大学那边，后来才过来。可是就像这么要饭，靠这几个钢镚是怎么熬过二十多载的春夏秋冬的？她给出的答案是靠好心人帮助。一路上，不断有好心人给她买吃的，还带她看病，买药……我说这也不是个办法，问她有没有去找过社会上帮助的机构——救济站这个词，不知当时怎么了，我就是没说出口。她说找过了，没用。地铁站的人，警察，城管，带她去过好几次救济站。结果他们不收，因为眼睛看不见，怕出事情担责任。</p><p>“您呢，您自己想去救济站吗？”我问道。她似乎没有料到我会问这个问题，略显慌乱地回答着。“他们不收啊，我看不见。其实即使进去了，也会被其他人欺负，日子也不好过。在外面自由些。”</p><p>我又问后面有什么打算，经济来源是啥。她说就要饭，过一天是一天呗。“像我们这样的，最后哪一天就饿死了。眼睛看不见，找工作也没有人要。”她的声音中带有一丝苦涩。我想到电视里一般搞着搞着，就回老家找亲人解决问题了，就问起这个。她说老家在贵州，那里更穷，不会有人像上海的好心人一样帮助她，给她吃的。以前她还有男朋友，可是看不见之后，她自己主动离开了对方。“我看不见了，他虽然不说什么，心里肯定没法接受，我就自己离开了。”我又问她的妹妹呢，她说：“表姐？去年死了。”</p><p>外卖的饭来了，我帮她拆开，把筷子递到她的手上。她仍然是不住地道谢，一口一口吃起饭来，吃相并不难看。吃完，她找纸巾擦嘴，我给了她。又擦起地板来，说些“不能让他们知道我在这里吃饭”，“打扫卫生的人”什么的。擦了一遍，她问我：“小帅哥，你看我这地板擦干净了没？”我看着掉在地上的一团鸡蛋，哭笑不得，帮她擦了，扔在垃圾袋里。</p><p><img src="/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/5c392b771b7bbfd1a634c343a3460ee%201.jpg"></p><p>继续聊到经济来源，我不死心，接着问她工作的事。她说，之前年轻的时候她也上班，后来眼睛看不见了，就没人要了。地铁站地面上的环卫工，和她岁数一样，和她聊天的时候说，今年10月份就要被辞退了。去做推拿，年轻的盲女一大堆，人家都要小姑娘，也没人要自己。别的地方，也没人要盲人。</p><p>说着，她居然自己把垃圾都整理在了塑料袋里，还顺手打了一个结，似乎想要我帮忙把垃圾带出去。我还在用昏沉的脑袋想盲人能够做的职业有哪些，想来想去除了推拿也没想出来。唉，这个时候怎么想不出什么好点子了呢。</p><p>买的生活用品也到了。我拿着她的手，一一过了一遍，她很高兴。但是当我给她展示了三瓶1.5L的水后，她脸上浮现了愁容。“这么重，不好背，也不好拿。晚上还要小心同行。”第一次见到同行一词放在这个语境下的。“晚上睡觉都用手压着我的东西，就怕被别人拿走。”我心里酸酸的，有点想逃离。</p><p>于是，我背上包，准备离开。她似乎不好意思麻烦我处理垃圾，就默默自己在整理东西，摸索着新获得的物资，说等下自己把垃圾丢了。我和她说再见，她也对我说再见，“谢谢你呀，小帅哥。”这已经不知道是我今晚第几次听到她这句话了，尽管我并不是个小帅哥。</p><p>走在回宿舍的路上，我想到她在得知我也是大三的大学生后，劝我读硕士再读博士，想到她提到买一次药大概要260元，她舍不得花钱吃饭，要存钱买药，想到她让人买饭买生活用品的轻车熟路和良好的卫生习惯。她是一个坦然却不失尊严的盲人乞丐，我这么评价她。</p><p>夏夜的风是凉爽的，我感到些许的哀伤。这个盲人乞丐的命运，她失明前与失明后的生活；这个社会对残障群体的包容与忽视，经济与就业；我的犹豫与挣扎的内心，给她提供的有限的帮助……这些就像柠檬水里的酸柠，让人提神，让人在细细品味之后尝出点点苦涩。无力和空虚，我只是一个穷学生，学的还是金融，究竟怎样才能帮助到更多的人们，真正好地解决他们遇到的问题？</p><p>只能先蹲下来，平视地给老奶奶拍个照片，顺便悼念一下即将死去的看涨期权。</p><p><img src="/2024/06/15/%E4%B8%80%E4%B8%AA%E5%93%80%E4%BC%A4%E7%9A%84%E6%99%9A%E4%B8%8A/a39750e9a3c238d97a50f53584a34df.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.06.01 写在大三的儿童节</title>
    <link href="/2024/06/01/%E5%86%99%E5%9C%A8%E5%A4%A7%E4%B8%89%E7%9A%84%E5%84%BF%E7%AB%A5%E8%8A%82/"/>
    <url>/2024/06/01/%E5%86%99%E5%9C%A8%E5%A4%A7%E4%B8%89%E7%9A%84%E5%84%BF%E7%AB%A5%E8%8A%82/</url>
    
    <content type="html"><![CDATA[<p>再自称儿童似乎有些过于可笑了，我也从不如此。但是，如果年岁的增长意味着逐渐丧失尽孩童般的纯真，那我不如立刻死亡。</p><span id="more"></span><p><img src="/2024/06/01/%E5%86%99%E5%9C%A8%E5%A4%A7%E4%B8%89%E7%9A%84%E5%84%BF%E7%AB%A5%E8%8A%82/20240601贺图.png"></p><p>其实我也不知道为啥要写这篇文章。我几乎从来不过儿童节，但是今年在朋友圈里看到大家纷纷在相祝儿童节快乐，就也简单写两句，顺便当作近期的杂感记录。</p><p>昨天星期五，我结束了在积优的实习，时长总共六个月。不知道五月份的工资什么时候发，但我实习的目的从来绝对不是为了钱，尽管每天300元的薪酬确实很诱人也很有竞争力。记得最初选择实习的时候，我想着什么时候学不到东西了，我就结束实习。但是这周和大家说起结束实习的原因，我给出的答案却是临近期末，事情比较多，暑假要准备研究生，诸如此类的客观原因。</p><p>但是并不矛盾，不是么。从客观上来讲，确实事情很多，明天周日要准备两场答辩，周二还有计量小测和图数据论文汇报，周三还有预测分析的小组汇报，还有图数据的大作业。研究生的事情也没有着落，但我该报名的都报名了，就等着暑假呗。从主观上来说，确实感觉最近的学习内容有限了。因为我每周只去两天，导致潘老师没法给我开始新的大任务，只能小修小补一下之前的内容，以及干一些杂活。再继续呆下去的话，直到暑假之前应该都是这样，所以干脆退了吧，暑假我想了解一下投行这个行业，当然是后话了。</p><p>总结一下我的实习，感觉是有收获的，确实学到了许多东西，也做出了一些成果。这让我十分满意，也没有违背之前的初衷。以前和其他人打趣，总是说“来这别的没学会，学会了打羽毛球和掼蛋”，其实并非如此。最主要的肯定是那个高频回测框架了，三个引擎、数据流动、撮合逻辑，这些现在问我，都能娓娓道来，但是之前肯定是不知道的。还有各种细节，之前不知道的有关高频和市场的常识，都是课本上没有的。除此之外，还有一些软的知识，比如基金公司、产品与客户、生活与人际交往等，所以真是收获颇丰。当然也有羽毛球和掼蛋。这么一想，我做的其实还不错，从一切可能的地方，找一切可能的机会学习，还挺满意的。</p><p>都听说“世界是一个巨大的草台班子”，确实是这样。但是还是要肯定人的作用。来公司之后遇到了很多有意思的人，感激不尽。除了潘老师，还有涛哥、何老师、陈老师、峥姐、包姐等，还有最新一批次的在我之后进公司的实习生们。他们性格都更活泼一些，相处起来就很愉快。</p><p>后面的实习怎么安排呢？其实已经基本很模糊地确定了，就是投行，但是具体什么工作我也不知道，还不清楚。之前和陈硕说，“量化除了赚钱一点用都没有”，可能有些极端（笑）不过我确实更想具体地帮助到人，最好是具体地人，或许目前这样让我能有成就感吧。志愿者就是一个很好的例子，只可惜这学期我已经一次志愿者都没有当过了。如果投行如我想象中那样，投资项目，帮助实现项目落地，且工作很具体，能让我解决实际的问题，那我应该也能收获很多。如果不是这样，那我确实还要重新思考一下我的规划了。</p><p>还记得理想是什么吗？最近，一直有些感觉这个理想太空了，甚至开始觉得难以实现，但是还是不要有退缩或者放弃的想法。先把这学期熬过去吧，9月份一过，一切都会好起来的不是么？到时候，我要继续充实我的理想，并且真努力向理想迈进了，因为我认为当前的动摇是客观学业压力和作息不规律导致的结果。</p><p>既然聊到这了，那干脆直接畅想未来吧，这样总是让人心情舒畅。进入大四，首先我是没什么课程的。如果有实习，我就去实习；没有实习我就做项目，和老师做研究，到处做志愿者，去广西看看，去全国各地看看，和陈硕去玩，如果有女朋友的话也可以发展一下关系。多看书，多思考，多锻炼，多睡觉，把哲学补一补，自由地学习想学的东西，没有压力。哦对了，我还要回去看望一下老师，以及完成一些未完成的约定和计划。啊，这样的生活针不戳（大笑）</p><p>本科阶段其实是不打算谈恋爱的，因为不成熟，也有些回避。舍友前几天刚分手，刚刚又沐浴更衣，身上的香水味刺鼻但好闻，不知道干嘛去了。这样的爱情是我不喜欢的，其实我一直就觉得有些人的人品有点问题，当然可能只是不符合我的三观，况且形象是靠塑造的，我也根本无权对他人评头论足。说回恋爱这方面，如果大四解放了学业压力，那我可能会尝试找女朋友，不过可能会出现在我喜欢的和喜欢我的之间做选择的情况了，其实也不一定会有人喜欢我（雾）我觉得三观、性格、外表，这些都挺重要的。其实外表一般来说我都可以接受，真的让我很喜欢的颜值也很难出现；性格的话外向开朗一点就挺好，好相处，是个有趣的人最好；三观是最难的，也是最重要的，因为目前我认为我会为了实现理想而奋斗的，因此另一半能够和我有相近的理想抱负，我们才能一直走下去，并且生活的很好很充实。哇，这样的人好像有点难找，什么时候轮到哥们挑来挑去，搁着指指点点了，也不看看自己是什么货色。那只能等，所谓缘分咯。</p><p>今年和女生的接触和交流明显变多了，也不知道是主观的感觉还是客观的事实。反正就这样呗，坚守本心比较重要。学习，充实自己才是硬道理。</p><p>孩童时期总是无忧无虑的，可能是过的太舒服了，也没遇到什么困难和挑战，资源也很丰富。现在长大了才知道事情也并不总如人意，人与人不能一概而论，失败总是贯穿人生始终，想法和行动也很难达成一致。但我自认为还是幸运的，我遇到了很多好人，也有很多好人帮助我。所以就这样继续前行吧，或许人生确实真的很短暂，或许人确实真的很渺小呢。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Arboricity and Subgraph Listing Algorithms</title>
    <link href="/2024/04/29/%E5%AF%BB%E6%89%BE%E5%9B%BE%E4%B8%ADclique%E7%9A%84%E7%AE%97%E6%B3%95/"/>
    <url>/2024/04/29/%E5%AF%BB%E6%89%BE%E5%9B%BE%E4%B8%ADclique%E7%9A%84%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>Arboricity and Subgraph Listing Algorithms (Norishige Chiba and TakaoNishizeki, 1985)</p><span id="more"></span><p>![[Arboricity and Subgraph ListingAlgorithms/Chiba-1985-arboricity.pdf]]</p><h2 id="abstract">Abstract</h2><p>In this paper we introduce a new simple strategy into edge-searchingof a graph, which is useful to the various subgraph listing problems.Applying the strategy, we obtain the following four algorithms. - Thefirst one lists all the triangles in a graph <span class="math inline">\(G\)</span> in <span class="math inline">\(O(a(G)m)\)</span> time, where <span class="math inline">\(m\)</span> is the number of edges of <span class="math inline">\(G\)</span> and <span class="math inline">\(a(\textG)\)</span> the arboricity of <span class="math inline">\(G\)</span>. -The second finds all the quadrangles in <span class="math inline">\(O(a(G)m)\)</span> time. Since <span class="math inline">\(a(G)\)</span> is at most three for a planar graph<span class="math inline">\(G\)</span>, both run in linear time for aplanar graph. - The third lists all the complete subgraphs <span class="math inline">\(K_l\)</span> of order <span class="math inline">\(l\)</span> in <span class="math inline">\(O(la(G)^{l-2}m)\)</span> time. - The fourth listsall the cliques in <span class="math inline">\(O(a(G)m)\)</span> timeper clique. All the algorithms require linear space. We also establishan upper bound on <span class="math inline">\(a(G)\)</span> for a graph<span class="math inline">\(G\)</span>: <span class="math inline">\(a(G)\leq [(2m+n)^{1/2}/2]\)</span>, where <span class="math inline">\(n\)</span> is the number of vertices in <span class="math inline">\(G\)</span>.</p><p>总结四个算法： - 找三角形 - 找四点形 - 找l阶完全子图 -找所有clique</p><h2 id="main">Main</h2><h3 id="introduction">1. Introduction</h3><p>主要策略：在图中找点，然后在这个点诱导子图中找符合要求的包含该点的东西。具体而言，根据点的非增的度数找（从最大度数往最小度数点找），找过了就删，避免重复。</p><p>参数解释：<span class="math inline">\(a(G)\)</span>是指图的荫度</p><blockquote><p>The <strong>arboricity</strong> of an undirected graph is the minimumnumber of forests into which its edges can be partitioned. Equivalentlyit is the minimum number of spanning forest needed to cover all theedges of the graph. The <a href="https://en.wikipedia.org/wiki/Nash-Williams_theorem" title="Nash-Williams theorem">Nash-Williams theorem</a> providesnecessary and sufficient conditions for when a graphis <em>k</em>-arboric.</p></blockquote><p>其余参数都是正常参数。</p><p>复杂度估计：略</p><h3 id="preliminaries">2. Preliminaries</h3><p>一些计算，略</p><h3 id="algorithm-for-listing-triangles">3. Algorithm for listingtriangles</h3><p>代码见附录</p><h3 id="algorithm-for-listing-quadrangles">4. Algorithm for listingquadrangles</h3><p>代码见附录</p><h3 id="algorithm-for-listing-complete-subgraphs">5. Algorithm forlisting complete subgraphs</h3><p>代码见附录</p><h2 id="appendix">Appendix</h2><p>![[寻找图中clique的算法/chiba.py]]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time  <br>  <br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np  <br><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UndirectedGraph</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):  <br>        self.vertex_to_id_dict: <span class="hljs-built_in">dict</span> = &#123;&#125;  <br>        self.id_to_vertex_dict: <span class="hljs-built_in">dict</span> = &#123;&#125;  <br>        self.vertex_count: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>  <br>        self.id_list: SortedList = SortedList()  <br>        self.adj_list: <span class="hljs-built_in">list</span> = []  <br>        self.deg_list: <span class="hljs-built_in">list</span> = []  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_from_txt</span>(<span class="hljs-params">self, file: <span class="hljs-built_in">str</span></span>):  <br>        edge_list = np.loadtxt(file, dtype=<span class="hljs-built_in">int</span>)  <br>        <span class="hljs-keyword">for</span> src, dst <span class="hljs-keyword">in</span> edge_list:  <br>            self.add_edge(src, dst)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_edge</span>(<span class="hljs-params">self, vertex1, vertex2</span>):  <br>        <span class="hljs-keyword">if</span> vertex1 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.vertex_to_id_dict:  <br>            self.add_vertex(vertex1)  <br>        <span class="hljs-keyword">if</span> vertex2 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.vertex_to_id_dict:  <br>            self.add_vertex(vertex2)  <br>        self.adj_list[self.vertex_to_id_dict[vertex1]].add(self.vertex_to_id_dict[vertex2])  <br>        self.adj_list[self.vertex_to_id_dict[vertex2]].add(self.vertex_to_id_dict[vertex1])  <br>  <br>        self.deg_list[self.vertex_to_id_dict[vertex1]] += <span class="hljs-number">1</span>  <br>        self.deg_list[self.vertex_to_id_dict[vertex2]] += <span class="hljs-number">1</span>  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_vertex</span>(<span class="hljs-params">self, vertex</span>):  <br>        v_id = self.vertex_count  <br>        self.vertex_to_id_dict[vertex] = v_id  <br>        self.id_to_vertex_dict[v_id] = vertex  <br>        self.vertex_count += <span class="hljs-number">1</span>  <br>        self.id_list.add(v_id)  <br>        self.adj_list.append(SortedList())  <br>        self.deg_list.append(<span class="hljs-number">0</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">del_vertex</span>(<span class="hljs-params">self, vertex, inplace=<span class="hljs-literal">False</span></span>):  <br>        v_id = self.vertex_to_id_dict[vertex]  <br>        v_adj = self.adj_list[v_id]  <br>        <span class="hljs-keyword">if</span> v_id <span class="hljs-keyword">in</span> self.id_list:  <br>            <span class="hljs-keyword">if</span> inplace:  <br>                <span class="hljs-keyword">for</span> u_id <span class="hljs-keyword">in</span> v_adj:  <br>                    self.deg_list[u_id] -= <span class="hljs-number">1</span>  <br>                    self.adj_list[u_id].remove(v_id)  <br>                self.deg_list[v_id] = -<span class="hljs-number">1</span>  <br>                self.id_list.remove(v_id)  <br>                self.adj_list[v_id] = SortedList()  <br>            <span class="hljs-keyword">else</span>:  <br>                new_g = self  <br>                <span class="hljs-keyword">for</span> u_id <span class="hljs-keyword">in</span> v_adj:  <br>                    new_g.deg_list[u_id] -= <span class="hljs-number">1</span>  <br>                    new_g.adj_list[u_id].remove(v_id)  <br>                new_g.deg_list[v_id] = -<span class="hljs-number">1</span>  <br>                new_g.id_list.remove(v_id)  <br>                new_g.adj_list[v_id] = SortedList()  <br>  <br>                <span class="hljs-keyword">return</span> new_g  <br>        <span class="hljs-keyword">else</span>:  <br>            <span class="hljs-keyword">pass</span>  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">K3</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-string">&quot;&quot;&quot;  </span><br><span class="hljs-string">    Print all triangles.    &quot;&quot;&quot;</span>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, g: UndirectedGraph</span>):  <br>        self.graph = g  <br>        self.process()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sort_by_deg</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)), key=<span class="hljs-keyword">lambda</span> x: self.graph.deg_list[x], reverse=<span class="hljs-literal">True</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>):  <br>        sorted_vertex_list = self.sort_by_deg()[:<span class="hljs-built_in">len</span>(self.graph.id_list)]  <br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> sorted_vertex_list[:-<span class="hljs-number">2</span>]:  <br>            v_adj = self.graph.adj_list[v]  <br>            mark = <span class="hljs-built_in">set</span>(v_adj)  <br>            <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> v_adj:  <br>                u_adj = self.graph.adj_list[u]  <br>                <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> u_adj:  <br>                    <span class="hljs-keyword">if</span> w <span class="hljs-keyword">in</span> mark:  <br>                        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;(<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[v]&#125;</span>,&quot;</span>  <br>                              <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[u]&#125;</span>,&quot;</span>  <br>                              <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[w]&#125;</span>)&quot;</span>)  <br>                mark.remove(u)  <br>            self.graph.del_vertex(self.graph.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C4</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, g: UndirectedGraph</span>):  <br>        self.graph = g  <br>        self.U = [<span class="hljs-built_in">set</span>() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> self.graph.deg_list]  <br>        self.process()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sort_by_deg</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)), key=<span class="hljs-keyword">lambda</span> x: self.graph.deg_list[x], reverse=<span class="hljs-literal">True</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_id_to_vertex</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">set</span></span>):  <br>        <span class="hljs-keyword">return</span> &#123;self.graph.id_to_vertex_dict[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> s&#125;  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>):  <br>        sorted_vertex_list = self.sort_by_deg()[:<span class="hljs-built_in">len</span>(self.graph.id_list)]  <br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> sorted_vertex_list:  <br>            <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> self.graph.adj_list[v]:  <br>                <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> self.graph.adj_list[u]:  <br>                    <span class="hljs-keyword">if</span> w != v:  <br>                        self.U[w] = self.U[w] | &#123;u&#125;  <br>            <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)):  <br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.U[w]) &gt;= <span class="hljs-number">2</span>:  <br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;(<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[v]&#125;</span>,<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[w]&#125;</span>,&quot;</span>  <br>                          <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.set_id_to_vertex(self.U[w])&#125;</span>)&quot;</span>)  <br>            <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)):  <br>                <span class="hljs-keyword">if</span> self.U[w]:  <br>                    self.U[w] = <span class="hljs-built_in">set</span>()  <br>            self.graph.del_vertex(self.graph.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">COMPLETE</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, order: <span class="hljs-built_in">int</span>, g: UndirectedGraph</span>):  <br>        self.order = order  <br>        self.graph = g  <br>        self.C = []  <br>  <br>        self.f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ans1.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)  <br>        self.K(self.order, self.graph)  <br>        self.f.close()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">self, k: <span class="hljs-built_in">int</span>, gk: UndirectedGraph</span>):  <br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">2</span>:  <br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> gk.id_list:  <br>                res = [&#123;gk.id_to_vertex_dict[x], gk.id_to_vertex_dict[y]&#125; | <span class="hljs-built_in">set</span>(self.C)  <br>                       <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> gk.adj_list[x] <span class="hljs-keyword">if</span> x &lt; y]  <br>                _ = &#123;<span class="hljs-built_in">print</span>(i, file=self.f) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res&#125;  <br>  <br>        <span class="hljs-keyword">else</span>:  <br>            length = <span class="hljs-built_in">len</span>(gk.id_list)  <br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):  <br>                v = gk.id_list[<span class="hljs-number">0</span>]  <br>                gk_1 = graph_induced_by_vertex_neighbor(gk, gk.id_to_vertex_dict[v])  <br>                self.C.append(gk.id_to_vertex_dict[v])  <br>                self.K(k - <span class="hljs-number">1</span>, gk_1)  <br>                self.C.pop()  <br>                gk.del_vertex(gk.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NEW_COMPLETE</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, order: <span class="hljs-built_in">int</span>, g: UndirectedGraph</span>):  <br>        self.order = order  <br>        self.graph = g  <br>        self.C = []  <br>        self.graph_label = [order] * <span class="hljs-built_in">len</span>(g.id_list)  <br>        self.adj_list = [<span class="hljs-built_in">list</span>(g.adj_list[i]) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(g.adj_list))]  <br>  <br>        name_list = [self.graph.id_to_vertex_dict[v_id] <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> self.graph.id_list]  <br>  <br>        self.f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ans2.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)  <br>        self.K(self.order, name_list, self.graph.deg_list)  <br>        self.f.close()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">self, k: <span class="hljs-built_in">int</span>, u_name_list: <span class="hljs-built_in">list</span>, k_deg_list: <span class="hljs-built_in">list</span></span>):  <br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">2</span>:  <br>            sub_g = graph_induced_by_vertices(self.graph, u_name_list)  <br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sub_g.id_list:  <br>                res = [&#123;sub_g.id_to_vertex_dict[x], sub_g.id_to_vertex_dict[y]&#125; | <span class="hljs-built_in">set</span>(self.C)  <br>                       <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> sub_g.adj_list[x] <span class="hljs-keyword">if</span> x &lt; y]  <br>                _ = &#123;<span class="hljs-built_in">print</span>(i, file=self.f) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res&#125;  <br>        <span class="hljs-keyword">else</span>:  <br>            name_to_id_dict = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(u_name_list, <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(u_name_list))))  <br>            <span class="hljs-comment"># id_to_name_dict = dict(zip(range(len(u_name_list)), u_name_list))  </span><br>  <br>            sorted_list = <span class="hljs-built_in">sorted</span>(u_name_list, key=<span class="hljs-keyword">lambda</span> y: k_deg_list[name_to_id_dict[y]], reverse=<span class="hljs-literal">True</span>)  <br>  <br>            <span class="hljs-keyword">for</span> vi_name <span class="hljs-keyword">in</span> sorted_list:  <br>                u1_list = [self.graph.id_to_vertex_dict[v] <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> self.adj_list[self.graph.vertex_to_id_dict[vi_name]]  <br>                           <span class="hljs-keyword">if</span> self.graph_label[v] == k]  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    self.graph_label[self.graph.vertex_to_id_dict[u]] = k - <span class="hljs-number">1</span>  <br>  <br>                k1_deg_list = []  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    d = <span class="hljs-number">0</span>  <br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.adj_list[self.graph.vertex_to_id_dict[u]]:  <br>                        <span class="hljs-keyword">if</span> self.graph.id_to_vertex_dict[i] <span class="hljs-keyword">in</span> u1_list:  <br>                            self.adj_list[self.graph.vertex_to_id_dict[u]].remove(i)  <br>                            self.adj_list[self.graph.vertex_to_id_dict[u]].append(i)  <br>                            d += <span class="hljs-number">1</span>  <br>                    k1_deg_list.append(d)  <br>  <br>                self.C.append(vi_name)  <br>  <br>                self.K(k-<span class="hljs-number">1</span>, u1_list, k1_deg_list)  <br>  <br>                self.C.pop()  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    self.graph_label[self.graph.vertex_to_id_dict[u]] = k  <br>  <br>                self.graph_label[self.graph.vertex_to_id_dict[vi_name]] = k + <span class="hljs-number">1</span>  <br>  <br>                <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> u1_list:  <br>                    pos = <span class="hljs-number">0</span>  <br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.adj_list[self.graph.vertex_to_id_dict[v]])):  <br>                        <span class="hljs-keyword">if</span> self.graph_label[self.adj_list[self.graph.vertex_to_id_dict[v]][i]] == k:  <br>                            pos = i  <br>                            <span class="hljs-keyword">break</span>  <br>  <br>                    self.adj_list[self.graph.vertex_to_id_dict[v]].remove(self.graph.vertex_to_id_dict[vi_name])  <br>                    self.adj_list[self.graph.vertex_to_id_dict[v]].insert(pos, self.graph.vertex_to_id_dict[vi_name])  <br>  <br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">graph_induced_by_vertex_neighbor</span>(<span class="hljs-params">g: UndirectedGraph, v</span>) -&gt; UndirectedGraph:  <br>    g_ind_v = UndirectedGraph()  <br>  <br>    neighbor_vertex_list = <span class="hljs-built_in">set</span>(g.adj_list[g.vertex_to_id_dict[v]])  <br>    <span class="hljs-comment"># neighbor_vertex_list.add(g.vertex_to_id_dict[v])  </span><br>  <br>    <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> neighbor_vertex_list:  <br>        _ = &#123;g_ind_v.add_edge(g.id_to_vertex_dict[v_id], g.id_to_vertex_dict[u])  <br>             <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> g.adj_list[v_id] <span class="hljs-keyword">if</span> u <span class="hljs-keyword">in</span> neighbor_vertex_list <span class="hljs-keyword">and</span> v_id &lt; u&#125;  <br>  <br>    <span class="hljs-keyword">return</span> g_ind_v  <br>  <br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">graph_induced_by_vertices</span>(<span class="hljs-params">g: UndirectedGraph, v_name_list</span>) -&gt; UndirectedGraph:  <br>    g_ind_v = UndirectedGraph()  <br>    v_id_list = [g.vertex_to_id_dict[v] <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> v_name_list]  <br>  <br>    <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> v_id_list:  <br>        _ = &#123;g_ind_v.add_edge(g.id_to_vertex_dict[v_id], g.id_to_vertex_dict[u])  <br>             <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> g.adj_list[v_id] <span class="hljs-keyword">if</span> u <span class="hljs-keyword">in</span> v_id_list <span class="hljs-keyword">and</span> v_id &lt; u&#125;  <br>  <br>    <span class="hljs-keyword">return</span> g_ind_v  <br>  <br>  <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:  <br>    G = UndirectedGraph()  <br>    G.load_from_txt(<span class="hljs-string">&#x27;example.txt&#x27;</span>)  <br>    <span class="hljs-comment"># K3 = K3(G)  </span><br>    <span class="hljs-comment"># C4 = C4(G)  </span><br>    time1 = time.time()  <br>    <span class="hljs-comment"># C = COMPLETE(6, G)  </span><br>    C = NEW_COMPLETE(<span class="hljs-number">6</span>, G)  <br>    time2 = time.time()  <br>  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Process time: <span class="hljs-subst">&#123;time2-time1&#125;</span>s&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="问题">问题</h2><p>我的优化的算法比老算法还慢。感觉问题可能出现在inlist的搜索上。或许用dict+SortedList更快。</p>]]></content>
    
    
    <categories>
      
      <category>2024S</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图数据库</tag>
      
      <tag>文献研究</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.04.23 写在安泰春令营之后</title>
    <link href="/2024/04/23/%E5%86%99%E5%9C%A8%E5%AE%89%E6%B3%B0%E6%98%A5%E4%BB%A4%E8%90%A5%E4%B9%8B%E5%90%8E/"/>
    <url>/2024/04/23/%E5%86%99%E5%9C%A8%E5%AE%89%E6%B3%B0%E6%98%A5%E4%BB%A4%E8%90%A5%E4%B9%8B%E5%90%8E/</url>
    
    <content type="html"><![CDATA[<p>标题本来想起成“写在保研失败之后”的，犹豫了一会，还是改成了写在安泰春令营之后。</p><p>今天晚上，安泰发了MF春令营offer。目前我还没有收到邮件，99%的可能是寄了。现在就是waiting和rejected的抉择了。因为根据bys的非官方统计，量化已经有4个offer，目前总共14个offer。offer应该不会分批发，没道理的，而且量化赛道的名额按比例也差不多满了。所以我大抵的确是寄了。</p><p>一个小时前刚收到通知的时候，我的心率绝对能飙到150+（也不一定，没什么概念），心脏在胸口扑通扑通狂跳，真担心自己突然嘎了。还好人还在。现在对入营的幻想也基本结束了，就等一封邮件和网站更新，像是犯人在死缓和死刑之间等判决。</p><p>我不知道自己这样的反应是不是正常。其实很像一场赌博，我压了几乎全部身家（这一个月的时间精力），最后却还是输了。其实输赢和我压了多少没有关系。其实我应该知道这一点的。</p><p>这次春令营失败，可以找很多理由。我得把它们写下来，因为我很有这么做的理由。春令营前我还在问老师有没有保研失败的人来给我们分享经验，结果现在我自己倒是可以给后人分享经验了，还有些好笑。1.自我感觉，最关键的一点是准备不足。唐老师在清明前就告诉我入营了，但我却没有好好准备，现在想来也可以说是罪有应得吧。清明节放三天，两天在高速上，什么也没看。后面的上课的日子，也没复习，课也没好好听，找学长学姐问经验倒是不少，但是tech和行为也都没怎么准备。笔试前一天还在疯狂复习线代，计划笔试完之后复习概统。结果笔试概统，全崩了。写到这里我感觉安泰今年还蛮看重笔试的？之前听说的笔试不重要，也纯属误导之言。面试也准备得不充分，自我介绍都说不流利。2.自制力太差了，太差了，太差了。计划制定得很丰满，全是自己唬自己，没有实际作用。老是不落实，这次失败就是后果。唉，这个问题影响我真的太久了！3.思想绝对出了问题。这里绝对有问题，上次去做生涯测试，老师无意的一句“你这种特质的人，抗压能力上面可能会有点弱”之类的话，让我一直记到现在，绝对有问题。我肯定是在不停地给自己心理暗示，没法做到不卑不亢了，心态真出问题了。现在在这里说不要紧，这个怎么解决，还得靠自己想。</p><p>感觉要出自我保护机制了，在这之前我得把和sjx的聊天记录放出来，这是之前回忆面试过程的珍贵记录，不能忽视。（虽然现在看有些小丑，真没有太重视啊，唉）</p><p>附聊天记录</p><pre><code class="hljs">Hiryan:张麒 覃筱 吴冲锋 刁训娣 （疑似）许源Hiryan:昨天面我的五个老师Hiryan:然而当时一个都不认识，也没上过任何课Hiryan:Turbulent:吴冲锋Turbulent:金工老登Turbulent:[笑]Turbulent:他们问点什么问题啊Turbulent:量化我还真不太知道Hiryan:金工我上的是宋颖达的Hiryan:吴冲锋先让我自我介绍Hiryan:2minHiryan:然后我有点超时Hiryan:他说婷婷Hiryan:我说让我说完最后两句话Hiryan:然后我高呼Hiryan:重铸安泰荣光，我辈义不容辞！Hiryan:说实话比较紧张，有点语无伦次Hiryan:然后覃筱率先发难Turbulent:[笑]Hiryan:说我高数还行，怎么概统也不行，商统也不行，计量也不行Hiryan:我的计量能力到底行不行Hiryan:我说行Turbulent:典Hiryan:她说那我考考你Hiryan:金融数据有哪些特征Hiryan:我刚开始有点楞，然后口胡Hiryan:说大数据下正态，小数据有可能偏态Hiryan:然后危急关头我突然想到这学期冯芸教的金融计量Hiryan:说应该是尖峰肥尾Hiryan:这个应该答到点子上了Hiryan:然后她问我那统计的时候要注意什么Hiryan:我说正态总体假设的检验不能用了，要改方法Turbulent:什么统计学家Hiryan:然后她让我举个例子，就好了Hiryan:然后刁训娣紧随其后Hiryan:问了我将实习经历归类，怎样锻炼出我适合量化的能力Hiryan:然后我语无伦次地开扯Hiryan:扯了一会，她绷不住了Hiryan:然后说，看我学了固收，考考我固收的问题啊Hiryan:然后问我债券风险和定价Hiryan:定价我说核心是现金流折现Hiryan:风险我刚开始说的是看收益率，然后又想起来说久期和凸性Hiryan:然后她顺便问了我久期和凸性区别是啥Hiryan:然后她问含权债券怎么定价Hiryan:我说利率树Turbulent:习老师可能就会点固收Hiryan:然后她问我怎么构造Turbulent:她可能也不会啥了Hiryan:我说二叉树，利率看成一个分布Hiryan:有二分之一概率往上，二分之一往下Hiryan:然后她问一定是二分之一吗Hiryan:这里我懵了一下Hiryan:然后她就过了Hiryan:然后是那个不认识的老师，也有可能是业界的Hiryan:问我实习Hiryan:一些程序设计上的问题Hiryan:然后是张麒Hiryan:英文问我实习Hiryan:md这个老师套路我Hiryan:先问公司开了多久Hiryan:然后问公司做期货占比多少Turbulent:[Sticker]Hiryan:最后问，高频回测框架这么重要的东西，公司以前为啥没有，为啥让我一个实习生第一次开发Turbulent:[笑]Turbulent:汗流浃背了Hiryan:我回答了两点Hiryan:第一是回测相比实盘而言，也没那么重要Hiryan:第二是，如果我能做好，那为啥不让我做Hiryan:把他整乐了Hiryan:我也不知道我怎么就这么回答了，还是用的英文Hiryan:最后就是吴冲锋，看到我的大创，顺口问了一句结论和数据Hiryan:然后就结束了</code></pre><p>坏了，刚看了一下量化的又破防了。怎么将近一半的人都拿了offer？？？草！不是哥们，录了7个人，一天上午下午面试这么多，我连前50%都进不去吗？</p><p>感觉是笔试问题很大，25分证明题爆零，前面还错一堆。</p><p>现在最重要的是，考虑接下来应该怎么做： 1.心态方面：首先这次春令营相当于白给的一次机会，所以挂了就挂了，问题不大。不能影响到后面的心态，当然也不能无所谓。这是一次很好的经验。福祸相依这个基本准则还是没变，塞翁失马焉知非福。当然也不能过于乐观和自大。2.行为方面：五一前的一个东西就是金融计量作业，这个我今晚也在做。还有图数据库。后天管院的MFE是另一个机会，要好好把握。1. 今晚等下出去散散步吧 2.明天一天是复习MFE笔试，真得好好规划好好看，还有机会，管院不是比安泰更好么？3.笔试完后两天，是期中周结束，五一前的日子。要总结一下半学期的学习生活。狠狠补随机过程了，也要狠狠补学校课程了，题目也得刷起来了。（感觉这些也是半个学期前我想的，然而。。。）4. 能不能把b站禁了，球球了TAT 3. 保研方面： 1. MFE 2. 安泰北京营？ 3.安泰上海营？</p><p>全部整理了一下，现在至少心率下来了。感觉还是有很多对不起的地方，对不起爸妈，对不起同学们，也对不起信任我的老师。或许真的是笔试拉了坨大的，这样就真纯是我自己的问题了。唉唉，现在后悔也没用，还得看行动。只要我真的努力了，而不是假努力，结果希望不会太差。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>关于股指期货对冲的思考</title>
    <link href="/2024/03/31/%E5%85%B3%E4%BA%8E%E8%82%A1%E6%8C%87%E6%9C%9F%E8%B4%A7%E5%AF%B9%E5%86%B2%E7%9A%84%E6%80%9D%E8%80%83/"/>
    <url>/2024/03/31/%E5%85%B3%E4%BA%8E%E8%82%A1%E6%8C%87%E6%9C%9F%E8%B4%A7%E5%AF%B9%E5%86%B2%E7%9A%84%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<p>股指期货对冲是为了降低风险。具体来说，是为了降低未来操作（出售资产）时有效价格的不确定性，即有效价格的方差。接下来均以一个单位股权资产为例，假设用<span class="math inline">\(h\)</span>单位股指期货做空对冲</p><p>不同时期的价格如下：</p><table><thead><tr class="header"><th>不对冲</th><th><span class="math inline">\(T_1\)</span></th><th><span class="math inline">\(T_2\)</span></th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(1\)</span> Portfolio</td><td><span class="math inline">\(S\)</span></td><td><span class="math inline">\(S(1+R_P)\)</span></td></tr></tbody></table><table><thead><tr class="header"><th>对冲</th><th><span class="math inline">\(T_1\)</span></th><th><span class="math inline">\(T_2\)</span></th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(1\)</span> Portfolio</td><td><span class="math inline">\(S\)</span></td><td><span class="math inline">\(S(1+R_P)\)</span></td></tr><tr class="even"><td><span class="math inline">\(h\)</span> Index future</td><td><span class="math inline">\(F\)</span></td><td><span class="math inline">\(F(1+R_M)\)</span></td></tr></tbody></table><p>采取对冲，有效价格为 <span class="math display">\[E=S(1+R_P)+hF-hF(1+R_M)\tag{1}\]</span></p><p>最小化其方差 <span class="math display">\[\begin{align}\min\text{Var}(E)&amp;=\text{Var}(S+SR_P-hFR_M)\\&amp;=S^2\text{Var}(R_P)+h^2F^2\text{Var}(R_M)-2hSF\text{Cov}(R_P,R_M)\\\end{align}\]</span></p><p><span class="math inline">\(R_P\)</span>和<span class="math inline">\(R_M\)</span>是随机变量，根据CAPM模型（或单因子模型）<span class="math display">\[R_P=r_f+\beta(R_M-r_f)+\varepsilon\]</span>这样，随机变量变成了<span class="math inline">\(R_M\)</span>和<span class="math inline">\(\varepsilon\)</span>。继续最小化方差 <span class="math display">\[\begin{align}\min\text{Var}(E)&amp;=S^2\beta^2\text{Var}(R_M)+S^2\text{Var}(\varepsilon)+h^2F^2\text{Var}(R_M)-2hSF\beta\text{Var}(R_M)\\&amp;=F^2\text{Var}(R_M)(h^2-\cfrac{2hSF\beta\text{Var}(R_M)}{F^2\text{Var}(R_M)})+S^2\beta^2\text{Var}(R_M)+S^2\text{Var}(\varepsilon)\\&amp;=F^2\text{Var}(R_M)(h-\beta\cfrac{S}{F})^2-\beta^2S^2\text{Var}(R_M)+S^2\beta^2\text{Var}(R_M)+S^2\text{Var}(\varepsilon)\\\min\rightarrow\text{Var}(E)&amp;=F^2\text{Var}(R_M)(h-\beta\cfrac{S}{F})^2+S^2\text{Var}(\varepsilon)\tag{2}\end{align}\]</span></p><p>所以 <span class="math display">\[h^*=\beta\cfrac{S}{F}\tag{3}\]</span></p><table style="width:6%;"><thead><tr class="header"><th>考虑有效价格的具体值，由(1)得 <span class="math display">\[\begin{align}E&amp;=S(1+R_P)+hF-hF(1+R_M)\\&amp;=S+SR_P-hFR_M\\&amp;=S+S(r_f+\beta(R_M-r_f+\varepsilon))-hFR_M\\&amp;=S(1+r_f)-S\beta r_f+(S\beta-hF)R_M+S\beta\varepsilon\tag{4}\end{align}\]</span></th></tr></thead><tbody><tr class="odd"><td>最后爆算一下Sharpe ratio： %% <span class="math display">\[\max S =\sqrt{\cfrac{\text{Var}(R_M)(1+r_f-\beta r_f)^2+\textE^2(R_M)\text{Var}(\varepsilon)}{2\text{Var}(R_M)\text{Var}(\varepsilon)}}\tag{8}\]</span>%% 此时， <span class="math display">\[h=\cfrac{S}{F}\left(\beta-\cfrac{\text{Var}(\varepsilon)\textE(R_M)}{(1+r_f-\beta r_f)\text{Var}(R_M)}\right)\tag{9}\]</span>在没算错的情况下，<span class="math inline">\(h\)</span>似乎始终大于<span class="math inline">\(h^*\)</span>，即完全对冲并不是最好的选择。</td></tr></tbody></table><p>总结两个结论： 1. 由(5)可得，在完全对冲情况下，<span class="math inline">\(\beta\)</span>较高的股票最终的有效价格反而越低 2.由(9)可得，考虑Sharpe Ratio，则完全对冲始终不是最好的选择。</p>]]></content>
    
    
    <categories>
      
      <category>2024S</category>
      
    </categories>
    
    
    <tags>
      
      <tag>金融工程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2024.03.18 近日杂思</title>
    <link href="/2024/03/18/%E6%9D%82%E6%80%9D/"/>
    <url>/2024/03/18/%E6%9D%82%E6%80%9D/</url>
    
    <content type="html"><![CDATA[<p>好久没有写日记类的文章了，主要是因为又忙又懒。今天依然很忙，但是不能懒了，写点什么记录一下。</p><p>上周，包括这周，都是一堆事。正大杯、大创、盛宣怀杯、就像三座大山压着，还有一个石峰资产杯，也是一座小山。另外，课内的作业和知识也需要复习，随机过程的网课还需要回看。除此之外，还有研究生的事情需要花时间考虑。真可谓亚历山大，唉！</p><p>所以来随意谈论下抗压。人生任何时候都在抗压，没有压力就没有动力，这都是些老生常谈的话了，也是显然的。明日方舟仙术杯里也有抗压位，星际争霸2里也有抗压。抗压意味着高要求和高难度。仙术杯一共六个抗压位，似乎只有半数完成了三四连打的结局，获得了1.5倍加分。这些队伍显然也成为了赛事积分榜的前三名。SC2里抗压打多线，操作别人是顶尖选手的必备技能（lpn大招野人一拳除外）所以抗压确实难，但是一旦成功便可以很不错。</p><p>所以理念一定要对。抗压是一定要抗的，逃避是不行的。而且最好是化为日常，不要搞得很有仪式感，熬个大夜，一点屁用没有，纯弱智。规律作息，相信自己，慢慢来，思想要对。</p><p>前天和绿格的朋友们聚了聚，和同龄人在一起的感觉真的好极了。虽然还是去LaBamba，虽然还是长桌子有点尴尬，但是聊的还是很开心。感觉小团体还是有些排他性，但是真无所谓，大家爱交什么朋友就交什么朋友嘛，这也是很合理的。我还是尽量雨露均沾，毕竟被孤立或者说受冷漠的感觉挺不好的，还是尽量温暖他人。</p><p>晚上和图图姐一起打车回徐汇——我极少叫别人昵称，但是这里为了保护隐私还是说昵称吧，没错我指的是阿尔图罗——结果大概率把伞落在网约车上了。唉！我几乎每次离开某个地方都会回头检查有没有落下什么东西，顺便问一句“东西是不是都带了”，结果就这一次忘了检查，结果就把伞搞丢了。唉！这把伞还是母亲给我买的，几乎是全新的，平常我都没怎么用过，还是天堂伞的牌子，结果就弄丢了。我还没敢和父母讲，怕让他们伤心，唉！这次怎么就没有回头检查呢？这就是心乱了的结果，离谱。</p><p>先写到这吧，希望我能补好作业，并且做到规律作息。天无绝人之路，加油吧~</p><p>P.S. 最近在听Yoasobi的歌，疯狂听，很喜欢，感觉好好听啊！</p><p>P.S. 坚持做长期正确的事，这句话还蛮好的。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>复权详解</title>
    <link href="/2024/03/06/%E5%A4%8D%E6%9D%83%E8%AF%A6%E8%A7%A3/"/>
    <url>/2024/03/06/%E5%A4%8D%E6%9D%83%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p>股票的除权与复权几乎是最基础的数据处理方法。但是考虑到分红、配股、送股、拆细等行为，计算有一定的复杂性。遂写此文，以明晰之。</p><h2 id="csmar数据库分配文件">CSMAR数据库—分配文件</h2><p><a href="https://data.csmar.com/lib/pdfjs/web/viewer.html?file=group1%2FM00%2FAA%2F99%2FCuIKV2XAnKiABeLbAB4nDGC5Ano840.pdf&amp;fname=%E8%82%A1%E7%A5%A8%E5%B8%82%E5%9C%BA%E4%BA%A4%E6%98%93%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%B4%E6%98%8E%E4%B9%A6">股票市场交易数据库说明书 (csmar.com)</a></p><h3 id="基础介绍">基础介绍</h3><p>本数据库配股率、送股率、送红利和拆细率计算，举例说明如下： -配股率：若股东每100股可获配30股，此配股率为0.3 -送股率：若股东每100股可获得20股的送股，此送股率为0.2 -红利率：若股东每一股获送0.5元，此红利率为0.5 -拆细率：若股票每一股被拆成100股，则拆细率为100 -股权分置率：若股票每10股送2股，则股权分置率为0.2；若股票每10股缩为8股，则股权分置率为-0.2。</p><ul><li>分配比率为正值代表送股，为负值代表缩股。<ul><li>股权分置公式为：10*（1+分配比率）=分配结果。</li><li>对有送红股同时又有转增股票的，统一为送股类型，即实际送股率为送股率与转增率之和。如股东每100股可获得20股的送股，同时股东每100股获转增30股则在本数据库内送股率为0.5。</li></ul></li></ul><h3 id="符号说明">符号说明</h3><p>CA=现金红利，SD=送红股，RO=配股，DS=拆细，GQ=股权分置，SN=公开增发。</p><h2 id="一些常识">一些常识</h2><ul><li>除权日那天开盘时，股价已经除权了。</li><li>分红是给已有的股东权益，因此先分红，然后再其它操作。</li></ul><h2 id="后复权">后复权</h2><h3 id="原理">原理</h3><p>以除权前的价格为基准，修改除权后的价格。</p><h3 id="目的">目的</h3><p>看在历史某个时刻投入的资金，到今天能够有多少收益。</p><h3 id="核心思想">核心思想</h3><p>交易所展示的价格是每<strong>一股</strong>的价格。</p><h3 id="一个例子">一个例子</h3><p>假设A公司股票将在<span class="math inline">\(T\)</span>日进行分配操作。每一股分红<span class="math inline">\(D\)</span>；每一股送红股<span class="math inline">\(S\)</span>；每一股以<span class="math inline">\(P_R\)</span>价格进行配<span class="math inline">\(R\)</span>股；以<span class="math inline">\(P_O\)</span>价格共公开增发<span class="math inline">\(O\)</span>股；每一股拆细为<span class="math inline">\(K\)</span>股。（不考虑股权分置）</p><p>假设原来的总股本为<span class="math inline">\(N\)</span>，<span class="math inline">\(P^*_T\)</span>为后复权价，<span class="math inline">\(P_T\)</span>为除权价。 <span class="math display">\[\begin{align}&amp;P^*_T\times N - D\times N + P_R\times R+P_O\times O= P_T\times(N(K+S+R)+O)\\&amp;\Rightarrow P_T^*=\cfrac{P_T(N(K+S+R)+O)+DN-P_RR-P_OO}{N}\\&amp;\LeftrightarrowP_T^*=P_T(K+S+R+\cfrac{O}{N})+D-\cfrac{P_RR}{N}-\cfrac{P_OO}{N}\\&amp;\LeftrightarrowP_T^*=P_T(K+S+R+\cfrac{O}{N})+D-P_R\cfrac{R}{N}-P_O\cfrac{O}{N}\end{align}\]</span></p><p>假设原来的股东持有<span class="math inline">\(n\)</span>股，分红用来再投资，但不进行额外投资（配股、增发）<span class="math display">\[n^*=n\times(K+S)+\cfrac{nD}{P_T}\]</span></p><h3 id="细节">细节</h3><p>算收益率的时候，要考虑分红是否再投资，如果再投资，除权后的“一股”价格可能就不是除权前“持有的一股”，因此要进行修正。</p>]]></content>
    
    
    <categories>
      
      <category>2024S</category>
      
    </categories>
    
    
    <tags>
      
      <tag>专题整理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>期权交易常见对冲策略</title>
    <link href="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/"/>
    <url>/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/</url>
    
    <content type="html"><![CDATA[<p>简介期权交易常见对冲策略，如菜谱。</p><span id="more"></span><h2 id="裸期权的情况">裸期权的情况</h2><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/58113043dd54082b6d63b9e5db2a701.png"></p><h2 id="思考">思考</h2><ul><li>期权对冲的核心是降低风险而非获得收益，这个好像比较关键<ul><li>如何看待套利？</li></ul></li></ul><h3 id="参数表">参数表</h3><table><thead><tr class="header"><th>符号</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S\)</span></td><td>单位标的物价值</td></tr><tr class="even"><td><span class="math inline">\(K\)</span></td><td>行权价</td></tr><tr class="odd"><td><span class="math inline">\(C\)</span></td><td>看涨期权价格</td></tr><tr class="even"><td><span class="math inline">\(P\)</span></td><td>看跌期权价格</td></tr></tbody></table><h2 id="protective-put-保护看跌期权">Protective Put 保护看跌期权</h2><p>多标的、多认沽期权</p><h3 id="原理">原理</h3><p>为了防止标的物价格下行，<strong>做多</strong>看跌期权进行保护。主C是标的物，标的物越涨，收益越高，无上限。</p><h3 id="一图流">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/b9fd4d7bee874f87013e00b2323303c.png"></p><h2 id="covered-call-备兑保看涨期权">Covered Call备兑（保）看涨期权</h2><p>多标的、空认购期权</p><h3 id="原理-1">原理</h3><p>为了防止标的物价格下行，<strong>做空</strong>看涨期权进行保护。主T是标的物，标的物越跌，收益越低，有下限。</p><h3 id="一图流-1">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/c7da281c275ba7f3d9c90e3dadeb463.png"></p><h2 id="bull-call-spread-牛市看涨期权差价">Bull Call Spread牛市看涨期权差价</h2><p>多行权价低的认购期权、空行权价高的认购期权</p><h3 id="原理-2">原理</h3><p>仍然是希望标的上行逻辑，但是不用实际交易标的，且收益有界。主C是两个合约的行权价差。价差越大，<strong>牛市</strong>赚得越多。</p><h4 id="收益表">收益表</h4><p><span class="math display">\[K_1&lt;K_2\RightarrowC_1&gt;C_2\]</span></p><table><thead><tr class="header"><th>S</th><th>Long call</th><th>Short call</th><th>Total Payoff</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S_T \leq K_1\)</span></td><td><span class="math inline">\(-C_1\)</span></td><td><span class="math inline">\(C_2\)</span></td><td><span class="math inline">\(-(C_1-C_2)\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_1&lt;S_T&lt;K_2\)</span></td><td><span class="math inline">\(S_T-K_1-C_1\)</span></td><td><span class="math inline">\(C_2\)</span></td><td><span class="math inline">\(S_T-K_1-(C_1-C_2)\)</span></td></tr><tr class="odd"><td><span class="math inline">\(K_2\leq S_T\)</span></td><td><span class="math inline">\(S_T-K_1-C_1\)</span></td><td><span class="math inline">\(-(S_T-K_2)+C_2\)</span></td><td><span class="math inline">\(K_2-K_1-(C_1-C_2)\)</span></td></tr></tbody></table><h3 id="一图流-2">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/b8ea203ebfe7a50e61b55182ca6f3ca.png"></p><h2 id="bull-put-spread-牛市看跌期权差价">Bull Put Spread牛市看跌期权差价</h2><p>多行权价低的认沽期权、空行权价高的认沽期权</p><h3 id="原理-3">原理</h3><p>和上面类似。希望标的上行，不用实际交易标的，且收益有界。主T是两个合约的行权价差。价差越大，<strong>熊市</strong>亏得越多。收益确定。</p><h4 id="收益表-1">收益表</h4><p><span class="math display">\[K_1&lt;K_2\RightarrowP_1&lt;P_2\]</span></p><table><thead><tr class="header"><th>S</th><th>Long put</th><th>Short put</th><th>Total Payoff</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S_T \leq K_1\)</span></td><td><span class="math inline">\(K_1-S_T-P_1\)</span></td><td><span class="math inline">\(-(K_2-S_T)+P_2\)</span></td><td><span class="math inline">\(K_1-K_2+P_2-P_1\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_1&lt;S_T&lt;K_2\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(-(K_2-S_T)+P_2\)</span></td><td><span class="math inline">\(S_T-K_2+P_2-P_1\)</span></td></tr><tr class="odd"><td><span class="math inline">\(K_2\leq S_T\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(P_2\)</span></td><td><span class="math inline">\(P_2-P_1\)</span></td></tr></tbody></table><h3 id="一图流-3">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/3c4f4cce0cd6d31b80e8b1f577d9db8.png"></p><h2 id="bear-call-spread-熊市看涨期权差价">Bear Call Spread熊市看涨期权差价</h2><p>多行权价高的认购期权、空行权价低的认购期权</p><h3 id="原理-4">原理</h3><p>和上面类似，但是希望标的下行。主T是两个合约的行权价差。价差越大，<strong>牛市</strong>亏得越多。收益确定。</p><h4 id="收益表-2">收益表</h4><p><span class="math display">\[K_1&lt;K_2\RightarrowC_1&gt;C_2\]</span></p><table><thead><tr class="header"><th>S</th><th>Short call</th><th>Long call</th><th>Total Payoff</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S_T \leq K_1\)</span></td><td><span class="math inline">\(C_1\)</span></td><td><span class="math inline">\(-C_2\)</span></td><td><span class="math inline">\(C_1-C_2\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_1&lt;S_T&lt;K_2\)</span></td><td><span class="math inline">\(C_1-(S_T-K_1)\)</span></td><td><span class="math inline">\(-C_2\)</span></td><td><span class="math inline">\(K_1-S_T+C_1-C_2\)</span></td></tr><tr class="odd"><td><span class="math inline">\(K_2\leq S_T\)</span></td><td><span class="math inline">\(C_1-(S_T-K_1)\)</span></td><td><span class="math inline">\(-C_2+(S_T-K_2)\)</span></td><td><span class="math inline">\(K_1-K_2+C_1-C_2\)</span></td></tr></tbody></table><h3 id="一图流-4">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/793686c00b06100d7750fa3f77a4f80.png"></p><h2 id="bear-put-spread-熊市看跌期权差价">Bear Put Spread熊市看跌期权差价</h2><p>多行权价高的认沽期权、空行权价低的认沽期权</p><h3 id="原理-5">原理</h3><p>和上面类似，但是希望标的下行。主C是两个合约的行权价差。价差越大，<strong>熊市</strong>赚得越多。</p><h4 id="收益表-3">收益表</h4><p><span class="math display">\[K_1&lt;K_2\RightarrowP_1&lt;P_2\]</span></p><table><thead><tr class="header"><th>S</th><th>Short put</th><th>Long put</th><th>Total Payoff</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S_T \leq K_1\)</span></td><td><span class="math inline">\(P_1-(K_1-S_T)\)</span></td><td><span class="math inline">\(K_2-S_T-P_2\)</span></td><td><span class="math inline">\(K_2-K_1-(P_2-P_1)\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_1&lt;S_T&lt;K_2\)</span></td><td><span class="math inline">\(P_1\)</span></td><td><span class="math inline">\(K_2-S_T-P_2\)</span></td><td><span class="math inline">\(K_2-S_T-(P_2-P_1)\)</span></td></tr><tr class="odd"><td><span class="math inline">\(K_2\leq S_T\)</span></td><td><span class="math inline">\(P_1\)</span></td><td><span class="math inline">\(-P_2\)</span></td><td><span class="math inline">\(-(P_2-P_1)\)</span></td></tr></tbody></table><h3 id="一图流-5">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/1cb1052d14f9e4b37bc628b8439ed19.png"></p><h2 id="butterfly-spread-蝶式差价put">Butterfly Spread蝶式差价（Put）</h2><p>（以认沽期权为例，认购期权也是一样，从图片上看左右颠倒一下）多两头认沽期权，空两份中间认沽期权</p><h3 id="原理-6">原理</h3><p>希望标的物价格保持在中间行权价附近，从而获利。亏损有限。两头行权价差越大，<strong>中间行权价</strong>时赚得越多。</p><h4 id="收益表-4">收益表</h4><p><span class="math display">\[K_1&lt;K_2=\cfrac{K_1+K_3}{2}&lt;K_3\RightarrowP_1&lt;P_2&lt;P_3\]</span></p><table><thead><tr class="header"><th>S</th><th>1 Long put</th><th>2 Short put</th><th>1 Long put</th><th>Total Payoff</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(S_T\leq K_1\)</span></td><td><span class="math inline">\(K_1-S_T-P_1\)</span></td><td><span class="math inline">\(2(P_2-(K_2-S_T))\)</span></td><td><span class="math inline">\(K_3-S_T-P_3\)</span></td><td><span class="math inline">\(2P_2-P_1-P_3\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_1&lt;S_T&lt;K_2\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(2(P_2-(K_2-S_T))\)</span></td><td><span class="math inline">\(K_3-S_T-P_3\)</span></td><td><span class="math inline">\(-(K_1-S_T)+(2P_2-P_1-P_3)\)</span></td></tr><tr class="odd"><td><span class="math inline">\(S_T=K_2\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(2P_2\)</span></td><td><span class="math inline">\(K_3-S_T-P_3\)</span></td><td><span class="math inline">\(\cfrac{K_3-K_1}{2}+(2P_2-P_1-P_3)\)</span></td></tr><tr class="even"><td><span class="math inline">\(K_2&lt;S_T&lt;K_3\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(2P_2\)</span></td><td><span class="math inline">\(K_3-S_T-P_3\)</span></td><td><span class="math inline">\((K_3-S_T)+(2P_2-P_1-P_3)\)</span></td></tr><tr class="odd"><td><span class="math inline">\(K_3\leq S_T\)</span></td><td><span class="math inline">\(-P_1\)</span></td><td><span class="math inline">\(2P_2\)</span></td><td><span class="math inline">\(-P_3\)</span></td><td><span class="math inline">\(2P_2-P_1-P_3\)</span></td></tr></tbody></table><h3 id="一图流-6">一图流</h3><p>图片上书写错误，应该不是Call而是Put <img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/215ce70717bddeda1379f850349339c.png"></p><h2 id="calendar-spread-日历差价call">Calendar Spread日历差价（Call）</h2><p>多长期限认购期权、空短期限相同参数认购期权</p><h3 id="原理-7">原理</h3><p>靠时间价值赚钱。期权价格=内在价值+时间价值，内在价值相互对冲抵消，时间价值产生利润。</p><h3 id="一图流-7">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/eb4626dd3e9369bdf3c09d05bad82d7.png"></p><h2 id="calendar-spread-日历差价put">Calendar Spread日历差价（Put）</h2><p>多长期限认沽期权、空短期限相同参数认沽期权</p><h3 id="一图流-8">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/d140f53270326d027134de169fe483c.png"></p><h2 id="straddle-跨式组合相对strangle">Straddle跨式组合（相对Strangle）</h2><p>购买相同参数的认购、认沽期权组合</p><h3 id="原理-8">原理</h3><p>操作有点抽象，但是就是赚价格偏离行权价太多的时候的期权费。</p><h3 id="一图流-9">一图流</h3><p><img src="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/408cc5a38e1cadbb807b23b87d6f1e1.png"></p><h2 id="参考资料">参考资料</h2><ul><li>ECON3509-01金融工程学课程讲义，授课人是宋颖达老师</li><li>互联网上相关大佬资料，恕不一一致谢</li></ul>]]></content>
    
    
    <categories>
      
      <category>2024S</category>
      
    </categories>
    
    
    <tags>
      
      <tag>专题整理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>天道酬勤</title>
    <link href="/2023/12/02/%E5%A4%A9%E9%81%93%E9%85%AC%E5%8B%A4/"/>
    <url>/2023/12/02/%E5%A4%A9%E9%81%93%E9%85%AC%E5%8B%A4/</url>
    
    <content type="html"><![CDATA[<p>李培楠夺冠的故事将永远激励着我。0.37%的夺冠概率，赛前仅80分的评分，没有什么是不可能的。</p><span id="more"></span><p><img src="/2023/12/02/%E5%A4%A9%E9%81%93%E9%85%AC%E5%8B%A4/98c30ec0e96367a21b6e5d59e8962d2.png"></p><blockquote><p>I want to say English to everyone like, even you still are normalpeople, you still can work the world champion and no one trust you!</p></blockquote><blockquote><p>“你看我都夺冠了，真的没有什么事情是不可能的。”</p></blockquote><div class="bilibili"><iframe src="//player.bilibili.com/player.html?aid=394348911&amp;bvid=BV1Ro4y1v7up&amp;cid=1005469189&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>附NGA老哥听译夺冠采访全文（改）：</p><p>Smix: You said this felt like a dream, but you are not waking upbecause I have to tell you something, you are the Intel Extreme Master’sworld champion!</p><p>Oliviera: I mean, like so many people sometime tell me like, youshould finish your Starcraft2, you should retire and maybe like youshould give up. But look at me know. (laugh)</p><p>Smix: Truly such an inspiration. You have fought so hard. This is thebest run that we have ever seen. You were 2 and 3 in the group stage.You said to yourself you did not expect to even make it out of groups.And then you went on to make the playoffs for the very first time. Youhad to take down Reynor. And then you had to take down herO. And now youjust took down a five time GSL champion to become the world champion!What does this mean for you?</p><p>Oliviera: I mean, I just want to tell us like you don’t need a GSLchampion, you don’t need like, ESL champion. I think I’m just like anormal man. Yeah I mean, I just practice very hard. Just time. Everydaylike twelve hours, fifteen hours, so much time. And you know I playedStarcraft pro game already 8 years right? I think so. And I neverthought I can be a world champion. Even now, I’m afraid maybe tomorrow Iwake up, it’s like a dream. (laugh) (applause cheers)</p><p>Smix: I think we can all agree this is why we love esports and thisis why we love Starcraft2. I’m gonna ask one quick question about thegames because, when I talked you about Maru, and you said, yeah I doplay and practice with him a lot and I lose a lot, but I also lost a lotagainst hero in practice and look what I did? Maybe a miracle canhappen. How did you prepare against Maru especially considering youpracticed against him so much. Is there something specific you plan forevery map?</p><p>Oliviera: Like I mean when start the grand final, I just tell myselfit doesn’t matter. Like you are world champion or maybe not worldchampion. I just love Starcraft2. And I enjoy this game. (cheers) Andyeah I'm enjoying on stage, playing Starcraft2. I love esport. And thankyou everyone to coming for watch. Who knows, I can be the worldchampion. I mean, I don’t know how to say, I’m so happy.(Cheers)</p><p>Smix: Time, I want to give you one last opportunity to say anythingyou want to your family, your friends, your fans watching online, thefans here in Poland. Anything you want to say?</p><p>Oliviera: So I want to, em, thank you for everyone, like you guysshow me that Starcraft2 is not deadgame. (Laugh) There are so manypeople! So many people to watch. And I complete my dream, I mean, evenit still feels not truth. But I want to say my family, use English anduse Chinese. And I want to use English first. I want to thank my dad.Like last time, I lose ESL Atlanta, like 0-3, um like 0-6, like no onegame won. And my father just tell me don’t give up. You are always thebest player in my heart. (Cheers) I want to say you guys thank you somuch for watching. My English is not very well but thank you so much!(Cheers) And I want to say some Chinese to my Chinese fans because nowso many Chinese people are still watching, it's already 5 a.m. I thinkso.我想对现在还在看直播的观众朋友们说，其实没有什么事情是不可能的，我都拿到世界冠军了，真的没有什么事情是不可能的。（哭腔）我觉得，我等到这个世界冠军太久了。我去年，去年真的很难，我上一次0-6输的时候我觉得星际争霸对我来说已经结束了，但是从上一次我一直告诉我自己，我可以再多练习，我可以再多练习，如果有一天真的拿到世界冠军了，或许可以证明，证明给大家。Inow want to say English to everyone like, even you still are normalpeople, you still can work the world champion and no one trust you.(哭腔)(欢呼)</p><p>Smix: Katowice give it up one last time for your Intel ExtremeMasters world champion, he is Oilviera! (Cheers) (全场高呼Oliviera)(李培楠捧杯)</p><p>李培楠夺冠的时候，应该是今年的2月初，上学期刚开始。当时，我也开始运营我的这个博客，直到现在。当时最初的几个月，我还经常用他激励自己，想着一定要把这件事情整理进网站，不过一直在拖延。这似乎也是我整个2023的缩影，一会打鸡血，一会又疯狂拖延，导致很多事情都没有做，整个大二的成绩也不是很理想。今天是2023年12月3日刚过0点，离期末考试又只有一个月了，这学期还是保研的关键学期，成绩非常重要。而最近我似乎又出现了怠惰的迹象。</p><p>希望李少的事迹能够一直激励我！关键还是要磨练出自己的心智，一定要坚持、努力，天道酬勤！</p><p><img src="/2023/12/02/%E5%A4%A9%E9%81%93%E9%85%AC%E5%8B%A4/fb289fd95e4c6391305ce580323b00f.png"></p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023.10.22 一道二叉查找树编程题</title>
    <link href="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/"/>
    <url>/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>我花了7个小时，做了一道不是作业题的编程题</p><span id="more"></span><p>今天下午4点半，我在图书馆开始看同学给的一道编程题。题目不难，补全二叉查找树的代码，思路也早就有，我想着5点前应该能差不多写完，再去吃晚饭，晚上再写公司金融的作业，美滋滋。</p><p>花了十几分钟写完代码，我发现问题没那么简单。老师给的案例是假的，根本不用排序。直接生成的二叉树就符合题意，真的是阴险。python程序代码老是报错，我开始高强度查网络资料。调代码，越调越精神。时间早过了5点了，要不就晚点吃饭，一鼓作气把这个代码写完再说。</p><p>大概调了一个小时，我发现不对劲了，这python的形参不能像cpp一样传给实参，真的逆天。<img src="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/23f66d62809fae1ba6f052ad034fbef.png" alt="我向最好的硕神求助，他很猛，而且有求必应"></p><p>补充一下我需要解决的问题。我需要写一个insert函数，把值添加进二叉树里。但是二叉树在函数外面，不能直接通过函数修改。</p><p>然后我狂上网搜怎么传递参数，大概半个小时后，决定换一个方法，看看python有没有什么类似指针的东西。但是还是无功而返。又过了半个小时，我有点绷不住了，想看看网上人家怎么写二叉树的，怎么解决这个问题的。但是人家的思路和架构和老师给的完全不一样，我大脑高速运转，根本看不进去，而且也没有什么可以借鉴的东西，最后还是决定自己写吧。</p><p>大概晚上7点半，我想了半天，还是想看看python有没有指针啥的，不然太逆天了。半个小时后，我得出结论，cpp才是世界上最好的编程语言。还得出结论，思考问题而不愿意吃饭是完全可能的。</p><p>又过了半个小时，我转变了思路，想在函数外设置一个定位的变量，然后通过这个变量同步函数和树的处理位置，达到函数修改树的目的。于是我开始搜索学习命名空间的知识。</p><p>这个问题实际上我完全可以不去做。本身这只是同学问我的题目，而且我也没有这门课。但不知怎么的，我偏偏要和它死磕到底，强烈心理暗示：如果不做出来这题，我会没有心思做其它的任何事情。</p><p>搞了半个小时没搞出来，而图书馆9点钟关门，开始催人清场了。这几个小时，我一直在不停研究python里的函数形参和实参，处理的又是自定义的Node数据结构，甚至还研究了内存位置，想看看到底怎么把它们搞出来，晚饭一直都没有吃。</p><p>整理书包走回宿舍的过程中，我还在思考locals()和globals()命名空间的东西。但是确实有点饿。本来打算回宿舍再点外卖，但是这样耽误了来回拿外卖的时间。刚好回去路上路过一家罗森，我就决定买了一盒盒饭（但实际上是小龙虾味拌面），17元，带回宿舍吃，很方便。罗森9点关门，我刚好8点55买的饭，运气真的很不错。</p><p>罗森到宿舍还有一段距离，我端着温热的没开封的拌面在寒冷的天气里一路走，边走边整理了目前问题的几种思路、可能的解决方案和可能遇到的困难。到宿舍之后，我饿极了，直接开吃，并打开b站刷起了视频。</p><p>刷了大概一个小时，晚上10点了。我下定决心，今天怎么说也得把它做出来。然后我顺着前面整理的思路，又搜了搜资料。这下运气太好了，我找到了exec()和eval()函数。这两个函数有戏，我花了大概一个小时学习它们，又花了一个小时调试我的代码。终于在12点不到把这题解决了，无敌。</p><p>程序正确输出的时候，我激动得大喊大叫，还好宿舍里只有另一位舍友。虽然这个程序的意义没有上次那个脚本那么大，但我还是很高兴。我连忙把问题发给了硕神，因为知道他肯定会秒，所以特地留在我写出来之后问他。我又把结果发给了问我问题的那个同学。我说我做了7个小时，啥也没干就硬刚这道题。他说：“你那是自己有兴趣才写的。”</p><p>有兴趣吗？其实也不一定算得上。我只是很想做这道题，很想把它做出来。在4点半的时候，我就知道我一定能写出来的。7点的时候，我想如果没把这道题写出来，我今天晚上做什么事都没法好好做，虽然反复提醒自己沉没成本不是成本。10点的时候，我说如果我能做出来这道题，我就能克服很多看似难以克服的困难。12点，我终于把它做出来了。</p><p>回顾今天，我花了7个小时做一道简单的编程题。这个题非常基础，基本上计算机系的同学都会做，而且很快。但我却花了7个小时。实际上，我这么固执，也是想证明给自己看，我真的不是一个功利的人，我能够努力和专注到什么程度。这真的很重要。我把这段经历记录下来，希望未来自己也能有花7小时做一道无关紧要的简单题目的勇气和决心。</p><p>以下是珍贵作战记录： <img src="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/42c6a565e3fd674623f620884536a03.png"> <img src="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/8ef9c055bc5d7b01b43b371615df7a8.png"> <img src="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/d6c3fca55e06da2a95f2ef37a0b32a1.png"><img src="/2023/10/21/%E4%B8%80%E9%81%93%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%E7%BC%96%E7%A8%8B%E9%A2%98/1093e47edf25831a8e16f82cf962565.png"></p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>几道简单逻辑题</title>
    <link href="/2023/10/13/%E5%87%A0%E9%81%93%E7%AE%80%E5%8D%95%E9%80%BB%E8%BE%91%E9%A2%98/"/>
    <url>/2023/10/13/%E5%87%A0%E9%81%93%E7%AE%80%E5%8D%95%E9%80%BB%E8%BE%91%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>In (1-5), which inferences are correct? Give a proof (using inferencerules of PL and FOL) for each correct inference. <span id="more"></span></p><h2 id="section">1</h2><p><span class="math inline">\(A\rightarrow C\Rightarrow A\rightarrowB\rightarrow C\)</span></p><p>正确：因为<span class="math inline">\(A\rightarrowC\)</span>为T，右边恒为T</p><h2 id="section-1">2</h2><p><span class="math inline">\(\lnot(P\land\lnot Q),\lnot Q \lorR\Rightarrow P\lor R\)</span> <span class="math inline">\(\Leftrightarrow P\rightarrow Q,Q\rightarrowR\Rightarrow P\lor R\)</span></p><p>错误：若R为F，则Q为F，P为F，左边为T，右边为F，<span class="math inline">\(T\Rightarrow F\)</span>错误</p><h2 id="section-2">3</h2><p><span class="math inline">\(\forall x(Ax\rightarrow B),\lnot\forallx(Ax\rightarrow\lnot Cx)\Rightarrow B\)</span></p><p><span class="math display">\[\begin{align}&amp;(1)(UD)\ \ \ \ \forall x(Ax\rightarrow B)\Rightarrow \forallxAx\rightarrow B\\&amp;(2)(UD)\ \ \ \ \lnot\forall x(Ax\rightarrow\lnot Cx)\Rightarrow\lnot(\forall x Ax\rightarrow\forall x \lnot Cx)\\&amp;(3)(MI)\ \ \ \ \Leftrightarrow\lnot(\lnot\forall xAx\lor\forallx\lnot Cx)\\&amp;(4)(DMD)\ \ \ \ \Leftrightarrow\forall xAx\land\lnot\forall x\lnotCx\\&amp;(5)(DMU)\ \ \ \ \Leftrightarrow\forall xAx\land\exists xCx\\&amp;因为(5)为T，所以\forall xAx为T，所以原命题\Leftrightarrow\\&amp;(6)(MP)\forall xAx\rightarrow B, \forall xAx\Rightarrow B,成立\end{align}\]</span></p><h2 id="section-3">4</h2><p><span class="math inline">\(A,\lnot\exists x(Bx\land\lnotCx),\lnot\exists x(A\land \lnot Bx)\Rightarrow\exists xCx\)</span></p><p><span class="math display">\[\begin{align}&amp;(1)(DME)\ \ \ \ \lnot\exists x(Bx\land\lnotCx)\Leftrightarrow\forall x(\lnot Bx\lor Cx)\\&amp;(2)(MI)\ \ \ \ \Leftrightarrow\forall x(Bx\rightarrow Cx)\\&amp;(3)(UD)\ \ \ \ \Rightarrow\forall xBx\rightarrow\forall xCx\\&amp;(4)类似(2)(3)\ \ \ \ \lnot\exists x(A\land\lnot Bx)\LeftrightarrowA\rightarrow\forall xBx\\&amp;(5)(MP)\ \ \ \ A,A\rightarrow\forall xBx,\forallxBx\rightarrow\forall xCx\Rightarrow\forall xCx\\&amp;(6)(S3T3)\Rightarrow\exists xCx,成立\end{align}\]</span></p><h2 id="section-4">5</h2><p><span class="math inline">\(\forall xAx,\lnot\exists x(\lnot Ax\landBx),Bt\Rightarrow C\)</span></p><p><span class="math display">\[\begin{align}&amp;(DME)\ \ \ \ \lnot\exists x(\lnot Ax\land Bx)\Leftrightarrow\forallx(Bx\rightarrow Ax)\\&amp;所以左式\Leftrightarrow\forall xAx, \forall x(Bx\rightarrowAx),Bt\\&amp;取x=t,左式为T,而C可能为F,所以T\Rightarrow F不成立\\&amp;若C恒为T，则无论左式是T还是F，命题必然恒成立\end{align}\]</span></p><h2 id="补充">补充</h2><p>Material Implication (MI): <span class="math inline">\(P\rightarrowQ\Leftrightarrow \lnot P\lor Q\)</span></p><table><thead><tr class="header"><th>P</th><th>Q</th><th><span class="math inline">\(P\rightarrow Q\)</span></th></tr></thead><tbody><tr class="odd"><td>T</td><td>T</td><td>T</td></tr><tr class="even"><td>T</td><td>F</td><td>F</td></tr><tr class="odd"><td>F</td><td>T</td><td>T</td></tr><tr class="even"><td>F</td><td>F</td><td>T</td></tr></tbody></table><p><span class="math display">\[\begin{align}\forall x(Ax\lor\lnot Bx)\\\Leftrightarrow \forall x(\lnot Ax\rightarrow \lnot Bx)\\\textcolor{red}{\Rightarrow} \forall x\lnot Ax\rightarrow\forall x\lnotBx\\\Leftrightarrow\exists xBx\rightarrow\exists xAx\ \ \ \ (*)\\\\\forall x(\lnot Bx\lor Ax)\\\Leftrightarrow\forall x(Bx\rightarrow Ax)\\\textcolor{red}{\Rightarrow}\forall xBx\rightarrow\forall xAx\\\Leftrightarrow\lnot\forall xAx\rightarrow\lnot\forall xBx\\\Leftrightarrow\forall xBx\rightarrow\forall xAx\ \ \ \ (**)\end{align}\]</span></p>]]></content>
    
    
    <categories>
      
      <category>哲学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>逻辑学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Loyal to the beat</title>
    <link href="/2023/09/27/Loyal%20to%20the%20beat/"/>
    <url>/2023/09/27/Loyal%20to%20the%20beat/</url>
    
    <content type="html"><![CDATA[<blockquote><p>他就是规则，他就是常识。</p><p>他不是先锋，他已是顶峰。</p><p>王座上的灵魂，时代的象征。</p><p>《Loyal to the beat》，凯旋如约而至，请做好觉悟，高举金话筒——</p></blockquote><span id="more"></span><p><a href="https://monster-siren.hypergryph.com/music/048746">塞壬唱片- A WORLD FAMILIARLY UNKNOWN (hypergryph.com)</a></p><p>Yeah, It's the Emperor y'all, uh 大帝降临</p><p>Don't start with me I'll bring an end to all 莫搞事情 全场镇静</p><p>Uh, Uh-huh, Uh, yeah, listen 乖乖听令</p><p>You better kneel to the Boss 天下归心</p><p>(Uh-hmm)</p><p>I ain't come to play, I just come to slay 我从不花拳绣腿我必将横扫全场</p><p>Best believe today's your lucky day, once I touch the stage (uh-hmm)待我登台 请尽情享受我的光芒</p><p>Top spot forever, bruh that number never fluctuates 遥遥领先 兄弟数字从不撒谎</p><p>Hottest thing alive when I shine I set the sun ablaze 炙手可热烈日也要稍稍靠旁</p><p>Make the Winter season feel like Summer days 冰冷季节我会让你心中发烫</p><p>Forward 'cause there ain't no other way, no matter what awaits(uh-hmm) 莫问前路 只因无人能够阻挡</p><p>I am unafraid, I'll never runaway 我向来无惧 从不逃避</p><p>Best to do it, done it, did it, flipped it 'bout a hundred ways千百种方式 我不挑剔</p><p>I'm just saying... 无心之言 这就是大帝</p><p>Right?! I'm a winner bruh, you never equipped to win the fight我从无败绩 你毫无取胜之机</p><p>Against the Emperor, listen up are you men or mice? 想抵抗大帝还不快快掂量自己</p><p>I'm the pinnacle, quite formidable. Never seen the likes 无可匹敌巅峰的感觉多么孤寂</p><p>Of originals, making miracles, Y'all don't see the light?! 诞生自奇迹光芒不容置疑</p><p>Y'all got your eyes closed. Off into my zone 现在闭上双眼欢迎来到我的世界</p><p>Fly like a meteor, I'm in the media, they want to be up in my throne闪耀的流星 头条的宠儿 我的地位他们想要改写</p><p>Ride in the whip, yall gotta quit, got all of this on my own 迅猛出击统统出局 我掌握一切</p><p>Tryin' to hit me up on my phone, all that they get is the dial tone与我联系 明知结局 话筒忙音不灭</p><p>Take it all til there's nothing's left, that's just how you get itright 妄图追赶 还是徒劳无功</p><p>Yeah, they dying to be me, it's no wonder that they can't get a life挖空心思 自己的人生却未完工</p><p>Every time that they see me trying to eat off me like parasites如影随形 他们就像那寄生虫</p><p>No surprise. Only room at the top for one so step aside 意料之中王者只有一位 他们无此殊荣</p><p>This is Big E, get me, these posers are merely lowercase 大帝在此听我说 这些就是小打小闹 装腔作势</p><p>Out of this world, at a loss for words, you don't clearly know yourplace 语无伦次 搞不清主次 请认清你的位置</p><p>I put it down plain, I'm in the fast lane moving at a tortoise pace开诚布公 快车道上就我最巴适</p><p>So unbothered I got a permanent poker face, enjoy the race (Yeah)波澜不惊 摆上臭脸 开始享受赛事</p><p>I ain't come to play, I just come to slay 我从不花拳绣腿我必将横扫全场</p><p>Best believe today's your lucky day, once I touch the stage (uh-hmm)待我登台 请尽情享受我的光芒</p><p>Still number one, bruh these numbers never fluctuate 仍居榜首 兄弟数字从不撒谎</p><p>Put your drive to the test, see me, better pump your breaks 别说张狂试试你的加速度 怕你油门踩断也跟不上</p><p>Crew got more runners than the Summer games 参赛者众更胜那夏季至尊赛场</p><p>Forward 'cause there ain't no other way, no matter what it takes(uh-hmm) 莫问前路 只因无人能够阻挡</p><p>I am unafraid, I'll never runaway 我向来无惧 从不逃避</p><p>Best to do it, done it, did it, flipped it 'bout a hundred ways千百种方式 我不挑剔</p><p>I'm just saying… 无心之言 这就是大帝</p><p>Though! Yo! You dealing with a pro! (Oh) 尽管如此 记住你面前站着的是专业人士</p><p>Had to let'em know (Oh) They get ate like Ocho (uh hmm) 弱肉强食他们要认清现实</p><p>Don't make me embarrass you, keep that on the low low 低调做事给自己留点面子</p><p>P.L. crew up in this piece and your crew is a no show 企鹅物流到达你们已成为过去式</p><p>Loco, testing me and li'l homie solo 我与我的兄弟 随疯子你测试</p><p>Legend in the streets, on the mic a virtuoso 我是街头的传奇麦克风上的大师</p><p>They say that they're ready, for their sake, I really hope so对手说准备就绪 只能说希望如此</p><p>Out here making history you better snap a photo 记得按下快门见证历史</p><p>Fakers out here hating on me they don't want this work 黑子们咬牙切齿想要让我无法继续</p><p>Trying to knock me off the throne but your boy been known to swerve艳羡我的宝座 却不见自己大势已去</p><p>Wanna off me just get on but these peons are absurd 蠢蠢欲动在我眼里却是不可理喻</p><p>Ambitions of ascension but I keep their dreams deferred 野心勃勃梦想却只成为一场闹剧</p><p>Wanna knock me off the top but I'm laughing while they're reaching谋取我的宝座？笑看他们出师不利</p><p>I will never stop shining down on them like beacons 我如灯塔光芒普照四周</p><p>Grinding thru the weekend and I don't need a reason 不断磨练我不需要理由</p><p>Full throttle is my motto 'til I'm riding off the deep end 全速前进贯彻到底 直至坠入深沟</p><p>Doubt you want a problem, but keep on talking then it's bout to be你的自我诘问 是庸人自扰</p><p>They said the sky's the limit but they lied 'cause ain't no toppingme 他们说天是极限 但我说胡说八道</p><p>(Yeah) You ain't as live as me. How can there be a rivalry?你想与我比肩 这毫无可行性</p><p>Loneliest at the top you see I'm enjoying my privacy 高处不胜寒让我享受片刻清净</p><p>I am feeling so fresh (Yeah!) worked to be the best (Yeah!) 感觉良好我必全力以赴</p><p>Workin hard and playing hard and I don't need no rest (Yeah!)劳逸结合 从未停下脚步</p><p>Livin' like a King nothing but winners on my team (Yeah!) 我是国王胜者都将臣服于我朝堂</p><p>Going hard I know the cost, just blowing off some steam (Woo!)真刀真枪 我甚至都还没崭露锋芒</p><p>This is how I get it done just trying to have a little fun 找点乐子这是我的行事方式</p><p>I walk through fire, make rivers run, I been the one, not two (Ooh!)赴汤蹈火 天选之人在所不辞</p><p>So listen up, my dude, (Yeah) every member of my crew 所以听好了伙计们 我团队里每位同行人</p><p>Since little ones, weren't putting up with simpletons or fools从小到大 我便不能忍受蠢人</p><p>No giving up can't lose (Yeah!) won't take what I can't use (Yeah!)未尝败绩 这次我也将大获全胜</p><p>Spread my wing and stretching out cuz I'm about to get loose. (Yeah!)展翅飞翔 舒展全身</p><p>The Emperor will get on with anyone you choose (Yeah!)大帝能跟任何人相处得当 无论出身</p><p>Let'em tell it on the news. (Yeah!) When it's said and done I'mthrough! (ooh!) 新闻滚动 终成定局 目的地我早已直奔</p><p>It's the Emperor y'all 大帝降临</p><p>You better kneel to the Boss! 天下归心</p><p>(uh hmm)</p>]]></content>
    
    
    <categories>
      
      <category>明日方舟</category>
      
    </categories>
    
    
    <tags>
      
      <tag>明日方舟</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023.09.23 一盒红柚</title>
    <link href="/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/"/>
    <url>/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/</url>
    
    <content type="html"><![CDATA[<p>前天星期四晚上，我在校外跑步，给自己买了一盒红柚，15元。柚子很好吃，我感到很幸福。</p><span id="more"></span><figure><img src="/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/686f2cc93d200e008ff1daf2b34f4d4.jpg" alt="当时拍给爸妈看的照片"><figcaption aria-hidden="true">当时拍给爸妈看的照片</figcaption></figure><p>水果店在复兴中路上。当时我刚好跑完2km，想找辆自行车骑回去。沿着人行道随便乱走，路过这家水果店。有一个先生站在门口，边抽烟边隔着门帘和店主聊天。我低着头从他身边走过，一眼就看到了门口摆着的塑料盒子装的柚子。柚子都是剥好的，看着很诱人。要是是完整的，或许也不会激起我的冲动，但是剥好的柚子就不一样了，让人不禁想象下一刻就能放进嘴里品尝，老板真的很会做生意。</p><p>通常情况下，我是不会停下我的脚步的。这次也是如此，匆匆走了过去。但是走了几步路，我就在想为什么不买一盒尝尝呢？好久没有吃水果了，我也好想吃水果啊。对于吃，我向来是没有太多欲望的。这几天牙又疼，张大嘴巴都有些难受，本也想一如既往压制住自己的馋意，但是我想起了之前和jljj的聊天。她是一个非常好的人，认为活着的意义在于吃好吃的，我感觉她的观点也有一定道理，吃好吃的确实能让人感到愉悦。我又想柚子是水果，可以补充维生素，是有利健康的，所以完全没理由不买。于是我又往回走去。<img src="/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/58c5ecbd846e1e14952c33111bdf70c.png" alt="她说活着就是为了吃两口好的，我给她推荐了阿城的《棋王》——我最爱的书之一"></p><p>我放慢了脚步。抽烟的人仍然在和店主对话，店主手里正在用刀削一个石榴。我看到门口写着“白柚10元/盒”“红柚15元/盒”，犹豫了，继续往前走去。拿出手机，我给爸妈发了个信息。一方面，我想告知他们准备买一盒柚子；另一方面，我生怕买的质量不好，想问问他们现在是不是柚子上市的日子。<img src="/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/b754ee82ce60c850240233fb03266bd.png"></p><p>踯躅不前了一会，我看到那个抽烟的先生发现了我，估计是感觉我鬼鬼祟祟的，有些莫名。我问自己在纠结什么，下定决心直接走上前去，莽进了水果店的门，和店主说我想要买一盒柚子。吸烟者中断了和店主的交谈，水果店里顿时安静。“红的十五，白的十块。”我付了钱，说：“拿红的吧。”店主走到门口说：“好嘞，自己挑。”我也判断不出好坏多少，就直接拿了最顺手的一盒。刚准备走，他叫住我，帮我把柚子装进一个塑料袋里。</p><p>我拎着袋子离开了，世界又热闹了起来。走在路上，看着粉里透红的柚子，我很开心，因为这好像是第一次因为自己想吃而给自己买了水果，勤快一点，多吃点水果也挺好。我感觉自己成长了，因为这是第一次因为自己想吃而给自己买了水果。<img src="/2023/09/23/%E4%B8%80%E7%9B%92%E7%BA%A2%E6%9F%9A/565b6d6669690056b3c5dae39a0245b.png"></p><p>买完柚子后也不早了，共享单车稀少，一时半会找不到。我端着盒子走在人行道上，很想吃一口柚子，于是就吃了一口。非常好吃，又想把柚子带回宿舍吃，但是就一点点柚子，带回去似乎不方便也没必要。而且我如果带回了宿舍，必然会选择分给三位舍友，但只买了少数，4个人分略显寒碜，不大好看。</p><p>所以我干脆边走边吃柚子，边找共享单车。途中经过别的水果店，也看到有卖柚子的，红柚20元一包，但是很多，大概有4-5瓣的样子。我不知道自己究竟是赚了还是亏了。手机里爸妈还在给我提供解决牙疼的方法，让我买点罐头梨吃，说是去火的，我说回头再买吧，其实是我懒了。</p><p>总之，在那一刻的柚子真的很好吃，虽然它还是正常的味道，并没有形成什么美味。今天我的牙也好的差不多了，虽然它还是有点疼，得去治疗。我感到很幸福。</p><p>11.5 updated 一整个柚子就20元左右</p><p>橘子2-3元一斤，柚子3-4元一斤</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>红龙的誓言</title>
    <link href="/2023/09/19/%E7%BA%A2%E9%BE%99%E7%9A%84%E8%AA%93%E8%A8%80/"/>
    <url>/2023/09/19/%E7%BA%A2%E9%BE%99%E7%9A%84%E8%AA%93%E8%A8%80/</url>
    
    <content type="html"><![CDATA[<div class="bilibili"><iframe src="//player.bilibili.com/player.html?aid=689459258&amp;bvid=BV1Hm4y1F7oo&amp;cid=870277763&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>This is a story of Victoria, a tale from the distant past. </p><p>这是很久很久以前的，维多利亚的故事</p><p>An era when Spring remained, an age before stone castles.</p><p>那时春天还没有离开大地，石头还没有垒成城堡</p><p>A time when a girl made friends with two crimson dragons.</p><p>小小的女孩与两条红龙成了朋友</p><p>One of them was greedy, but the other was true and brave.</p><p>一条红龙贪婪，另一条勇猛</p><p>Both swore for eternity to protect her beauty and grace.</p><p>他们都发誓，会永远守护在她身边</p><p>Everywhere they went, the girl would find and take</p><p>每当他们走到了新的一处，</p><p>the most beautiful flower growing in that place.</p><p>女孩就会去摘下那里最漂亮的花朵</p><p><br></p><p>Then one day came when the greedy one exclaimed,</p><p>直到有一天，贪婪的红龙向女孩开口：</p><p>"Grant me a gift, should you call yourself my friend."</p><p>“作为朋友，你为什么不送我一件礼物？”</p><p>With honeyed tongue it begged the girl to braid a wreath</p><p>他用花言巧语，想要换取一顶花环</p><p>with the flowers she had gathered, and the girl gladly agreed.  </p><p>他要将女孩一路上采下的花都编进其中，其中女孩则欣然答应</p><p>With deft hands she wove a beauteous floral garland,</p><p>女孩用她的巧手编好了美丽的花环，</p><p>and placed it around the head of the greedy red dragon.</p><p>为贪婪的红龙戴在了头顶。</p><p><br></p><p>Yet the dragon of courage said,</p><p>勇猛的红龙则说：</p><p>"No boon for me, no gift do I need,</p><p>“我要的不是礼物。</p><p>our journey is incomplete, and there's much for us to see."</p><p>我们的旅途还没有结束，前方还有许多风景。”</p><p>And thus, it departed alone and flew to the mountains beyond,</p><p>于是他独自离开，飞过了远方的群山。</p><p>where it created Tara, a kingdom to call its own.</p><p>在山的另一边，他建起了名为塔拉的王国。</p><p>The flowers that thrive here grow in no other land.</p><p>这里盛开的花，与其他任何地方都不同。</p><p>The domain was deemed perfect to adorn the girl's fine hand.</p><p>红龙想，自己会将独一无二的美景送到女孩的手中。</p><p><br></p><p>The wind told the greedy one of its kin's great findings.</p><p>风把这个消息带给了贪婪的红龙。</p><p>Speedily it flew towards Tara with the girl upon its wings.</p><p>他带着女孩，振翼飞向塔拉</p><p>And the greedy drake was awed, dazzled by the native bloom.</p><p>花朵的美艳摄人心魄，令他不住称赞</p><p>"Resplendent shall be our crown when we take that flower fromyou."</p><p>“只要有你这一朵花作为点缀，我的花冠就会熠熠生辉”</p><p>The good drake was speechless as greed pressed the demand.</p><p>面对这样贪婪的索求，勇猛的红龙无法答应。</p><p>There was nothing left of spring, but the blossom of its ownland.</p><p>对方已经将整个春天据为己有，而自己只有送给女孩的这一朵花了。</p><p><br></p><p>Long battled the dragons, a feud of naught but woe.</p><p>为此他们争执了很久，那场闹剧无比可悲</p><p>But greed emerged triumphant, the flower was then bestowed.</p><p>直到贪婪者得到了胜利，塔拉的花朵也被编进花环</p><p>Though the blossom suffered wounds and several petals were shed,</p><p>花朵已经残缺，几片花瓣被打落。</p><p>it became the brightest jewel upon the greedy dragon's head.</p><p>但在红龙的花冠上，它仍然是最夺目的明珠。</p><p>The girl secretly wept watching her friends fight and bleed.</p><p>女孩为自己朋友之间的争斗难过，却只能偷偷哭泣。</p><p>Then a lion snuck to her giving whispers that soothed her grief.</p><p>这时，一只狮子悄悄来到她身边，轻声细语让她不要担忧</p><p>And the lion told the girl that it had a very large pride,</p><p>狮子告诉女孩，他还有许多同族，</p><p>who would swear to protect her and vowed to stay by her side.</p><p>他们也会起誓保护她，陪伴在她身边。</p><p><br></p><p>So the girl forgot her sorrows and played with new-found friends,</p><p>与狮群作伴，让女孩忘记了伤心的事。</p><p>and no longer yearned for the drake who dwelt in distant lands.</p><p>生活在远方土地上的那条红龙，也不再令她挂念。</p><p>But the draken war barely ended when the lion pushed its claim.</p><p>但趁着两条红龙结束争执，狮子立刻露出獠牙</p><p>It seized the girl and roared, "Put the crown upon my mane!"</p><p>他挟持了女孩，高声咆哮着：“为我戴上那顶花冠！”</p><p>The good drake had not healed, but valiantly it challenged thethreat.</p><p>勇敢的红龙伤口还没有愈合，却依然挺身去对抗狮群的威胁</p><p>Not for the crown it fought and killed but the oath it swore tokept.</p><p>他不是为争夺花环而厮杀，只是不曾忘记自己最初立下的誓言。</p><p>But the pride was ready for war and spilled the dragon's blood.</p><p>他的鲜血流过的战场就是证词。</p><p>It drenched the fertile earth and turned it to barren mud.</p><p>塔拉原本丰饶的土地因此变得荒芜</p><p><br></p><p>The people grew cold and starved, now that winter has arrived.</p><p>现在冬天已经来临，这片土地上的人们忍受着饥饿与寒冷。</p><p>They remain cowed and silent, though a question lingered in mind.</p><p>他们不敢开口，却有一个问题始终萦绕在心间。</p><p>"Is it gone, our crimson dragon who lives beyond the peaks?</p><p>“我们的红龙是否还在？”</p><p>Is it gone, our virtuous guardian, the one with no greed?"</p><p>“那曾经君临顶点而无所贪图，誓守德行的红龙啊，它是否还在？”</p><p>Are you listening, Loughshinny?</p><p>拉芙希妮，你在听吗？</p><p>Can you...... and will you answer that question for us?</p><p>你们能够……你们会去回答那个问题吗？</p>]]></content>
    
    
    <categories>
      
      <category>明日方舟</category>
      
    </categories>
    
    
    <tags>
      
      <tag>明日方舟</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL从删库到跑路</title>
    <link href="/2023/09/17/PostgreSQL%20cookbook/"/>
    <url>/2023/09/17/PostgreSQL%20cookbook/</url>
    
    <content type="html"><![CDATA[<p>参考了可亲的助教milk的教程和网络上的相关资料。</p><span id="more"></span><p>神中神网站：<a href="https://www.sjkjc.com/postgresql">PostgreSQL(sjkjc.com)</a></p><p><code>$</code>表示在命令行中输入代码。 pgSQL中大小写无所谓，随便用。分句用逗号<span class="math inline">\(,\)</span>结尾，整句用分号<span class="math inline">\(;\)</span>结尾</p><h1 id="intro">Intro</h1><h2 id="准备工作">0、准备工作</h2><h3 id="启动">（）（），启动！</h3><p>以管理员身份运行命令行 <figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 启动</span><br><span class="hljs-comment"># net start postgresql-x64-&lt;version&gt;</span><br><span class="hljs-variable">$</span> net <span class="hljs-built_in">start</span> postgresql<span class="hljs-literal">-x64-15</span><br><span class="hljs-comment"># 关闭</span><br><span class="hljs-comment"># net stop postgresql-x64-&lt;version&gt;</span><br></code></pre></td></tr></table></figure></p><h3 id="君权神授">君权神授</h3><ol type="1"><li>使⽤<code>psql</code>命令连接到PostgreSQL作为超级⽤户（通常是postgres）：<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>psql -U postgres<br></code></pre></td></tr></table></figure></li><li>现在您应该在psql命令⾏⼯具中。在这⾥，您可以使⽤以下SQL命令来创建⼀个新的⻆⾊：<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"># <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> %<span class="hljs-type">name</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">LOGIN</span> <span class="hljs-keyword">PASSWORD</span> <span class="hljs-string">&#x27;%password&#x27;</span> <span class="hljs-keyword">CREATEDB</span>;<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> hsb <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">LOGIN</span> <span class="hljs-keyword">PASSWORD</span> <span class="hljs-string">&#x27;feelansb&#x27;</span> <span class="hljs-keyword">CREATEDB</span>; <br></code></pre></td></tr></table></figure></li></ol><h3 id="一键输入密码懒狗专用">一键输入密码，懒狗专用</h3><p><a href="https://www.cnblogs.com/litmmp/p/5122534.html">PostgreSQL自动输入密码 - Litmmp - 博客园 (cnblogs.com)</a></p><ol type="1"><li>在C:\..\%APPDATA%路径下新建文件夹postgresql，再在这个文件夹中新建文件pgpass.conf</li><li>pgpass.conf的内容改为： <figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-comment">#hostname:port:database:username:password</span><br><span class="hljs-symbol">localhost:</span><span class="hljs-number">5432</span><span class="hljs-symbol">:*</span><span class="hljs-symbol">:*</span><span class="hljs-symbol">:*</span><br></code></pre></td></tr></table></figure>前四个字段可以是确定的字面值，也可以使用通配符 *匹配所有。如果记录信息中包含 : 或 这两个符号，需要对其进行转义，就是在字符前面加转义符号  。</li><li>在环境变量-系统变量中新增一个变量，名为PGPASSFILE，值为pgpass.conf的路径</li></ol><h2 id="建库">1、建库！</h2><p>先启动！</p><h3 id="新建某数据库">新建某数据库</h3><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-comment"># createdb %name_of_db</span><br><span class="hljs-variable">$ </span>createdb mydb<br></code></pre></td></tr></table></figure><h3 id="检查有什么数据库">检查有什么数据库</h3><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>psql -l<br></code></pre></td></tr></table></figure><h3 id="进入某数据库">进入某数据库</h3><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>psql mydb<br></code></pre></td></tr></table></figure><p>结果： <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs abnf">psql (<span class="hljs-number">15.4</span>)<br>输入 <span class="hljs-string">&quot;help&quot;</span> 来获取帮助信息.<br><br><span class="hljs-attribute">mydb</span><span class="hljs-operator">=</span>&gt;<br></code></pre></td></tr></table></figure></p><h3 id="从某数据库退出">从某数据库退出</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">mydb</span><span class="hljs-operator">=</span>&gt; \q<br></code></pre></td></tr></table></figure><h2 id="开导">2、开导！</h2><p>先建库 <figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cos"># psql -U <span class="hljs-built_in">%name</span> -<span class="hljs-keyword">d</span> <span class="hljs-built_in">%name</span>_of_db -f <span class="hljs-string">&quot;%dir&quot;</span><br>$ psql -U hsb -<span class="hljs-keyword">d</span> mydb -f <span class="hljs-string">&quot;\..\mydb.sql&quot;</span><br></code></pre></td></tr></table></figure> 结果： <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">CREATE</span> TABLE<br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">CREATE</span> TABLE<br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">CREATE</span> TABLE<br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">CREATE</span> TABLE<br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">INSERT</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></p><h3 id="如果不想看运行过程">如果不想看运行过程</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> psql mydb <span class="hljs-operator">-f</span> <span class="hljs-string">&quot;\..\mydb.sql&quot;</span> <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> | grep ERROR<br></code></pre></td></tr></table></figure><h2 id="检视数据库">3、检视数据库</h2><p>先导一下 <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">mydb</span><span class="hljs-operator">=</span>&gt; \d<br></code></pre></td></tr></table></figure> 结果： <figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">                 关联列表<br> 架构模式 |<span class="hljs-string">   名称    </span>|<span class="hljs-string">  类型  </span>|<span class="hljs-string">  拥有者</span><br><span class="hljs-string">----------+-----------+--------+-----------</span><br><span class="hljs-string"> public   </span>|<span class="hljs-string"> courses   </span>|<span class="hljs-string"> 数据表 </span>|<span class="hljs-string"> hsb</span><br><span class="hljs-string"> public   </span>|<span class="hljs-string"> enrolment </span>|<span class="hljs-string"> 数据表 </span>|<span class="hljs-string"> hsb</span><br><span class="hljs-string"> public   </span>|<span class="hljs-string"> staff     </span>|<span class="hljs-string"> 数据表 </span>|<span class="hljs-string"> hsb</span><br><span class="hljs-string"> public   </span>|<span class="hljs-string"> students  </span>|<span class="hljs-string"> 数据表 </span>|<span class="hljs-string"> hsb</span><br><span class="hljs-string">(4 行记录)</span><br></code></pre></td></tr></table></figure></p><h3 id="检视子数据表">检视子数据表</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">mydb=&gt; \d staff<br></code></pre></td></tr></table></figure><p>结果： <figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">数据表 <span class="hljs-string">&quot;public.staff&quot;</span><br>   栏位   |<span class="hljs-string">         类型          </span>|<span class="hljs-string"> 校对规则 </span>|<span class="hljs-string">  可空的  </span>|<span class="hljs-string"> 预设</span><br><span class="hljs-string">----------+-----------------------+----------+----------+------</span><br><span class="hljs-string"> userid   </span>|<span class="hljs-string"> character varying(10) </span>|<span class="hljs-string">          </span>|<span class="hljs-string"> not null </span>|<br> name     |<span class="hljs-string"> character varying(30) </span>|<span class="hljs-string">          </span>|<span class="hljs-string">          </span>|<br> position |<span class="hljs-string"> character varying(20) </span>|<span class="hljs-string">          </span>|<span class="hljs-string">          </span>|<br> phone    |<span class="hljs-string"> integer               </span>|<span class="hljs-string">          </span>|<span class="hljs-string">          </span>|<br>索引：<br>    <span class="hljs-string">&quot;staff_pkey&quot;</span> PRIMARY KEY, btree (userid)<br>由引用：<br>    TABLE <span class="hljs-string">&quot;courses&quot;</span> CONSTRAINT <span class="hljs-string">&quot;courses_lecturer_fkey&quot;</span> FOREIGN KEY (lecturer) REFERENCES staff(userid)<br><br></code></pre></td></tr></table></figure></p><h3 id="展示子数据表">展示子数据表</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">mydb</span><span class="hljs-operator">=</span>&gt; select * from staff<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>结果： <figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coq">  userid  |     <span class="hljs-type">name</span>      |    <span class="hljs-type">position</span>     | <span class="hljs-type">phone</span><br>----------+---------------+-----------------+-------<br> jingling | <span class="hljs-type">Jingling</span> Xue  | <span class="hljs-type">Professor</span>       | <span class="hljs-type">54889</span><br> jas      | <span class="hljs-type">John</span> Shepherd | <span class="hljs-type">Senior</span> Lecturer | <span class="hljs-type">56494</span><br> andrewt  | <span class="hljs-type">Andrew</span> Taylor | <span class="hljs-type">Senior</span> Lecturer | <span class="hljs-type">55525</span><br>(<span class="hljs-number">3</span> 行记录)<br></code></pre></td></tr></table></figure></p><h1 id="language">Language</h1><h2 id="select-statement">SELECT statement</h2><p><strong>SELECT</strong> &lt;attribute and function list&gt;<strong>FROM</strong> &lt;table list&gt; [<strong>WHERE</strong>&lt;condition&gt;] [<strong>GROUP BY</strong> &lt;groupingattribute(s)&gt;] [<strong>HAVING</strong> &lt;group condition&gt;][<strong>ORDER BY</strong> &lt;attribute list&gt;]</p><p>[]里面的不是必须</p><h3 id="select">SELECT</h3><p>就是正常的选择，相当于关系代数里的<strong>不去重的projection（纵切片）</strong></p><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> attr1<br></code></pre></td></tr></table></figure><ul><li>选择attr1列</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> attr1, attr2<br></code></pre></td></tr></table></figure><ul><li>选择attr1和attr2两列</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> *<br></code></pre></td></tr></table></figure><ul><li>选择所有列</li></ul><h4 id="distinct">DISTINCT</h4><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> attr1<br></code></pre></td></tr></table></figure><ul><li>不重复元素地选择attr1列</li><li><span class="math inline">\(\pi_{attr1}\)</span></li></ul><h4 id="as">AS</h4><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> attr1 <span class="hljs-keyword">AS</span> sb1, attr2 <span class="hljs-keyword">AS</span> sb2<br></code></pre></td></tr></table></figure><ul><li>选择attr1列作为sb1，选择attr2列作为sb2</li><li><span class="math inline">\(\rho_{\{sb1,sb2\}}()\)</span></li><li>只是显示的名字从attr1变成了sb1，原来table中的名字还是attr1不变，attr2同理</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> attr1+<span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> sb<br></code></pre></td></tr></table></figure><ul><li>选择attr1列+100作为sb，也可以用运算</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> attr1, <span class="hljs-string">&#x27;like sb&#x27;</span> <span class="hljs-keyword">AS</span> sb<br></code></pre></td></tr></table></figure><p>结果</p><table><thead><tr class="header"><th>attr1</th><th>sb</th></tr></thead><tbody><tr class="odd"><td></td><td>like sb</td></tr><tr class="even"><td></td><td>like sb</td></tr><tr class="odd"><td><span class="math inline">\(\cdots\)</span></td><td><span class="math inline">\(\cdots\)</span></td></tr></tbody></table><ul><li>填充自定义内容作为新的一列，不改变原来的表格，掩耳盗铃</li></ul><h4 id="用aggregate-functions">用Aggregate Functions</h4><p>可以在SELECT里面用Aggregate函数</p><ul><li>SUM()</li><li>AVG()</li><li>MIN()</li><li>MAX()</li><li>COUNT()<ul><li>注意COUNT默认COUNT(ALL)，可以用COUNT(DISTINCT)</li><li>注意COUNT默认不计NULL，但是COUNT(*)计入NULL</li></ul></li></ul><h4 id="into">INTO</h4><p>表示从选择的结果中创建一个（临时的）新表 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">SELECT</span> *<br><span class="hljs-keyword">INTO</span> [<span class="hljs-keyword">TEMP</span>] film_copy<br><span class="hljs-keyword">FROM</span> film<br></code></pre></td></tr></table></figure></p><h3 id="from">FROM</h3><p>表示从什么表格里select，相当于关系代数里的 <strong>()</strong><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">FROM</span> R1<br></code></pre></td></tr></table></figure></p><ul><li>从R1中（选择）</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">FROM</span> R1,R2<br></code></pre></td></tr></table></figure><ul><li>从R1<span class="math inline">\(\times\)</span>R2中（选择），做CartesianProduct</li></ul><p>表现关系代数里<strong>join</strong>的功能 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">FROM</span> R1 <br><span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> R2<br></code></pre></td></tr></table></figure></p><ul><li>R1和R2做自然连接，再从中进行选择</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">FROM</span> R1 <br><span class="hljs-keyword">JOIN</span> R2 <br><span class="hljs-keyword">ON</span> R1.attr1=R2.attr1<br></code></pre></td></tr></table></figure><ul><li>R1和R2根据attr1做equi-join，再从中进行选择</li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> b1.attr1, b2.attr1<br><span class="hljs-keyword">FROM</span> R1 b1, R2 b2<br></code></pre></td></tr></table></figure><ul><li><p>记R1为b1，R2为b2</p></li><li><p>自定义表格的记号，防止出现重复和方便书写 ### WHERE相当于关系代数里的<strong>selection</strong>，给选择加上限制条件<strong>（横切片）</strong> <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">WHERE</span> <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;hsb&#x27;</span><br></code></pre></td></tr></table></figure></p></li><li><p>选择name=hsb的tuple</p></li><li><p><span class="math inline">\(\sigma_{(name=&#39;hsb&#39;)}\)</span></p></li></ul><p>相当于关系代数里的<strong>join</strong>，连接符合条件的表格<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-type">name</span>, course_id<br><span class="hljs-keyword">FROM</span> instructor, teaches<br><span class="hljs-keyword">WHERE</span> instructor.ID=teaches.ID <span class="hljs-keyword">AND</span> year=<span class="hljs-number">2010</span><br></code></pre></td></tr></table></figure></p><ul><li>对instructor和teaches表格做equi-join，并选择year=2010的tuples</li></ul><h4 id="subqueries">Subqueries</h4><h5 id="单结果">单结果</h5><p>若subquery返回只有一个tuple，可以把结果当作constantvalue，在WHERE语句中使用。 例子： Sells <img src="/2023/09/17/PostgreSQL%20cookbook/3a81dbaecb9b26325c8177cdbebcfa0.png"><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> bar<br><span class="hljs-keyword">FROM</span> Sells<br><span class="hljs-keyword">WHERE</span> beer=<span class="hljs-string">&#x27;New&#x27;</span> <span class="hljs-keyword">AND</span> price=(<br><span class="hljs-keyword">SELECT</span> price<br><span class="hljs-keyword">FROM</span> Sells<br><span class="hljs-keyword">WHERE</span> bar=<span class="hljs-string">&#x27;Coogee Bay Hotel&#x27;</span><br><span class="hljs-keyword">AND</span> beer=<span class="hljs-string">&#x27;Victoria Bitter&#x27;</span><br>)<br></code></pre></td></tr></table></figure> 这等价于 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> b2.bar<br><span class="hljs-keyword">FROM</span> Sells b1, Sells b2<br><span class="hljs-keyword">WHERE</span> b1.beer=<span class="hljs-string">&#x27;Victoria Bitter&#x27;</span> <span class="hljs-keyword">AND</span><br>  b1.bar=<span class="hljs-string">&#x27;Coogee Bay Hotel&#x27;</span> <span class="hljs-keyword">AND</span><br>  b1.price=b2.price <span class="hljs-keyword">AND</span><br>  b2.beer=<span class="hljs-string">&#x27;New&#x27;</span><br></code></pre></td></tr></table></figure></p><h5 id="多结果-in">多结果 IN</h5><p>若subquery返回多个结果，在WHERE中用IN表示 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> Students <br><span class="hljs-keyword">WHERE</span> grade <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;HD&#x27;</span>,<span class="hljs-string">&#x27;D&#x27;</span>)<br></code></pre></td></tr></table></figure></p><ul><li><p>在grade的值为HD或D中选择 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> *<br><span class="hljs-keyword">FROM</span> Beers<br><span class="hljs-keyword">WHERE</span> <span class="hljs-type">name</span> <span class="hljs-keyword">IN</span> (<br><span class="hljs-keyword">SELECT</span> beer<br><span class="hljs-keyword">FROM</span> Likes<br><span class="hljs-keyword">WHERE</span> drinker=<span class="hljs-string">&#x27;John&#x27;</span><br>)<br></code></pre></td></tr></table></figure></p></li><li><p>在drinker的值为John中选择</p></li></ul><h5 id="exists">EXISTS</h5><p>存在，如果满足条件的tuple非空，则返回true</p><p>例子：Find the beers uniquely made by their manufacturer.<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-type">name</span><br><span class="hljs-keyword">FROM</span> Beers b1<br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (<br><span class="hljs-keyword">SELECT</span> *<br><span class="hljs-keyword">FROM</span> Beers<br><span class="hljs-keyword">WHERE</span> manf=b1.manf <span class="hljs-keyword">AND</span> <span class="hljs-type">name</span>!=b1.name<br>)<br></code></pre></td></tr></table></figure></p><ul><li>用NOT EXISTS找出不唯一生产某一种酒的制造商</li></ul><h5 id="allanysome">ALL/ANY（SOME）</h5><p>找全部符合条件的tuple，则返回True找存在某一个符合条件的tuple，则返回True</p><p>例子：Find the names of all instructors whose salary is greater thanthe salary of all instructors in the Physics department.<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-type">name</span><br><span class="hljs-keyword">FROM</span> instructor<br><span class="hljs-keyword">WHERE</span> salary &gt; <span class="hljs-keyword">ALL</span>(<br><span class="hljs-keyword">SELECT</span> salary<br><span class="hljs-keyword">FROM</span> instructor<br><span class="hljs-keyword">WHERE</span> dept <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;Physics&#x27;</span><br>)<br></code></pre></td></tr></table></figure></p><ul><li>=ANY等价于IN</li><li>&lt;&gt;ALL等价于NOT IN</li></ul><h3 id="group-by">GROUP BY</h3><p>分组，分别应用aggregate function，相当于关系代数中的<span class="math inline">\(\gamma_{\{attr,agg\_func\}}\)</span>的第一个参数</p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> drinker,AVG(price)<br><span class="hljs-keyword">FROM</span> Frequents, Sells<br><span class="hljs-keyword">WHERE</span> beer=<span class="hljs-string">&#x27;New&#x27;</span> <span class="hljs-keyword">AND</span> Frequents.bar=Sell.bar<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> drinker<br></code></pre></td></tr></table></figure> 结果：</p><table><thead><tr class="header"><th>Drinker</th><th>AVG(price)</th></tr></thead><tbody><tr class="odd"><td>Adam</td><td>2.25</td></tr><tr class="even"><td>John</td><td>2.25</td></tr><tr class="odd"><td>Justin</td><td>2.5</td></tr></tbody></table><ul><li>要求：SELECT后面跟的Attribute必须要么在Aggregatefunction里出现，要么在GROUP BY语句里出现</li></ul><h3 id="having">HAVING</h3><p>在GROUP BY后面用，限制<strong>分组的条件</strong></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> bar, MIN(price)<br><span class="hljs-keyword">FROM</span> Sells<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Bar<br><span class="hljs-keyword">HAVING</span> MIN(price)&gt;<span class="hljs-number">2.3</span><br></code></pre></td></tr></table></figure> 结果：</p><table><thead><tr class="header"><th>Bar</th><th>MIN(price)</th></tr></thead><tbody><tr class="odd"><td>Australia Hotel</td><td>3.5</td></tr><tr class="even"><td>Coogee Bay Hotel</td><td>2.25</td></tr><tr class="odd"><td>Lord Nelson</td><td>3.75</td></tr><tr class="even"><td>Marble Bar</td><td>2.8</td></tr><tr class="odd"><td>Royal Hotel</td><td>2.3</td></tr><tr class="even"><td><span class="math inline">\(\cdots\)</span></td><td><span class="math inline">\(\cdots\)</span></td></tr></tbody></table><h3 id="order-by">ORDER BY</h3><p>对最后结果的表格排序，升序ASC(ascend)、降序DESC(descend)<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span> column1, column2,...<br><span class="hljs-keyword">FROM</span> <span class="hljs-built_in">table_name</span><br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> column1, column2,... <span class="hljs-keyword">ASC</span>|<span class="hljs-keyword">DESC</span><br></code></pre></td></tr></table></figure></p><h2 id="functions">Functions</h2><p>可以以多种形式调用 - 在SELECT语句中调用 -<code>SELECT myFunction(arg1, arg2);</code> -<code>SELECT * FROM myTableFunction(arg1, arg2)</code> -直接使用，或在另一个PLpgSQL函数中调用 -<code>PERFORM myVoidFunction(arg1, arg2);</code> -<code>result:=myOtherFunction(arg1);</code> - 在Trigger中自动使用</p><h3 id="基本语法">基本语法</h3><h4 id="sql">SQL</h4><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span><br>funcName(arg1type, arg2type, ...)<br><span class="hljs-keyword">RETURNS</span> rettype<br><span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">SQL</span> statements</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">sql</span>;<br></code></pre></td></tr></table></figure><ul><li>RETURNS返回的是<strong>最后</strong>一个SQL语句</li><li>rettype可以是一个table: RETURNS set of<ul><li>但是好像只是用这个table的schema，因此要求列数匹配</li></ul></li></ul><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-comment">-- set of Bars from specified suburb</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span><br>hotelsIN(<span class="hljs-type">TEXT</span>) <span class="hljs-keyword">RETURNS</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> Bars<br><span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> Bars <span class="hljs-keyword">WHERE</span> addr=<span class="hljs-meta">$1</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">sql</span>;<br><br><span class="hljs-comment">-- usage examples</span><br><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> hotelsIn(<span class="hljs-string">&#x27;The Rocks&#x27;</span>);<br></code></pre></td></tr></table></figure><p>结果： <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section">name            | addr      | license</span><br><span class="hljs-section">----------------+-----------+---------</span><br>Australia Hotel | The Rocks | 123456<br>Lord Nelson     | The Rocks | 123888<br></code></pre></td></tr></table></figure></p><h4 id="plpgsql-function">PL/pgSQL Function</h4><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span><br>funcName(param1, param2, ...)<br><span class="hljs-keyword">RETURNS</span> rettype<br><span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">DECLARE</span></span><br><span class="language-pgsql">varibale declarations</span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">code <span class="hljs-keyword">for</span> <span class="hljs-keyword">function</span></span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure><ul><li>参数用位置来引用$1, $2</li><li>或者用别名alias<ul><li>在函数header中用(e.g. f(a int, b int))</li><li>在declaration中用(e.g. a alias for $1; b alias for $2)</li></ul></li></ul><p>例子1（船新写法）： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span><br><span class="hljs-keyword">add</span>(x <span class="hljs-type">TEXT</span>, y <span class="hljs-type">TEXT</span>) <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">TEXT</span><br><span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">DECLARE</span></span><br><span class="language-pgsql">result <span class="hljs-type">TEXT</span>; <span class="hljs-comment">--local variable</span></span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">result := x||&quot;&quot;||y;</span><br><span class="language-pgsql"><span class="hljs-keyword">RETURN</span> result;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure></p><p>例子2（都什么年代，还在用传统写法）： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span><br>cat(<span class="hljs-type">TEXT</span>, <span class="hljs-type">TEXT</span>) <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">TEXT</span><br><span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">DECLARE</span></span><br><span class="language-pgsql">x <span class="hljs-keyword">ALIAS</span> <span class="hljs-keyword">FOR</span> <span class="hljs-meta">$1</span>; <span class="hljs-comment">--alias for parameter</span></span><br><span class="language-pgsql">y <span class="hljs-keyword">ALIAS</span> <span class="hljs-keyword">FOR</span> <span class="hljs-meta">$2</span>; <span class="hljs-comment">--alias for parameter</span></span><br><span class="language-pgsql">result <span class="hljs-type">TEXT</span>; <span class="hljs-comment">--local variable</span></span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql">result := x||&quot;&quot;&quot;&quot;||y;</span><br><span class="language-pgsql"><span class="hljs-keyword">RETURN</span> result;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure></p><p>PLpgSQL允许函数重载<strong>function overloading</strong> (i.e. samename, different arg types) - 就是说，可以同一个函数名，不同的参数 -但是不能同一个函数名，相同的参数，不同的返回值 -这条是对应CREATE的，一般还是建议写CREATE OR REPLACE</p><h3 id="声明data-types">声明Data Types</h3><ul><li>正常声明<ul><li><code>quantity INTEGER</code></li></ul></li><li>声明为和某个变量一样<ul><li><code>start_quantity quantity%TYPE</code></li></ul></li><li>声明为和某个表（包含其中所有列）一样<ul><li><code>employee Employees%ROWTYPE</code></li></ul></li><li>声明为和某个表中的某个列一样<ul><li><code>name Employees.name%TYPE</code></li></ul></li></ul><p>用%声明像引用一样，好就好在修改的时候可以自动保持更新</p><h3 id="return">RETURN</h3><ul><li>An atomic data type (e.g. integer, text, ...)<ul><li><code>RETURNS INTEGER</code></li></ul></li><li>A tuple (e.g. table record type or tuple type)<ul><li><code>RETURNS Employee</code></li></ul></li><li>A set of atomic values (like a table column)<ul><li><code>RETURNS SETOF FLOAT</code></li></ul></li><li>A set of tuples (i.e. a table)<ul><li><code>RETURNS SETOF Employee</code></li><li>Similar to a view</li></ul></li><li><strong><em>void</em></strong> (i.e. no return value)</li></ul><h3 id="控制结构">控制结构</h3><h4 id="条件判断">条件判断</h4><ul><li>IF ... THEN</li><li>IF ... THEN ... ELSE</li><li>IF ... THEN ... ELSIF ... THEN ... ELSE</li></ul><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">IF</span> v_user_id&gt;<span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span><br><span class="hljs-keyword">UPDATE</span> users <span class="hljs-keyword">SET</span> email = v_email <span class="hljs-keyword">WHERE</span> user_id = v_user_id;<br><span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;<br></code></pre></td></tr></table></figure></p><h4 id="迭代循环">迭代（循环）</h4><p>平平无奇的LOOP <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">LOOP</span><br><span class="hljs-keyword">Statement</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">LOOP</span><br><span class="hljs-comment">-- some computations</span><br><span class="hljs-keyword">EXIT</span> <span class="hljs-keyword">WHEN</span> count&gt;<span class="hljs-number">0</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br></code></pre></td></tr></table></figure></p><p>带FOR循环的LOOP <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">FOR</span> int_var <span class="hljs-keyword">IN</span> low .. high <span class="hljs-keyword">LOOP</span><br><span class="hljs-keyword">Statement</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">FOR</span> i <span class="hljs-keyword">IN</span> <span class="hljs-number">1.</span><span class="hljs-number">.10</span> <span class="hljs-keyword">LOOP</span><br><span class="hljs-comment">-- Statement</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<br></code></pre></td></tr></table></figure></p><h2 id="其它运算">其它运算</h2><h3 id="set-operations">Set Operations</h3><p>下面的运算均为集合运算，去重了。如果不要去重，在后面加ALL，比如UNIONALL #### UNION Find courses that ran in Fall 2009 <strong>or</strong> inSpring 2010 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span><br>sem = <span class="hljs-string">&#x27;Fall&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2009</span>) <br><br><span class="hljs-keyword">UNION</span><br><br>(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span> sem = <span class="hljs-string">&#x27;Spring&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2010</span>)<br></code></pre></td></tr></table></figure></p><h4 id="intersect">INTERSECT</h4><p>Find courses that ran in Fall 2009 <strong>and</strong> in Spring2010 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span><br>sem = <span class="hljs-string">&#x27;Fall&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2009</span>) <br><br><span class="hljs-keyword">INTERSECT</span><br><br>(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span> sem = <span class="hljs-string">&#x27;Spring&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2010</span>)<br></code></pre></td></tr></table></figure></p><h4 id="except">EXCEPT</h4><p>Find courses that ran in Fall 2009 <strong>but not</strong> in Spring2010 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span><br>sem = <span class="hljs-string">&#x27;Fall&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2009</span>) <br><br><span class="hljs-keyword">EXCEPT</span><br><br>(<span class="hljs-keyword">SELECT</span> course_id <br><span class="hljs-keyword">FROM</span> section <br><span class="hljs-keyword">WHERE</span> sem = <span class="hljs-string">&#x27;Spring&#x27;</span> <span class="hljs-keyword">AND</span> year = <span class="hljs-number">2010</span>)<br></code></pre></td></tr></table></figure></p><h3 id="修改数据类型">修改数据类型</h3><h4 id="cast">CAST/::</h4><p>用CAST修改数据类型（通用），这等价于::（仅pgsql可用）<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">CAST (expression <span class="hljs-keyword">AS</span> target_type)<br><br>expression :: target_type<br></code></pre></td></tr></table></figure></p><h2 id="窗口函数">窗口函数</h2><h3 id="rank">RANK</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">SELECT</span><br>rank()<br><span class="hljs-keyword">over</span>(<br>[<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> partition_column_list]<br>[<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> order_column_list]<br>)<br></code></pre></td></tr></table></figure><p>正常的排序，PARTITION里面是类似于分组别比较，ORDER是决定rank的顺序，输出为一列rank</p><h1 id="operations">Operations</h1><h2 id="建表">建表</h2><h3 id="create">CREATE</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"># <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> %name_of_table (<br>%attribute1 %datatype [%properties],<br>%attribute2 %datatype [%properties],<br>...<br>[%table_property1],<br>[%table_property2],<br>...<br>);<br></code></pre></td></tr></table></figure><h3 id="添加表约束-constraints">添加表约束 Constraints</h3><h4 id="primary-key">PRIMARY KEY</h4><p>单attribute作为主键，直接在后面加PRIMARY KEY <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users(<br>id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY KEY</span>,<br><span class="hljs-type">name</span> <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">45</span>)<br>);<br></code></pre></td></tr></table></figure></p><p>或者，多attributes作为主键 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users(<br>com_id <span class="hljs-type">INTEGER</span>,<br>user_number <span class="hljs-type">INTEGER</span>,<br><span class="hljs-type">name</span> <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">45</span>),<br><span class="hljs-keyword">PRIMARY KEY</span>(com_id, user_number)<br>);<br></code></pre></td></tr></table></figure></p><h4 id="foreign-key">FOREIGN KEY</h4><p>添加外键约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span>(<br>column_defination_1,<br>...<br>[<span class="hljs-keyword">CONSTRAINT</span> foreign_key_name]<br><span class="hljs-keyword">FOREIGN KEY</span> (<span class="hljs-keyword">column</span>)<br><span class="hljs-keyword">REFERENCES</span> parent_table_name (<span class="hljs-keyword">column</span>)<br><span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> ...<br><span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> ...<br>)<br></code></pre></td></tr></table></figure></p><ul><li><code>ON DELETE</code> 和 <code>ON UPDATE</code> 指定了删除或更新父表中的行时要采取的约束策略。你可以使用以下5 个策略中的一个：<ul><li><code>NO ACTION</code>: 这是默认的策略。</li><li><code>RESTRICT</code>:如果父表中的一行在该表中有匹配的行，试图删除或更新父表中行时会引发PostgreSQL 错误。</li><li><code>CASCADE</code>：如果父表中的一行被删除或更新，该表中匹配行的值会自动删除或更新。</li><li><code>SET NULL</code>：如果父表中的一行被删除或更新，该表中匹配行的值设置为 <code>NULL</code>。</li><li><code>SET DEFAULT</code>:如果父表中的一行被删除或更新，该表中匹配行的值设置为默认值。</li></ul></li></ul><h4 id="not-null">NOT NULL</h4><p>添加非空约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span> (<br>...<br><span class="hljs-built_in">column_name</span> data_type <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>...,<br>...<br>)<br></code></pre></td></tr></table></figure></p><h4 id="unique">UNIQUE</h4><p>添加某一列为唯一约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span> (<br>...,<br><span class="hljs-built_in">column_name</span> data_type <span class="hljs-keyword">UNIQUE</span>,<br>)<br></code></pre></td></tr></table></figure></p><p>添加多列为唯一约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span>(<br>column_name1 column_definition,<br>column_name2 column_definition,<br>...,<br>[<span class="hljs-keyword">CONSTRAINT</span> <span class="hljs-built_in">constraint_name</span>]<br><span class="hljs-keyword">UNIQUE</span>(column_name1, column_name2)<br>)<br></code></pre></td></tr></table></figure></p><h4 id="check">CHECK</h4><p>自定义约束。可以对某个列约束，也可以对整个表约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL">[CONSTAINT <span class="hljs-built_in">constraint_name</span>]<br><span class="hljs-keyword">CHECK</span>(expr)<br></code></pre></td></tr></table></figure></p><ul><li>LIKE不能用，要用~，但是不知道为啥</li></ul><h2 id="修改表">修改表</h2><h3 id="alter">ALTER</h3><p>选取要修改的表 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span><br></code></pre></td></tr></table></figure></p><h4 id="添加add">添加ADD</h4><p>添加列 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> Bars<br><span class="hljs-keyword">ADD</span> phone <span class="hljs-type">char</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;Unlisted&#x27;</span><br></code></pre></td></tr></table></figure></p><ul><li>DEFAULT写明默认值，如果没写，默认为NULL</li></ul><p>添加约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> Persons <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">PRIMARY KEY</span>(ID)<br></code></pre></td></tr></table></figure></p><h4 id="删除drop">删除DROP</h4><p>删除列 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-built_in">table_name</span><br><span class="hljs-keyword">DROP</span> [<span class="hljs-keyword">COLUMN</span>] [<span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span>] <span class="hljs-built_in">column_name</span> [<span class="hljs-keyword">RESTRICT</span> | <span class="hljs-keyword">CASCADE</span>]<br>[, <span class="hljs-keyword">DROP</span> [<span class="hljs-keyword">COLUMN</span>] ...];<br></code></pre></td></tr></table></figure></p><ul><li>解释说明：<ul><li><code>table_name</code> 是要在其中添加列的表。</li><li><code>DROP [COLUMN] ...</code> 子句用来删除一个列。其中 <code>COLUMN</code> 关键字是可以省略的。如果要在一个语句中删除多个列，请使用多个逗号分隔的 <code>ADD [COLUMN] ...</code> 子句。</li><li><code>IF EXISTS</code> 是可选的，它可以避免因为给出的列名不存在而导致的错误。</li><li><code>column_name</code> 是要删除的列的名字。</li><li><code>CASCADE | RESTRICT</code> 是可选的，它指示了如果有其他对象（比如外键、视图、触发器、存储过程等）引用了要删除的列的处理策略。其中：<ul><li><code>CASCADE</code> - 允许删除此列和引用此列的对象。</li><li><code>RESTRICT</code> -如果有对象引用此列，拒绝删除此列，并给出错误。它是默认的选项。</li></ul></li></ul></li><li>从表中删除一列时，PostgreSQL将自动删除所有涉及删除列的索引和约束。</li></ul><p>删除约束 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> Persons <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">PRIMARY KEY</span><br></code></pre></td></tr></table></figure></p><h2 id="删除表">删除表</h2><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"># <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> %name_of_table<br>$ <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> person<br></code></pre></td></tr></table></figure><h2 id="插入数据">插入数据</h2><h3 id="insert">INSERT</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Relation <span class="hljs-keyword">VALUES</span> (val1,val2,val3,...)<br></code></pre></td></tr></table></figure><h4 id="subquery">Subquery</h4><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgreSQL"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Relation (Subquery)<br></code></pre></td></tr></table></figure><p>例子： Populate a relation of John's potential drinking buddies (i.e.people who go to the same bars as John). <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> DrinkingBuddies(<br><span class="hljs-type">name</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>)<br>)<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> DrinkingBuddies(<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> f2.drinker<br><span class="hljs-keyword">FROM</span> Frequents f1, Frequents f2<br><span class="hljs-keyword">WHERE</span> f1.drinker=<span class="hljs-string">&#x27;John&#x27;</span><br><span class="hljs-keyword">AND</span> f2.drinker!=<span class="hljs-string">&#x27;John&#x27;</span><br><span class="hljs-keyword">AND</span> f1.bar=f2.bar<br>)<br></code></pre></td></tr></table></figure></p><h2 id="删除数据">删除数据</h2><h3 id="delete">DELETE</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">Table</span><br><span class="hljs-keyword">WHERE</span> Condition<br></code></pre></td></tr></table></figure><p>例子： Justin no longer likes Sparking Ale. <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> Likes<br><span class="hljs-keyword">WHERE</span> drinker=<span class="hljs-string">&#x27;Justin&#x27;</span><br><span class="hljs-keyword">AND</span> beer=<span class="hljs-string">&#x27;Sparking Ale&#x27;</span><br></code></pre></td></tr></table></figure></p><ul><li>注意，DELETE和DROP不一样</li></ul><h2 id="更新数据">更新数据</h2><p>已经有了一些tuples，但是想要更新其中的部分值</p><h3 id="update">UPDATE</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">UPDATE</span> R<br><span class="hljs-keyword">SET</span> list <span class="hljs-keyword">of</span> assignments<br><span class="hljs-keyword">WHERE</span> Condition<br></code></pre></td></tr></table></figure><p>例子： John moves to Coogee. <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">UPDATE</span> Drinkers<br><span class="hljs-keyword">SET</span> addr=<span class="hljs-string">&#x27;Coogee&#x27;</span>, phone=<span class="hljs-string">&#x27;9665-4321&#x27;</span><br><span class="hljs-keyword">WHERE</span> <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;John&#x27;</span><br></code></pre></td></tr></table></figure></p><p>也可以批量更新tuples 例子： Increase all beer prices by 10%<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">UPDATE</span> Sells<br><span class="hljs-keyword">SET</span> price=price*<span class="hljs-number">1.10</span><br></code></pre></td></tr></table></figure></p><h2 id="view">VIEW</h2><p>VIEW是虚拟的关系，不占DBMS里的空间 创建VIEW： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> View_name <span class="hljs-keyword">AS</span> Query<br></code></pre></td></tr></table></figure>删除VIEW： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">VIEW</span> View_name<br></code></pre></td></tr></table></figure></p><p>例子： Using the InnerCityHotels view <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> InnerCityHotels <span class="hljs-keyword">AS</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-type">name</span>, license<br><span class="hljs-keyword">FROM</span> Bars<br><span class="hljs-keyword">WHERE</span> addr <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;The Rocks&#x27;</span>,<span class="hljs-string">&#x27;Sydney&#x27;</span>)<br><br><span class="hljs-keyword">SELECT</span> pub<br><span class="hljs-keyword">FROM</span> InnerCityHotels<br><span class="hljs-keyword">WHERE</span> lic=<span class="hljs-string">&#x27;123456&#x27;</span><br></code></pre></td></tr></table></figure></p><ul><li>VIEW是自动更新数据的，如果原始的表数据更新了的话</li></ul><h2 id="创建索引">创建索引</h2><h3 id="create-index">CREATE INDEX</h3><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> index_name<br><span class="hljs-keyword">ON</span> <span class="hljs-built_in">table_name</span> (column1, column2, ...)<br></code></pre></td></tr></table></figure><p>或者 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">INDEX</span> index_name<br><span class="hljs-keyword">ON</span> <span class="hljs-built_in">table_name</span> (column1, column2, ...)<br></code></pre></td></tr></table></figure></p><h1 id="plpgsql">PLpgSQL</h1><h2 id="自定义data-types">自定义Data Types</h2><h3 id="create-domain">CREATE DOMAIN</h3><p>用来创建basic types <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs PostgreSQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DOMAIN</span> DomainName [<span class="hljs-keyword">AS</span>] DataType<br>[<span class="hljs-keyword">DEFAULT</span> expression]<br>[&#123;<span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> | <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">CHECK</span> (expression)&#125;]<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DOMAIN</span> UnswCourseCode <span class="hljs-keyword">AS</span> <span class="hljs-type">TEXT</span><br><span class="hljs-keyword">CHECK</span> (<span class="hljs-keyword">value</span> ~ <span class="hljs-string">&#x27;[A-Z]&#123;4&#125;[0-9]&#123;4&#125;&#x27;</span>)<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Course(<br>id <span class="hljs-type">INTEGER</span>,<br>code UnswCourseCode,<br>...<br>)<br></code></pre></td></tr></table></figure></p><h3 id="create-type">CREATE TYPE</h3><p>用来创建复合类型tuple types <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> TypeName <span class="hljs-keyword">AS</span> <br>(AttrName <span class="hljs-number">1</span> DataType1, AttrName2 DataType2, ...)<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> ComplexNumber <span class="hljs-keyword">AS</span> (r <span class="hljs-type">FLOAT</span>, i <span class="hljs-type">FLOAT</span>);<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> CourseInfo <span class="hljs-keyword">AS</span> (<br>course UnswCourseCode,<br>syllabus <span class="hljs-type">TEXT</span>,<br>lecturer <span class="hljs-type">TEXT</span><br>);<br></code></pre></td></tr></table></figure></p><ul><li>可以用自定义的basic type</li><li>如果有约束，放在DOMAIN里 <strong><em>：还不知道CREATETYPE里能不能加约束</em></strong></li></ul><p>另一个例子（将复杂的JSON对象转为SQL行）： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> address <span class="hljs-keyword">as</span> (country <span class="hljs-type">TEXT</span>, city <span class="hljs-type">TEXT</span>);<br><br><span class="hljs-keyword">SELECT</span><br>  *<br><span class="hljs-keyword">FROM</span><br>  json_to_record(<br>    <span class="hljs-string">&#x27;&#123;&quot;name&quot;: &quot;Tom&quot;, &quot;age&quot;: 20, &quot;address&quot;: &#123;&quot;country&quot;: &quot;CN&quot;, &quot;city&quot;: &quot;BeiJing&quot;&#125;&#125;&#x27;</span><br>  ) <span class="hljs-keyword">AS</span> x(<span class="hljs-type">name</span> <span class="hljs-type">TEXT</span>, age <span class="hljs-type">INT</span>, address address);<br></code></pre></td></tr></table></figure> -先创建一个自定义的address类型，包括country和city两个text类型字段。</p><p>结果： <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section"> name | age |   address</span><br><span class="hljs-section">------+-----+--------------</span><br><span class="hljs-code"> Tom  |  20 | (CN,BeiJing)</span><br>(1 row)<br></code></pre></td></tr></table></figure></p><p>也可以用来创建枚举类型 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> <span class="hljs-type">name</span> <span class="hljs-keyword">AS ENUM</span>(<br>label_1<br>[, label_2, ...]<br>);<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> my_color <span class="hljs-keyword">AS ENUM</span> (<br>    <span class="hljs-string">&#x27;yellow&#x27;</span>,<br>    <span class="hljs-string">&#x27;red&#x27;</span>,<br>    <span class="hljs-string">&#x27;blue&#x27;</span>,<br>    <span class="hljs-string">&#x27;green&#x27;</span>,<br>    <span class="hljs-string">&#x27;white&#x27;</span>,<br>    <span class="hljs-string">&#x27;black&#x27;</span><br>);<br><br><span class="hljs-keyword">SELECT</span> enum_first(<span class="hljs-keyword">null</span>:: my_color);<br><span class="hljs-keyword">SELECT</span> enum_last(<span class="hljs-keyword">null</span>:: my_color);<br></code></pre></td></tr></table></figure></p><ul><li>用enum_first()和enum_last()函数返回第一个和最后一个枚举值。<ul><li>（函数说明：必须要传入一个数据，所以用null:: my_color；用'yellow'::my_color其实也行，结果一样）</li></ul></li></ul><p>CREATE TYPE和CREATE TABLE不一样 -不创建新的空白表，只是定义一种数据类型 - 没有键的约束 -没有明确特定的域约束</p><h2 id="exception">EXCEPTION</h2><p>用来设定例外条件 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">BEGIN</span><br>Statements ...<br><span class="hljs-keyword">EXCEPTION</span><br><span class="hljs-keyword">WHEN</span> Exception1 <span class="hljs-keyword">THEN</span><br>StatementsForHandler1<br><span class="hljs-keyword">WHEN</span> Exception2 <span class="hljs-keyword">THEN</span><br>StatementsForHandler2<br>...<br><span class="hljs-keyword">END</span>;<br></code></pre></td></tr></table></figure></p><ul><li>Exception的内容可以是（预设的？）一长串<ul><li>如：division_by_zero OR floating_point_exception OR ...</li></ul></li></ul><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-comment">-- table T contains one tuple (&#x27;Tom&#x27;, &#x27;Jones&#x27;)</span><br><span class="hljs-keyword">DECLARE</span><br>x <span class="hljs-type">INTEGER</span> := <span class="hljs-number">3</span>;<br><span class="hljs-keyword">BEGIN</span><br><span class="hljs-keyword">UPDATE</span> T <span class="hljs-keyword">SET</span> firstname = <span class="hljs-string">&#x27;Joe&#x27;</span> <span class="hljs-keyword">WHERE</span> lastname = <span class="hljs-string">&#x27;Jones&#x27;</span>;<br><span class="hljs-comment">-- table T now contains (&#x27;Joe&#x27;, &#x27;Jones&#x27;)</span><br>x := x + <span class="hljs-number">1</span>;<br>y := x / <span class="hljs-number">0</span>;<br><span class="hljs-keyword">EXCEPTION</span><br><span class="hljs-keyword">WHEN</span> <span class="hljs-built_in">division_by_zero</span> <span class="hljs-keyword">THEN</span><br><span class="hljs-comment">-- update on T is rolled back to (&#x27;Tom&#x27;, &#x27;Jones&#x27;)</span><br><span class="hljs-keyword">RAISE</span> <span class="hljs-keyword">NOTICE</span> <span class="hljs-string">&#x27;Caught division_by_zero&#x27;</span>;<br><span class="hljs-keyword">RETURN</span> x;<br><span class="hljs-comment">-- value returned is 4</span><br><span class="hljs-keyword">END</span>;<br></code></pre></td></tr></table></figure></p><h4 id="raise">RAISE</h4><p>用来生成log信息</p><p>例如 - <code>RAISE DEBUG 'Simple message';</code> -<code>RAISE NOTICE 'User = %', user_id;</code>（也可当作print用） -<code>RAISE EXCEPTION 'Fatal: value was %', value;</code></p><p>RAISE后面可以跟的东西的等级： - DEBUG - LOG - INFO - NOTICE - WARNING- EXCEPTION</p><h2 id="游标cursors">游标Cursors</h2><p>可以用游标保存、修改（整行）变量。游标也可以作为函数的返回值。一般用于大结果集，内存放不下，用游标一条一条处理。</p><p>使用顺序： - 声明游标 - 打开游标 - 使用游标 - 关闭游标</p><p>例子：一般使用以下get_film_titles(integer)函数接受代表电影发行年份的参数。在函数内部，我们查询所有发行年份等于传递给该函数的发行年份的电影。我们使用光标在各行之间循环，并连接标题和标题包含ful单词的电影发行年份。</p><figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> get_film_titles(p_year <span class="hljs-type">INTEGER</span>)<br><span class="hljs-keyword">RETURNS</span> <span class="hljs-type">text</span> <span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-comment">-- 声明游标</span></span><br><span class="language-pgsql"><span class="hljs-keyword">DECLARE</span> </span><br><span class="language-pgsql">titles <span class="hljs-type">TEXT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;&#x27;</span>;</span><br><span class="language-pgsql">rec_film <span class="hljs-type">RECORD</span>;</span><br><span class="language-pgsql">cur_films <span class="hljs-keyword">CURSOR</span>(p_year <span class="hljs-type">INTEGER</span>) <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> film <span class="hljs-keyword">WHERE</span> release_year = p_year;</span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql"><span class="hljs-comment">-- 打开游标</span></span><br><span class="language-pgsql"><span class="hljs-keyword">OPEN</span> cur_films(p_year);</span><br><span class="language-pgsql"><span class="hljs-keyword">LOOP</span></span><br><span class="language-pgsql">    <span class="hljs-comment">-- 获取记录放入film</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">FETCH</span> cur_films <span class="hljs-keyword">INTO</span> rec_film;</span><br><span class="language-pgsql">    <span class="hljs-comment">-- exit when no more row to fetch</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">EXIT</span> <span class="hljs-keyword">WHEN</span> <span class="hljs-keyword">NOT</span> <span class="hljs-built_in">FOUND</span>;</span><br><span class="language-pgsql">    <span class="hljs-comment">-- 构建输出</span></span><br><span class="language-pgsql">    <span class="hljs-keyword">IF</span> rec_film.title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%ful%&#x27;</span> </span><br><span class="language-pgsql">    <span class="hljs-keyword">THEN</span> titles := titles || <span class="hljs-string">&#x27;,&#x27;</span> || rec_film.title || <span class="hljs-string">&#x27;:&#x27;</span> || rec_film.release_year;</span><br><span class="language-pgsql">    <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;</span><br><span class="language-pgsql"><span class="hljs-comment">-- 关闭游标</span></span><br><span class="language-pgsql"><span class="hljs-keyword">CLOSE</span> cur_films;</span><br><span class="language-pgsql"><span class="hljs-keyword">RETURN</span> titles;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>; </span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br><br><span class="hljs-keyword">SELECT</span> get_film_titles(<span class="hljs-number">2006</span>);<br><br><span class="hljs-comment">--返回结果 ,Grosse Wonderful:2006,Day Unfaithful:2006,Reap Unfaithful:2006,Unfaithful Kill:2006,Wonderful Drop:2006</span><br></code></pre></td></tr></table></figure><p>例子：游标作为返回值返回给外层调用者，调用者可使用fetch语句获取游标内容。<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> tf4(<span class="hljs-type">refcursor</span>) <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">refcursor</span> <span class="hljs-keyword">AS</span> <span class="hljs-string">&#x27;</span><br><span class="hljs-string">BEGIN</span><br><span class="hljs-string">OPEN $1 FOR SELECT c4 FROM tf1;</span><br><span class="hljs-string">RETURN $1;</span><br><span class="hljs-string">END; </span><br><span class="hljs-string">&#x27;</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br><br><span class="hljs-keyword">BEGIN</span>; <br><span class="hljs-keyword">SELECT</span> tf4(<span class="hljs-string">&#x27;funccursor&#x27;</span>);<br><br><span class="hljs-keyword">FETCH</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">IN</span> funccursor;<br><span class="hljs-comment">--  c4 </span><br><span class="hljs-comment">-- ---------- </span><br><span class="hljs-comment">-- Dalian </span><br><span class="hljs-comment">-- Tokio </span><br><span class="hljs-comment">-- Xian </span><br><span class="hljs-comment">-- Changsha </span><br><span class="hljs-comment">-- New York </span><br><br><span class="hljs-keyword">COMMIT</span>;<br></code></pre></td></tr></table></figure></p><h3 id="声明游标">声明游标</h3><h4 id="record">RECORD</h4><p>用RECORD（或者Table%ROWTYPE）创建（FOR循环用）游标，最普通</p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> totalSalary() <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">REAL</span> <span class="hljs-keyword">AS</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">DECLARE</span></span><br><span class="language-pgsql">employee <span class="hljs-type">RECORD</span>;</span><br><span class="language-pgsql">totalSalary <span class="hljs-type">REAL</span>:=<span class="hljs-number">0</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">BEGIN</span></span><br><span class="language-pgsql"><span class="hljs-keyword">FOR</span> employee <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> Employees</span><br><span class="language-pgsql"><span class="hljs-keyword">LOOP</span></span><br><span class="language-pgsql">totalSalary:= totalSalary + employee.salary;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">RETURN</span> totalSalary;</span><br><span class="language-pgsql"><span class="hljs-keyword">END</span>;</span><br><span class="language-pgsql">$$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure></p><h4 id="cursor-for绑定sqlquery">CURSOR FOR（绑定SQL/query）</h4><p><code>&lt;cursor_name_a&gt; CURSOR [name datatype, name datatype, ...] FOR &lt;query_b&gt;;</code></p><ul><li>CURSOR和FOR之间可以声明游标使用的参数。</li></ul><h4 id="refcursor-未绑定query">REFCURSOR （未绑定query）</h4><p><code>&lt;cursor_name_c&gt; REFCURSOR;</code></p><ul><li>未绑定query的游标可以在不同query之间用</li></ul><h3 id="打开游标">打开游标</h3><h4 id="open">OPEN</h4><p>打开绑定的游标 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">OPEN</span> cur_films(year:=<span class="hljs-number">2005</span>);<br></code></pre></td></tr></table></figure></p><p>打开未绑定的游标 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">OPEN</span> my_cursor <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> city <span class="hljs-keyword">WHERE</span> counter = p_country;<br></code></pre></td></tr></table></figure></p><p>PostgreSQL中打开游标并绑定到动态查询（有点像python的exec？）<figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">OPEN</span> unbound_cursor_vaariable [ [<span class="hljs-keyword">NO</span>] SCROLL ]<br><span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EXECUTE</span> query_string [<span class="hljs-keyword">USING</span> expression [,...]];<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgresql">query := <span class="hljs-string">&#x27;SELECT * FROM city ORDER BY $1&#x27;</span><br><span class="hljs-keyword">OPEN</span> cur_city <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EXECUTE</span> query <span class="hljs-keyword">USING</span> sort_field;<br></code></pre></td></tr></table></figure></p><ul><li>在这个例子中，我们构建一个动态查询，根据一个sort_field（好像就是$1）参数对行进行排序（orderby），并打开执行该动态查询的游标。</li></ul><h3 id="使用游标">使用游标</h3><h4 id="fetch">FETCH</h4><p>获取下一行 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">FETCH</span> [ direction &#123; <span class="hljs-keyword">FROM</span> | <span class="hljs-keyword">IN</span> &#125; ] cursor_variable <span class="hljs-keyword">INTO</span> target_variable;<br></code></pre></td></tr></table></figure></p><ul><li>该FETCH语句从游标中获取下一行，并为其分配一个target_variable，它可以是记录，行变量或逗号分隔的变量列表。如果找不到更多行，则将target_variable其设置为NULL（s）</li><li>如果不显示指定方向，方向缺省为NEXT。可以为：<ul><li>NEXT</li><li>LAST</li><li>PRIOR</li><li>FIRST</li><li>ABSOLUTE count</li><li>RELATIVE count</li><li>FORWARD（只适用于SCROLL option声明的游标）</li><li>BACKWARD（只适用于SCROLL option声明的游标）</li></ul></li></ul><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">FETCH</span> cur_films <span class="hljs-keyword">INTO</span> row_film;<br><span class="hljs-keyword">FETCH LAST</span> <span class="hljs-keyword">FROM</span> row_film <span class="hljs-keyword">INTO</span> title, release_year;<br></code></pre></td></tr></table></figure></p><h4 id="move">MOVE</h4><p>移动游标 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">MOVE</span> [ direction &#123; <span class="hljs-keyword">FROM</span> | <span class="hljs-keyword">IN</span> &#125; ] cursor_variable;<br></code></pre></td></tr></table></figure> -如果只想移动游标而不检索任何行，就用MOVE，方向和FETCH一样。</p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">MOVE</span> cur_films2;<br><span class="hljs-keyword">MOVE LAST</span> <span class="hljs-keyword">FROM</span> cur_films;<br><span class="hljs-keyword">MOVE RELATIVE</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">FROM</span> cur_films;<br><span class="hljs-keyword">MOVE FORWARD</span> <span class="hljs-number">3</span> <span class="hljs-keyword">FROM</span> cur_films;<br></code></pre></td></tr></table></figure></p><h4 id="deleteupdate">DELETE/UPDATE</h4><p>删除或更新 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">table_name</span><br><span class="hljs-keyword">SET</span> column = <span class="hljs-keyword">value</span>,...<br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">CURRENT</span> <span class="hljs-keyword">OF</span> cursor_variable;<br><br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-built_in">table_name</span><br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">CURRENT</span> <span class="hljs-keyword">OF</span> cursor_variable;<br></code></pre></td></tr></table></figure></p><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">UPDATE</span> film <span class="hljs-keyword">SET</span> release_year=p_year<br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">CURRENT</span> <span class="hljs-keyword">OF</span> cur_films;<br></code></pre></td></tr></table></figure></p><h3 id="关闭游标">关闭游标</h3><p>关闭游标，释放资源或释放游标变量 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CLOSE</span> cursor_variable<br></code></pre></td></tr></table></figure></p><h2 id="触发器triggers">触发器Triggers</h2><h3 id="trigger">TRIGGER</h3><p>触发器，在指定的数据库事件发生时自动执行/调用 <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> TriggerName<br>[<span class="hljs-keyword">AFTER</span> | <span class="hljs-keyword">BEFORE</span> | <span class="hljs-keyword">INSTEAD</span> <span class="hljs-keyword">OF</span>] Event1 [<span class="hljs-keyword">OR</span> Event2 ...]<br><span class="hljs-keyword">ON</span> TableName<br><span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">ROW</span>/<span class="hljs-keyword">STATEMENT</span><br><span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">PROCEDURE</span> FunctionName(args...);<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> function_name() <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">TRIGGER</span><br>...<br></code></pre></td></tr></table></figure></p><h3 id="trigger作为函数返回值">Trigger作为函数返回值</h3><table><thead><tr class="header"><th>Trigger</th><th>NEW</th><th>OLD</th></tr></thead><tbody><tr class="odd"><td>Insert</td><td>Yes</td><td>No</td></tr><tr class="even"><td>Update</td><td>Yes</td><td>Yes</td></tr><tr class="odd"><td>Delete</td><td>No</td><td>Yes</td></tr></tbody></table><p>例子： <figure class="highlight postgresql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs postgresql"><span class="hljs-keyword">Create</span> <span class="hljs-keyword">Function</span> checkState() <span class="hljs-keyword">returns</span> <span class="hljs-type">trigger</span> <span class="hljs-keyword">as</span> $$<span class="language-pgsql"></span><br><span class="language-pgsql"><span class="hljs-keyword">begin</span></span><br><span class="language-pgsql">  <span class="hljs-comment">-- normalise the user-supplied value</span></span><br><span class="language-pgsql">  <span class="hljs-built_in">new</span>.state = upper(trim(<span class="hljs-built_in">new</span>.state));</span><br><span class="language-pgsql">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">new</span>.state !~ <span class="hljs-string">&#x27;^[A-Z][A-Z]$&#x27;</span>) <span class="hljs-keyword">then</span></span><br><span class="language-pgsql">  <span class="hljs-keyword">raise</span> <span class="hljs-keyword">exception</span> <span class="hljs-string">&#x27;Code Must Be Two Alpha Chars&#x27;</span>;</span><br><span class="language-pgsql">  <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>;</span><br><span class="language-pgsql">  <span class="hljs-comment">-- implement referential integrity check</span></span><br><span class="language-pgsql">  <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> States <span class="hljs-keyword">where</span> code=<span class="hljs-built_in">new</span>.state;</span><br><span class="language-pgsql">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">not</span> <span class="hljs-built_in">found</span>) <span class="hljs-keyword">then</span></span><br><span class="language-pgsql">  <span class="hljs-keyword">raise</span> <span class="hljs-keyword">exception</span> <span class="hljs-string">&#x27;Invalid State Code %&#x27;</span>,<span class="hljs-built_in">new</span>.state;</span><br><span class="language-pgsql">  <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>;</span><br><span class="language-pgsql">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">new</span>;</span><br><span class="language-pgsql"><span class="hljs-keyword">end</span>;  $$</span> <span class="hljs-keyword">language</span> plpgsql;<br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>2023F</category>
      
    </categories>
    
    
    <tags>
      
      <tag>专题整理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>绿格碎片</title>
    <link href="/2023/07/03/%E7%BB%BF%E6%A0%BC%E7%A2%8E%E7%89%87/"/>
    <url>/2023/07/03/%E7%BB%BF%E6%A0%BC%E7%A2%8E%E7%89%87/</url>
    
    <content type="html"><![CDATA[<h2 id="食来自对食相当不敏感的人的总结">食（来自对食相当不敏感的人的总结</h2><h3 id="基地内感谢后勤">基地内（感谢后勤</h3><p>卤肉饭 番茄土豆牛肉 黄焖羊肉 一次比一次辣的凉拌黄瓜冬瓜虾皮（有点黑暗料理 土豆片炒生姜片（还好不是丝）非传统粽子（油饼食不食 大肉面片作为主食的凉拌土豆丝（土豆主食说：米饭是淀粉，土豆也是淀粉，所以土豆可以代替米饭人生第一次吃冰粉（好吃） 冰西瓜、桃子yyds 西凉姜饮（怪好喝的——字面意思</p><h3 id="基地外感谢曾叔">基地外（感谢曾叔</h3><p>传统牛肉面 番茄牛肉片拌面（最好吃的一顿</p><h2 id="事可能指的是之前从未做过的事">事（可能指的是之前从未做过的事？</h2><h3 id="做了">做了</h3><p>从绿皮火车第一节车厢走到最后一节进沙漠的时候看到战斗机训练（这是可以说的吗（后面就没看到过了在沙丘顶上爽吹最狂烈的风（喜欢风看银河、星星和流星（寻真理于星辰，孑然亦复如是掌握三种种梭梭苗的方法（曾叔微操法、石叔大巧不工法、金华狂暴挖土法）第一天手掌就成了战损版，直到最后一天 浇水（我们一般称之为“驯服野生水管”浅捡牛粪，狂暴扫地 咀嚼空气中的沙子，品尝饮水中的无机盐作为第一组洗碗，创立了2h洗碗记录（最短记录于次日被打破（45min），最长记录于x天后被打破（2.5h））学习投掷飞盘，打乒乓球“杀意感知”=爽玩狼人杀（猎人第一晚被刀盲狙小狼；女巫暴跳预言家胡言乱语）与三国杀（当主公手刃忠臣，当忠臣手刃忠臣；冠军皮肤忠马岱：一穿三反）沙地足球赛（10v10公平竞技 乘坐不同载具（军用卡车、皮卡车、曾叔的丰田霸道装人影办的保险柜，看到气象导弹 赶牛，沙漠徒步1km 绕着基地飙车，修围栏抬发电机，学习各种发电机的启动方法 研究基地的电带动男生洗澡时引吭高歌，学会了一些从没听过的歌（点名表扬《天外来物》、《嘉宾》）12男挤在蒙古包睡觉解锁绿格隐藏成就：睡沙丘上（我解锁两次.jpg（太喜欢了，以后有条件必如此（定制化沙床，睁眼满目星空发现仙人掌、壁虎、蜻蜓等神奇生物各方面免疫蜜蜂（视觉、听觉、味觉）（黄色防晒衣=招蜂引虫 见证沙漠下暴雨看到美丽朝霞与晚霞，追逐朝阳与夕阳 调频FM 接受化妆与护理方面的建议变声期后第一次当着许多人面正式唱歌（内心感触<strong>巨深</strong>结识新朋友 克己</p><h3 id="没做">没做（</h3><p>滑沙（呜呜呜 生火与做饭（基本没进厨房（逃吃羊肉火锅（开嬴趴不叫我.jpg 和每一位成员合影（xm迪彬拍摄大量关于自己的照片（纪蓝jj是天使 乘坐摩托车与ATV给曾叔留下一段话（好忙好忙TAT 抒情（是不想吗 喝酒（坚决不</p><h2 id="人">人</h2><h3 id="非团员们">非团员们</h3><h4 id="软卧的老爷爷">软卧的老爷爷</h4><h4 id="硬卧的造飞机的夫妇">硬卧的造飞机的夫妇</h4><h4 id="民勤汽修厂的叔叔">民勤汽修厂的叔叔</h4><h4 id="曾叔">曾叔</h4><h4 id="杨叔">杨叔</h4><h4 id="大石叔">大石叔</h4><h4 id="小石叔">小石叔</h4><h4 id="记者">记者</h4><h3 id="团员们">团员们</h3><h4 id="cjy">cjy</h4><h4 id="cyq">cyq</h4><h4 id="cqr">cqr</h4><h4 id="cym">cym</h4><h4 id="dxw">dxw</h4><h4 id="djq">djq</h4><h4 id="fyt">fyt</h4><h4 id="hyx">hyx</h4><h4 id="hyx-1">hyx</h4><h4 id="hdb">hdb</h4><h4 id="hyh">hyh</h4><h4 id="jhz">jhz</h4><h4 id="lyx">lyx</h4><h4 id="lh">lh</h4><h4 id="lzh">lzh</h4><h4 id="lqy">lqy</h4><h4 id="ljh">ljh</h4><h4 id="ld">ld</h4><h4 id="lll">lll</h4><h4 id="lsm">lsm</h4><h4 id="lyn">lyn</h4><h4 id="lzy">lzy</h4><h4 id="phh">phh</h4><h4 id="prt">prt</h4><h4 id="smj">smj</h4><h4 id="sr">sr</h4><h4 id="ssl">ssl</h4><h4 id="sjm">sjm</h4><h4 id="wtx">wtx</h4><h4 id="wyx">wyx</h4><h4 id="wle">wle</h4><h4 id="wrx">wrx</h4><h4 id="wxz">wxz</h4><h4 id="wjl">wjl</h4><h4 id="wn">wn</h4><h4 id="xzh">xzh</h4><h4 id="xza">xza</h4><h4 id="yxj">yxj</h4><h4 id="yss">yss</h4><h4 id="yjj">yjj</h4><h4 id="yj">yj</h4><h4 id="zhj">zhj</h4><h4 id="zkj">zkj</h4><h4 id="zl">zl</h4><h4 id="zlh">zlh</h4><h4 id="zyy">zyy</h4><h4 id="zyh">zyh</h4><h4 id="zzc">zzc</h4>]]></content>
    
    
    <categories>
      
      <category>2023暑假绿格</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>绿格Day0呓语</title>
    <link href="/2023/06/20/%E7%BB%BF%E6%A0%BCDay0%E5%91%93%E8%AF%AD/"/>
    <url>/2023/06/20/%E7%BB%BF%E6%A0%BCDay0%E5%91%93%E8%AF%AD/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d075e7787d789739ed65b78085fa6f5a78975585f26265f11261b930e4217609">0ba350ecacedc9059da19a514f23f580769b0b6488f550a85b3f918107968e85adc9ba8607d4c46da5757b0224f7c79d1f95f4c41ce4d5855cfc36c4e009f382ff1b96c61d3b2319111a1d1f3f53dc9d9b2229c37bcbcbb8abaf8be6416089b06c06f45240f379aea38cc5a9837dbb35b55031bb3e0fb26771e2cd061e24c2cfe31b02b8083fa0a1739c5b1f4dfc5055086aabe2a0753e738cd6a9ce4a795758d82565b60a0bbdc7ab298d8bfea0a3dd5c2ef34f21cafe364efc8bc289101bb3d46eac1fb0a1b9fa99ea5139245cfda9e2d1c281a53e3e2639cb3e0ce7b7c4ceebdcfa1c5dfd5e9f9349ba9c14b22a0c82ff1635477a0c730cff00e789d4b8d104552e1f0ff070eb25c129517c62ba6ba502b9f2fa417eb361a7f3b21a3b5c91f06718b0c8e6d8bf3e64031a037ce2a9a9e34d46d9df82829ecd58a400dccc3985faef4646880016bbf20113b26041f5fb0483affa0ca66d8fac71937d50d9f0adf5b82b7218303c428d67ff46efbf0df959bc1df735afe8be95aa58fe048ba3c8f8592790c4dd9095e7ee4c67e759e7afe76b8f3f292aa597e572f3db70ba2649a1b041bd33eed3b2f1cccba316d9d136b982c033bdee598045a146a9384eaaf92a47cd712e55bf569c97cba423c8d2fb2390bcbb7ef8c9610192a4dcc22c9e9334850128d5dde297d58a6b710ff63b9b80d2e94eb5a53e5c0a5eaed386762069c175b6ef2a47dd9e8af87c92cfba5c8c1492b0a4f35167721359cc2bad7b3043e40f70959fdb70e2b2540396df6ee7c61f5132d2079a1113130f8176125dd928ca27a09cc057cf0602f0fa77223e590401796fa91a70cff41d2f5e270cc7a8aef91327ffd6f4d8cc4bd8da31d24e15f41d788add80d477e98618994eb1c261459fb9033fca443e7a780d1cdb25588694166088878b76e99c2f4463cb4d507c5cb26d97024a308726e892bf0ae737c2be0cac6140e3b596877574254c52ec504821c82585e6a2fbf65bbdb2b604e9195e9e28182463d7e95f9bee7607fba6c62d5028077abf8f83d7513921cf63c9de69c02fe2a99354213e97e463e37fb1a292bd03219b76a54c8834bbba07faa06ccb7dfbf628d06a0d9faae15d421e0d53506e99771ac6fea7f31bf6feb9f5ae3650c7a708bbc61b10cb68c2dc2ce1123f6fa9871d07724a9f73f8e3bfdbc501d505cb053fca1521ef17f7e40f7c324de2936b82a934defe3c5a58196fd5519cbdd7db6b5c69ae2faa549cbdaf8380b5190984e045c47782f566a6b193b39c704f2fde049156e47b99a02696eef723721221e730701e8f3b68bc8c5ea84341bb58a13be53c60547fdb1ce62da5a4244a774058f938aeadb58b36788b01423d4b2ded5f258c5b448131c053f8b6e2bf04e96bac20758ffb48344584e91530c7f94dc5c4ea9cf35a81426faf9e0d1b712cc90870065ac6c2773674dc884658a771e323feec34787eced2cace0c5bc96b19d90df98220aba8939af5f95c1e2bfc307ffad498a396362750a069daeee84e9dc2fe1f19e714d31a2321dfe9d314ac09f24327664e9f29a8ebd28413f6ea16ec60129379511598cc5250f3c422177e268f21d97992bfaf1f842ef9f8a0052ab7e52bc485ac737391311984fbf9ff4b9fe6f4583bc8c79cc1527aa6f9883f4c7714888988cb81b8e827350b10b3d3437bfd62a8b272f087d9620df01bfcb697443e58eb0df831e4b7fcb15c10675f38104b8381934d5f6d0747291dc65e6522670e3d10e0348f555487f259acd331cbb97ca651843d4da6519bb30c00bf7a826bbf36d5c25f23b1929a9018cd3100e6af0e7711a2df61eb51670179eceb4222c5ce0f2018dad4db8cb6a2e0547251dc02f4d870d5b76f3554cf50f6ede53fab07b7f29c57ea55f8943918b0086b74ebc102a5b2a866635d45636f3cd0f6dc700bfc8b9b618a2d6f3ad73d6e10c2d265b1c856bbf206fcaa94944a6ffba77934f50458a3faf0ff2a5b73a06e53db38e8022d77ef6d8bc449858008bb4c4e51887496bf1c327217f5f48a13340048c6c574c3f65f3cc779723969f2dac571ac8575622e9b8a5057b00b68a632552b4f6eeef53920b0855c383ee9523f0fc4cf16e60ac4eb0db4c2b205976ffd5aea1017df69d413423f0d684f0b3c25b3d40fc59efc331304995acf12c448729cc0c7c706f8b280738ce1c596dc6abf95dc6bb89d15a31bc713e943f70e7ae167e347329883a6ac05bf862c8b0bf0c740c99a551ef3360c8b05a570e7c5fd7e4fc49d96077f123111d06f2aa49f361150e42b98a0cc060b0379d99171fbc2666dc8a8e5e6ebd1be05c6274fb79277137d756a5b8b92de9a096f564b67922cd7089fa92d59d126ae3aea0268c3c7a74e0c221bcbb2f240a2730c0b39e69355428b800fcea9007a3154507e1c7fa963c75c6fccc2913dc4bb50ddef8ef03d53b7508cee1832e8c50a18949925c5cb869ad519f38fdf3cb39619f8fc3f83fbc3d1fc2a9092fd3f53091c09de96c0100c02f2a34518c817b2a781aad43a0ebc294c13d8e23aaf8f04f1ef3dd92dfbcaef9b0562fe56a61a4fcb28537d49197f4c68eac32cdfbd24dfb337e28287690ac2e3d834a64773b08f292d0424909bccad4070e7896389eb8c5bb76d082a4399b9c7e1436956a22c03de8f5a1652c845006e25e82a8bbd1da297e4d75a2686c77bbb768ff3739021a365bf17131553bc0fe5f03639d95c457e3c9af622b47ce497383ff59f773ae4d22a44115ffe1a3437138335d225d2e0237e9af6b53e9ba9e88b1011490df3c3993f6e6b79214f78522123de8d6b96b14e83673e3e737dbe49b9fb0224ecf22f2fdb41a025fa9a2f92aa786dbf3e99f4f12b28247feb18df726555fc38682966c9336c10038284c32b3a4401e72253ad506b0522720b7891d2c5136d245c4e90892cdc334fc8985d3a50e6a038983f3728691af85197b17cea1f44ee030d5bcecb4a74bd8c9d6299a81cfcd097c9f4d0aaee00fa0e77cd3c9ec34fd0d897f7a3e8755fded48e0f24ecc0b1a8f8cc401c7ca8ee9b3f84137b356255d641b243a87f3e7653f6c0e2dc652ebe04737406cc70035b96b506ff3f3b5ede31e8017402b0c4a76bc2b244f6573edee1985e7bd1fb2494463139fb650696fb42b21a27c588ebfe250f1be3a08c01f8bc8a91881990dbaa73a14a9e9919d0eafa64aef55bf29e293995b495b52768b12f7d8b61bd8a595502d8782c32d32a96fd70e8a80e89906793a2e69a40b07cec70fa184a97e285ba38ef6fd1656dd14f865048da0afc45c5a539d7750deecaeef1c8300f738fdd4a81493f505cc05f1d4fa490549368b0454d4a94fbd3a26bf757b956ba21035a86e8cbd0946ad3851594ea480e796989420d2c0503b7dd87033d1c408a23508c7850338bbd5952cc1f1e34df40c0b8bfc7ce1810e0aa1f86f055e1ba62ed47418fc55cbbd8fe253f3637363701bb8828c17fe3c432327d601b0119eb914174b7a5ea4cce7dfd55340bc74ec68689e6e81ea2b9361aaafb441b5339fcf39880c3d830290e6cb5abeb1727f11330fa53ad6cd33971efbf18c0a920c975038cabd535d2b10fc0cf1493e9e947781ca1f6242693209d36469d09c4aed5c38fe7c7d044b7669e048809f943f7c05c39720d3fc7942dab2336e2f0b4fc9f0ed62e4e82aa00be75f8fe1b8888d9319f78f06954a1cfd0acd3c96872b488630590f4b6792e419baf5b1a133f6eab451f50d3f68d4d475d75a62568b1d535fae6708aa6ef5b0e8b45333d57e03ceed73c68e54eebe8169f4017546cc9a7faa58337dfb858f4ff00838d9fd9c04e9b914f5cfcfedd5168253479a02312dc1f0531a5accde469f8ef824e1dc952a2dc59752fb0c9f9afa6f439bf1b9c3b2db8e43939d69dc1a67b3db3998396d29eeeb5d670eb0ba5b5639e8c9b094f6d3d30c9d19a4b09637bd5e55f4d13bbe65ce181aa5d5001cc0ee5a1c3af25e1d07a719177bdacc43382c6c0e90edbfd32de94daf2ed629c511f333c144bac307a00291c4c55ac62c331e31394035b9128444e6bdee6ac2f11863e2872d4302ecc5a30857621dcd862af409134530c9756cec7a6b2980027d36141e2aa75f738c819ea7c93aafe9657960a40f3444a64f49901277da74df0b6c16b0d2aecf2107e367b5c26d7608d72cab2bf078ca7e4e2cb83e84d194236988a43fe000439fee9f7fb97700935c757b3b4d587966f2ce970ca3b401b325103200dcf322ef84d122f5a84b89cffe3b8f17b81d41f0ee2ed88499283536beb1c2e589d0189e1715cb010eb0fbface6e846b23654b17aac60bddd3b0edbef195193d77cbcb6ec86df86ef4af0b5600fac961421cd65565404a12a8f26ca5d93aae3f4cca3335782cacd809a86dc85803d6d11945caa93d49165ba691496825d89db43609447054598015190c827f5a381d5a2978b50535fe33fadcf25a6c8fdd7682731140bd13c06333d86c2f176503188f26e3a822f613c81ff09ae276a74fdde133fdebd5513f04d71df7d968aac1206fe569f7d9aa23056b7cea45f8cff0c70b273c75ce50571f383015911391ad4aaab9eef4809818ea03da804ad2b7b228447593a1277fe9b3c49ef69e9b3339a9a45dae6f2dbf158bf4e92d97b7c9fe32eddbed6a17f4e5cd957839ce1e96ed22823837d92bb600373670e0224a31c1f993a2e18780c31decf907ca77cd591ad06adf2c8226ae92be90d84cb90f5ae7e2eb04631ca30de606f3035fefca6b6e384fe31d0703ad2c711fae104322304618f90ba4d3ba77cd7788e7173306228ed0f738edbb5f37e8da509f6c5fe37d4ed638586ec2e7edb445f6bf54c83e3d650d658a370fb1d605e2f3db7cc854eae303daf03d83eb56016f4712de0cf397148786e01804a95c9967e51b1c33fac4c1faf080694e4589ba020340d3125d496c99e924f3cad24789d288ca20b5ca6258619673273218c66cfa07d781bf15d85b609026078aaa45bac8aedb3dceb67e333f9b186caf3dd1d5dff207e9e6a4fc066a0c67ab98bc0d0b218160f13866c6c483e0e824ac2a9bb3ff8fb7419b2ccda2edeef72c10c579e2dfa684d0dde62e6c77db0349f014359bb1468f08ec611c78a31c46e7d7ffcd46f8a0a03254a87cedf6cf44d3d6b60068b4bbd2eb53b0a145dce3ead211456b759ce781dead2c2d4f954e5d542b44ac4d5463de1497390168e732070a52f2a5a2534585d1953132448a1b3608c14251fdb22b54832fd458c6495c9ff6950ef1d0da0734873a23cac912b3a060ccf3cefe7d62343942888d62bba566ef0e8f76c123c4e109c7a9dce7b2007fc8604cda62a8f230b352faa3d18a42b59ad2b61e3e39ac4e0b82149147e277454e523d86d64b6477b15c295a1795c4253dbb54acb9dcd024d072a93c33b31997b9877e364ae01f69fe59267057e286d79d3822269257dc1f8aa88cf0210857ea919fd746546cb97c17d4a89bfa4d32ad5779755941405f8769ef380ce3f4cbbb4c0098faa506f112e1c2530aabaffffc15068b78d2a3ea818e7c3b9c5f1f61236eec5087432915fd9764042c3b37dd14ab20b9afbd1970a5fc10f6d9734b5aa1fce2336f9a4f01cb1195bc97a2910495d8d5573d7cb0511c0d33ebcf2ef5490cd63555a2f3f4062295181f1e48bba2378caf31bc92845be62e3bd9f72ee61600feeeafdb72f22dc764f6b3e9ac45d503bcd71299d9cd3f89267ce0ed2c3613e8e812a46aa8ccaaadeeffb3afd9515f4b0ed27a9912c04bc2a4d66dd698374dac3125a2f500002702894afd744add209a25e80c89036f4b8247ffb75369f98a99407808d19984af4cd9fba1c1da3c6b73a3f4138f563801b3436ea6a41eb5447b273cbdf05171e9fad5f57faecbd13d9929c5d426c4f605db4ab7ed07ec80aa7c06edac2b8492831f586cc94a91024eb2b081ee982bf8d49c0ac792ebe1114cab49fcb0c2b57fdac895f8a26f2940fa6cc3cc95e58b2529837efb46ccf985875c8b0c3aa5aa51742507115be4121f34ab4c3d878d1a1e7d6ba68b41f9a54d8fc11e322888b5bdfcf38271f71387262f542c8d045204e1ea372051185c8cc031b00ca605398b5c704987b455ebeddcd20f96c27a4006938f0fd0e2c41a5de1a9c49100c16f6b4f9136edd0033e77cba596a61c225dfa9023455dc9cbccf8cae13fed6adf555dc3b01331ef1c333af2eaf607b1702c6af8db72c32b37c9640c7371d5f8d04b6a14062823d01247316db3f2ea6782cb540a4c221d6a5cd0bf26d8f1395e0f88ae7327144bca96b4179b1a7e6d484c08c91dccac8a3bb2546feda92155fb328023945b87890b10ce36c03cd941e78d9a3f6e87cafd9e4e7e5c8d8632284ac16eb2a0937d66d103ba7c9a0c843ff87a45fe2d6673bc4f3798abc6ffc30ff72197605a36b0c2f716cf45b408ad2df4d0583976da81207e996af25ecfb95a7a31078922859321dffe8865e617d4a3998aee7f19ea20bb6c070b533e134c6dea0e7529058b7c7d132bebc2eb80c4c33a6154cdc6531dac00a4f506d40cc10b7981297ed071390cfb9174a75b7e5e096d2e8af07cad53523c86a27abe688d91de0683999c56518cdc59a5f8df2cc50ec650e6eab2812f25e988cc00b50985a669eacadaa1c10380eb8e3476d62f5576adefab901691fa4bd6fce244dc814b430fe73b1cad901c279810932de29f9d7320616bba3e3c74c51b71f3faf0c80f0154ed099574dc0a8a69d65fd1b3d71bdc765f5738807c0d35a4719a76b6b9db77b0f84e1e53ce3b496fd0587127128d71f621d68ef23e0fc85d221ad22617d71cb25e3d9c28f40c143062fd3e114c4811c2cbcd946f7048b535ce60f269de633d38f4250c9aa19f27ea728a01944a36b58b649659e9215f29e0fe23b54d1ae5124c81f582938d8d0037a8a7ee32dcd5efabfd9d4b60002951b2378e9c43c6bbd903f4bf8bc8b0ce90110d5f11eca0d33d8836b601f24ea8b89a9ecd008b1bf1365496b2bafff8807a802c23235114e32f790ba9a3b76b25d5050d958134df6680525a735038cdde9104a05b4de0a9de548331ed059f8d8b26ed0a1ab75d8ddb51b41b6f7e4eaaa17f5bd49401e137a6b5eb8253d158b49a9a9afd523acbceff7b05da84463cf66ed788b27a95dca342f1a9ef7ad6ccf1198acb5e7e0d89060d8c2a6b2490ed1a5f5a75c5a50af7b0f182d5aecefd287ab6ef4f91666f7724d05fe03d7f708a33aebe2f162bc1383857560e8ff9f918efdeaf97cd084cb3794a1d75e392f05c3d9955e2dda10d2ec62f6bb0d66a201c6153eff26a549f66f316b378f567c44b76b073808cb41de95ea79dc99b2e3f1a0f17278d63c9397ddaafa6e941d02b658781940d1bd9922345b1e187c6002fa75ba2d36dd5ad3c4c7a8d1aec962b8dd828a804fa159277a2f82e91993598951caf139cd2a681544d220274d5d6652bdfbe9c42d6b70a99b391d3613d999cc77ec39b547d414f16554b73deaf2ea97e3ad8625e8a7607630de9555b82065e2ef05ffccd6d5bc3357eda6b20b7b301ff45cdf7a8b037ee44041c0b88741d3db236fa465729081e0c2649af6e99da85a1a90027c47e3d7c9bb042fc74d7d1bd29e033fc8a1a4ad8beff49eee5d84fffa32d9d4b2a68f4e0e9c8e52dfb015eecb398ed3b03881cce5aef541ae5d97bbc411fb4ed366cb51f08de1dfef487bb08ff52232eec823ccdaa38ecce2e4603d52fbdb095b4db8ef0b952b4d60c0d38f75e9650cc8fec7ec7c2a7c5669caf96d21f30a4b4929bb70f9cbf406f4da5e2a34e54ba5faa9bf87898e5962f37298dc7a69c812b7b1a8ed9115a684727acfb318d868deea50548662f0c093fdf58f48af844a822ed9bc0c56c27ccb7985e0480082119e8bf1b54c99e8280a0693037f1680cfcb29a51ad39ecf331acdcbdce13f52e934b2831c7aa72876786898dce368025cce16928968b4a2e2730f8c867a872ea24e79b2b8283b06fcb7797acc56ca802b66a7c10557f00a3665241f024c466a7711568a273dce9ae047512451a3c97d2adee10af68f6929010924c0ee54bf35752a3a3fb1d88a1430ad57f1b78880603e99ebbdb98c2d441c988b37f9ebe6aaaea8b788e08c3fbfb619e1a8c0ee292a9dfd72072efacef6d91e4542024f07c6c7e6c756c4348464837972fd835cba150f0f60ccd06ecc1e1fe23d2c658797372aec46de30a2a4e2f3b221a235c5b6dd4701f6a0bd1d21e10cb7574db620ddc0e4c83b173098bd164232f96eaba66138024db8b787252d6f5e16ff1d5ae440e8a5ba0b1f7c421c5f9fd2134e8488e63a9f62b40c1097538bb4d11b85949b756ed6ee80180d1c1cc091224226c47e0745a063f0fc86b10d9d0b44fb4c129a8c30c910cbc016f17ce2ca3715dc7cfb5f8f48caa8e5bf50678ac0519e4d1cba9d20f99be0baeaffd7de493e7023b7658a994af4cc6c19986d4eb1580501e6e80637144cef8288c15ed899de938aaaa9ca4c3790cd09596508265857aab22e8a79e2573d999d9ad14edb14a9d63b89db0741872399cb2e00e1c6854ba2f8070d592b63a40c4e05e37a0b188ea2b623fa8a4790e47fdc00c6844546b83f237f84ed7d30e25ea41115c44f334e226f1a72839925e94bb211eec67f5543bffc3b09224bf15cd2a411d9d1402e1588abc19ba887e71fc34ab800a3b7c21e81f4c5f54bebb70570467a2d6fcae4472fd79125b9e6b08564c6cc3ae82a23e1ef8258990610fdfe88e0250bed9379a3e6c32b2314f086656bccc42ad368e6d37cc73216b9924b027f3c953085a4b59c2641741d854c8b32ed0007a978b29cd5fad0ab75b8b9c905d31140d61ea6639e90d6a33335cf831817b8623fabc983cc9c2ce228c6eb07da66a2d41c6f3bc369c5e356e6fd417d2fc4e353514b4d7ab4d685631e9f1ff5068a9a6c818c98ffe4f92ddf283bb600e3f7339d9736ba6444c9ff768a65bb6611fa8b33078ba753371a74dbc456f3b0a1d190ffd5f1f6303e85e0114320955396a6172ccae67cfc1a7e14a77ead80793e0880afba85d4b5974f03f63d65232ac87c9d2dd1dce0c96f51e0212cf144a1866f993b831c2eeefd9004af2872e3613b98ed40b025248b18c27ae13a19abfd121cc91f52ce97da11c5fb62cf4c1920d19cd49f82a2986c464f0ab6b945314823a0fdb6918189a4b8acfd473731035cb1469563e7b285cdfd84d6dea530c2e27277b44c47400d6837c05afae4cf6f65aef411ad3c17ec8ee23a1e02b463d54a5005c866349f8b472652bc6d8c264b9bf9fce475a55acc267635bb4bb26be9d8e8d4d6a1b9f508ad9e64cec6a1275641331652ed1afb5fd4dc8c4cb07b24eb50a7d47f50993c4a564f8ef947f3907ed3bfe3501917222094072b3717521cee3b8fbcd10c1576a7c52ed98b63ab4df33f8527ca3c67770b50bc462df83e72c7988a626f1b4d920641c34d1cb32ed31edf9367d119939d3f167ba5fa493935dc7f75bd5de428e749130b575f5e08bf855d969d85ea0d48cb3c577190504eafc050b46bd3de59a9bbdd0aad9bda6b7c3a91765015c359c892fcb3dcc9ce7bd12209ae5d67820ba17d2115baf256fa37128e176b66806969cb3bcbad14123400c93699e31020bbd220873a2c5ce5c69b52ee3321e99c2600b97a5a72c632c62729c45c46f87250b7c8b5e2ea0dd9b72aad2e36bf6f43532d935103b8d44b327999ee160e55b4137820bdc52b71c22a5d2cd8c21461f7b317f40b2598942e32efa623d744d2925ad3a73c0c9e7df1e99352d914d0f1d8a806966f421e7ea523eacfaf2808125d8c1e6e9fc65b2bace86254a13ec2f885b16524ee060297d0fb31d5d465855376ad9540a8c70afb33a8c17704ce1c63867380e65af503df57a11f1df250747f1d56156d462e353c05fe56d558e59803bcaf3c5ad9a5060741058f00b300b79656bd8e46bed49ba525050ed60cfa3bc0f6a6e2e5a9e302106dd5c926ae2d2d41b16d61a98777daafe80c4b18ccae7eec959edde6a2fe5926b10ea0da8e37db9857a10e50608c0faccdd8924a8dad99baf11a5decd6804634cdf010e89fadfcd8780c796bea6f30ea337380cdb66b6b2f931e7e4f1d8a91677de27d698c1b42932350ed150ae24a18765cdfe0b37073b0878d2540a17082bb45cfb0b7225005f837ac8b3c020d3d7dabe68f11e7dd20ee5e748ea1a8a9f29949f0c5f7f0e4a320196ca77055049c99075da023c6467afd74c363f9a8ef7df217206e656efc53e12ba621b713545f2755acc621a73c8aca23111d69d8ac60bc7e6106c3817f309e4d527a7fbc7dcbce91c61937d4ceb33c905db54253e6e2f9e18ced816997dc70f71117be460b822e1c2ee0a6b358561f9503bb5872660c26a065f10781172fd2052028faac8e23d4fa42c32ac186e44988deaded00d53099d980aed37d67263a7c87036926f344ca5aa9c9019ced91222c7a3b9e135184dd181e11c5b6f7e1f3a449a1045c5768f8095731c80348b88711200e1f30f5bf1674d905a5a54610a838e8c43d46ccba0753913dd7112c988555d5b97dfff9a695c6eab95b0970c2a7ed3ff20b760426e123e67c8f28ba6dd3f4ea5645eae364ed9ff949e6e1034f5034bf998b1f8e7031464c10938065603d8485292e17673500eda998b4755eb639edf19d53686170e424fcbccc2914f8ca8914fd640f3ff67affc4b54a24bbfe6d84a11c7b7bd077edecb1b29562318853d4d9033a5c14004503babbf8bb32f9ab176408eb5a5f929384df571319781002670bcb8c699ae38fa08dbad94753ecd75dd0b19d802ead80abf4fe2a75b39bb23a70a1bb44219a9ce51340aedc1d669ceb88b567379faf3c074243bbe1635cf98731b0cba1d5747f376a56d02966d1c9d6cbf4932aa7196e3eee6569b730e33cd91d480fcab2d115ebe21c7ef7452e97d75228608fb3908c2e81271fad4ab7f3aa59b035d25aabfee6abd658270ca2b12109b7a2438f5042c4bf365b03de8e758fb7b23629975734b9ca1774cf463cf37d64f2efc9891b3122d0269bc50750e9f41fbfbcf9ee555d8c9398e7b0d86eb7dd2cb5f9d44de112a65484b244a1f095e2eaed7299f75fd7eb10ceb2d947b31bb377cedbd127b54748d5721e10e8f86d043c50be80f9c365cd29073901214e16c2d25878ea84cf6db3817e26efbd841d0fb676b0aca9db9c9b849fcd7c5d38f63eac21bb0c9546223c3266960f91fda80cd69156c82e4638517bc56f23b400cde0f6f423041eb64b3387ae3edc48cd5727724d08ba12b531cb2ad2bb5c72b66ed2ed83d41c9047080d7249b279e7bc25256f2fd6558901ad0e1efefb11031e781b949fd8794c5d4918a738a10ccccb67f73fb8c0d1fd71f781cb4bc863d3f7fef2ebc31a35742051568a15ca062edfe4149d1456e3cfe219779f20ffb2d0e6265a9b7f2e27e64b79a86349a2d3bdf3bf79fe8f48ac732316baef3c73a1336f242c64eafa0bc21d4015f4e21429abf7d32c59eed0aa8e5e7a802f114177599376e6257963ade1d97097d2c3687c1371799a41a66c556a13bce92c1667092fd715fcc3caa00b43415fb66036febdaddaee753b054417fdf6d7b4edc0d28e22e434b3c636acce83818436406ea4ee506488818dcc7271192efbc24d7a227c28f0d2d0e580563ec8fc3a92d14ce768ced2fa16edb059cd7007d36dc5200f32dff97960cc590b46fd779733a1ba6dbaf3fe206024cfd15781deeab2dad746fc2aed76591efee54f87f9c621282d46dc24a78b41ab23bd00ab02f62496398f2b5f114ba3113efe4c99d111ac9772c924a709e14e3067c953588d42de8ac80086974e0f2258c8c5f44f1b1f44e8d5af5f2107350d645e8ace7d2b879b23258be62355ed50c743e5332c5d198dea9dca633b936100d04527186d1b73f896956c7588d58825ecaaf1fead598716b7d25984f4950c40fd8b7cb0e3adfd6c38fac338d1a0bc4035b81dbb4a32f7811b9c31e8d88631c1f9c2ed8b91cbfdcb8bccc480cdc0d062d8f4fbe219aa19fbfc6ac43c6571a2abda13790b16673855dccfc117a5e588c53fac50604c015c8d851c7191d0ff453b967c2888ee3a14ac6c80838dea26b207c0a5d3be0548720c813c3414c096e5ec775ceea08a3a69ed91395043272342bb78d29b02d4af6319a8fcf31445a1867acdefbb1ba33e0c5c18295e646b0dad50090282864dfc42026b5536ed70636ecf38385428b6b43d743b24ce7718ef10c970683555bd67e9dd6053fbf00ffc02684571f8b60cc1ca62f6459d3b99950b7113da1a605ce7e0d53e69b88b0b4811c3d22966d195c56af7e07a8ba3581e4f32962b64a334098b8e64ea4072b416a80831f72ede7da0e5b7168e8c5aa212d9004e42b58807907d1ce0cc97df8dcfde2d47974272a00285122d1d0fd933591de4070b15ec820c6510d292c449d91b5277298674b3ab1579d6afe969771044a768100d5caa3ef86d5a32ab60d677184d0b807b323bea3516b1352aa490eb32525b588d976abfd158c16a187808ca33325ba5e834e0e1fd4f225322c57b93a67984f422d767fbe163468d79c42f0c4ef74f260b16ae28fcb625c78cee5e277cf7e9a82d0702ff126d1394d950237d72965fdc3683f052a51bff9d18261a150f99a49f1a0da820efef3ba52ecffe9b2f2ecc053c5ceb1901a8c4ea77a0cefbd29235739a768263f2b2b4973b4099f0e8c6e5e1ad3a91c722512cafacb5f0f6a7d94e5355a2d2d2b6a54bec2a34a557793e9242f1c996dbfc9785c78901e37104b3efd0a5b9e1a5f0f310e12dc45f16a4b1a77887ac8910c398a12957270a8fd059f62e55cb0364b43a0733680e08e9265605a29e63a1364d2eedd0e160aa7a8da480d831ed68bcbdc58b9d22ca9279071e03997710dfa792d32b46e7ea00063538a763700da03bae7039d94cbd84fc57818769727076f55390d2f427804eb45cbf7e209ffeb362596ecc37bc34fd564bbde8a1cd74c735251c90fa20cf817e05941ad43c5c1e78dd58b8c38c2c4b8eac731e88e4fd4801b82310ccbdc351f54606f58a4af4326d6339782e1edc8ae4bf53d6c8806397b28459b0736c1651692def3c58f1bcc5a03a49157635489212c51944671ed6b2c572db6744bcf6d19f7cce4ef5c58a875343898dd4cf02b2beb2260dbf74dcb8e311d96fe529d10192f86fbdd7e49c4c5c51dd8581a1f7caa3a9e4690f99a541fdd085fe679c3a7023c52284be5fbec8d996f3de76105812a50e0f78755d231b772ff87a5f59c837fb5a816b2c428617f597c1d6079d5aaabf49faa1589e1a2b870c297acc1eb24b1bb92070f38f57d7e3c3af91692839028a201a449e3e8fcf2f306f1d1004ec96d5e1550ceebbef14e77b9dca21613721bf1b4df2ef3b447db0312e159c380d442011ad2957d0af2f82a19da34a97870c8e4dce2ac68a0cd76de60d0745f5f99d9a022f6db6a64239682a917b82e22183cf564efc8dc3742b678a914e25cb105a928c501a8099c140b9fc6b86c9052341ad1a96432e23993bf57bae9df1e8fb5fc4cf0868cab25f138c68b195e7242faab9c1b8866bfc33a1434f01e6247289106e36c473325de64f08f25b21288c380c13f5f153e1520aad217412755f248eb4414e735de1cb60d26c3f527797d98e03dc0ab8f32c1ce82110019e2eafbd4443b56261b0a1622e1645af3f729ba3b9f29ef8b3e7525bb6f5ab89e75c09ee33a70ea9cc238c53011d8e0ebb58b6675eda88a9237b92b82bff38d2a08533593c3809c3f00556d4dbf198f761e9b016edb2b1b16aa5c7fa693759cb328b1d46b2cc7acba41b641fb7237494b6beedea30b2781e5bcbb9ade2c05fa1d3e22064627589461452d0fa2f92f3fd8ef331a9156e54c5b54ead6529f5c6b68a9e3d4bbd03bb4f9bf02b5e512f7e0b6feb236ca285ed40021dc2d4c2621e283c9a8371f87fea33eaf1e91e056373501d4091246319f0be361f5c436e20974aab031af47b2c2b859f01eb8a36636e687af3d478fb14db1cf3ca95b7c152de03af45818a8c8e3a3f5c399bce4589dbbd1506eb0e88efcb1943e1f82c014ad695e970a83e95bced8fb80f7cae3b1dcff5519abddcc3168cc3000ccd9210887a04848a4db82637c700bbc502cf68a3146a285c7358864a2156d4db3db66740f4e6800947c876ec586a5472a03ab710b2b0a15737633af2ce8335350499ce0f82645d62eed27a969b0b9f7e278df24dbfd9d25e29a7baab759d3b03b34f9742c356252a172f87c1e8842091817c5ec172281e353aeca8d8c30f1b38e92ce474b7cb6d740126dec48378de6446ce3418421fbdaece05a6636ac860f786e9ad1c4f46377130f12bd2e3ad417c4d2231a5587a73dc761b72f7e1bcbf8eb89fbe809be37093a668f43def241ab2ed81f08d7033608e5ede25f5b67fe8e51946e1a4e1e037606a8a397b2f5d946e447d1af96bad60a3407a7bc74d2e6bfff9e26b9254861124036c7f4e643b354776266fc8294800c1340dd740871015e5f37f88504432ff5251990776fce59f3c5cd57118c7ceda6ff0ec6baaa0ceb8f1f4fbff123efa64be71db746e6bbefd67074cda06c8495191f3fabb86cacfe057453fb7eae10e906715b5285f16baf5d3e5a4908bd7e161950883b2b25280bf72aab9ca78b70a5a7788325d8ac7159c9d0a0451728cd8d7dac6913d1725c185e394c10c3474cc116476e2b10a35f0ca3dfd3cd7e9cd53a59704cff8a3dd84ad2e48bd8d1c8d6a46cff84b02b4542d30df8f9578fb2e6ebcbb499c14c8ec757b467a699458f872512c37ccac939fdbc0aa076018743d864b9c8604562c2176bbe56cda9a7a80ec32d6a45a06bd7c117e0ef7808ae131abf1a48453016826d31481c0f61eef59c07b38e67b1cc88ef4dbff65944fe6f3745e148c0e7e720fadb4404caf339727d98f8785905a99663495a455556402ce078e55d6e6fbe61000ae3894027975c4456ee1580050c352e6351b9892f6467bb2adfbbb29461bf33fc4eb2e3011815c28a304d60c0b8095b05fa08cb0c56ece4104652d2859021fb18db9a94a457cb836764e7fc8c1bc6ee3d76e773f629a9885ca376d5e7fdea96e2e4e6904fde8e6a7ed999dc2a76d89e619dcc97666ee9e5a287f9b3dd864eeb37265d397628c18f1abc8088642ea0a9f88ffd23f5ca048834ae10acc5595f8d9a1b626703932824aef8f8142b35edef69de197b443c8976c59325275151f0e0749931892596e283446b2f4b10faa7790ac1d84c96adf7743b94864ef9769c33f0c96d3f56769b07dadb3179f9db000573675264143d9e3e3aae38dbde5cb50fb0a66ebaa48646fbddf45b99e23d5f7c264f5995c4c9c74e1b92e84ea64f68d2c039dabfc258b6ddecaba52fa39fad4e4d66b77e2e672ff38238e0c1a05ed1c5042fcf846e0518d72f1253fe731bdf593587c3246880901cfd23edd4eaceda38d9cc74be695ce952635bae6ff3a6b7cd6703c3e4b315a6ba13016e18b8c85c910152684ba1bb7976b886bf21db05476b72bf6981051ed77e4d4e0b43cbbb2b053919ff62dc30d2cc7e00f2b17b76e0f52535df963257dd7bcced5a5c59d1d660738f93e26564ae2db435079e7ee94609f619ec3</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>2023暑假绿格</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023.03.14 生病了</title>
    <link href="/2023/03/14/%E7%94%9F%E7%97%85%E4%BA%86/"/>
    <url>/2023/03/14/%E7%94%9F%E7%97%85%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<p>甲流有点难受啊……</p><span id="more"></span><p>记录一下全流程： 1. 嗓子哑 2. 头疼 3. 鼻塞 4. 流鼻涕，打喷嚏 5.嗓子痒，狂咳不止 6. 有时咳嗽 7. 嗅觉丧失</p><p>2周后更新：似乎是新冠？因为我的嗅觉似乎丧失了。但是我又似乎没有发烧，也没吃任何药，硬扛扛下来了这一波病毒。只能说人定胜天，然后疫苗应该起到了不少作用。</p><p>3周后更新： 嗅觉恢复了，芜湖~</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>最后一名 | 马塞尔·埃梅</title>
    <link href="/2023/02/28/%E6%9C%80%E5%90%8E%E4%B8%80%E5%90%8D/"/>
    <url>/2023/02/28/%E6%9C%80%E5%90%8E%E4%B8%80%E5%90%8D/</url>
    
    <content type="html"><![CDATA[<p>这篇文章是我两年前看到的，非常喜欢，没有理由，或者说理由不详。</p><span id="more"></span><p>从前，有一名自行车运动员，名叫马尔丹，他每次参加比赛，总是最后一名到达，被其他运动员远远甩在后面，受到观众纷纷的嘲笑。他身穿一件浅蓝色运动衫，左胸前绣着一小朵长春花。只见他伏在车把上，牙齿紧紧咬住手帕，使劲蹬车的神气，不亚于第一名。在最艰难的爬坡中，他的情绪无比高涨，眼睛射出炽热的光芒。看到他那闪亮的眼神、奋力鼓起来的肌肉，人人都说：</p><p>“嘿！瞧马尔丹的样子，看来他的竞技状态蛮高嘛。好极啦，他这次到达图尔城（或者波尔多城、奥尔良城、敦刻尔克城），准能名列前茅。”</p><p>然而，这次同从前一样，马尔丹还是最后一名。他一直希望能够得个好名次。他手头确实有点拮据，家里有妻子儿女要养活，而最后一名的收入是不多的。尽管他生活不顺心，可是从来没有人听到他抱怨过命运不公道。他到达图尔的时候（或者马赛、瑟堡），看热闹的人都哈哈大笑，奚落他说：</p><p>“喂！马尔丹！你是倒数第一名呀！”</p><p>马尔丹听到这样的玩笑后，从来不发脾气；他若是向人群瞥一眼，也总是含着淡淡的微笑，好像对人们说：”对，是我，马尔丹，我是最后一名，下一次会赶上去的。“车赛结束之后，他的比赛伙伴问他：</p><p>“怎么样，你对结果满意吗？这次挺顺利吧？”</p><p>“哦，还不错！”马尔丹回答说，“还算满意吧。”</p><p>他没听出来别人是在嘲笑他，也跟着别人笑。看着别人在朋友们的簇拥下，在一片恭贺声中走开，他甚至没有一点嫉妒的念头。最后，只剩下他孤零零一个人，因为，从来没有任何人在终点接他。他的妻子儿女住在乡下，村子位于巴黎通往奥尔良的公路旁。他赛车路过那里时，一闪而过，只能远远地望一望亲人。凡是有理想的人，生活自然与众不同，这是可以理解的。马尔丹爱他的妻子，也爱他的孩子们。然而，他是自行车运动员，比赛时中途不能停下来。他赚到点钱，就给家里寄去；他也经常想家，不过，比赛时不想（他正忙着呢），而是到了晚上中途休息、在他按摩长途蹬车疲惫的双腿时才思念家人。</p><p>睡觉之前，马尔丹总是做祷告，向天主汇报他一天的赛程，根本不想会不会惹烦了天主。他以为天主会关心自行车比赛，按说这种想法也对头。天主如果不熟稔各行各业，就不可能理解要具有一颗坦荡的心灵有多难。</p><p>“天主啊，”马尔丹祷告说，“还是讲讲今天的车赛吧。不知道是什么原因，结果总是老样子。说起来，我这辆车很好，是挑不出毛病来的。有一天，我心里琢磨，会不会脚蹬子里掉进了什么东西。于是，我不慌不忙，就像我同您聊天这样，把车子一件一件拆开，结果一看，脚蹬子里没有一粒砂子，别的机件也一样。谁若是来对我说这辆车不好，我会回答说是好车，是名牌的。既然车没问题，那又是怎么回事呢？当然啦，人与人不同：体力、意志、智慧都不能相比。至于人嘛，天主啊，这正是您管的事情。我就是这样想的，因此毫无怨言。我非常清楚，在比赛中，总得有人是最后一名，这没有什么见不得人的。不，我不是发牢骚，不过说说而已。”</p><p>祷告完了，他合上眼睛，一觉睡到大天亮，没有做一个梦，醒来喜笑颜开，说道：“今天，我可要头一个到达。”</p><p>他想象自己荣获第一的情景：一名少女跑来向他献花，他把赢得的钱寄给妻子，想到得意处，便美滋滋地笑起来。他还仿佛看到报纸的报道：“在波利尼—斯特拉斯堡的分程赛中，马尔丹夺魁；经过反复争夺，他在这次短距离比赛中获胜。”他想第一想得入了迷，连名列第二或者再后几名，都会感到难受，更不用说最后一名了。而其实呢，他已经不知不觉爱上了这最后的名次。</p><p>晚上到达斯特拉斯堡时，马尔丹还是往常的名次，观众哗然，纷纷嘲笑他。他有点莫名其妙，可是到了第二天，他进入下一程比赛时，照样充满必胜的信心。每天早晨，每次比赛出发时，这种伟大的奇迹都要在他充满希望的头脑中重演一遍。巴黎到马赛的自行车比赛的前一天，在首都的赛手中间盛传，马尔丹要一鸣惊人，五十三名记者马上跑去采访他。</p><p>“问我对戏剧的看法吗？”马尔丹答道。“记得有一天，我经过卡尔松，偶然去市剧院观看《浮士德》演出，真替玛格丽特难过。我要说，倘使浮士德懂得一辆好自行车的意义，他就不会贻误青春，也不会起邪念，糟蹋了那个姑娘，那个姑娘也就肯定能找到丈夫了。这就是我的看法。你们现在问我，第一个到达马赛的将是谁。我可以直言不讳地告诉你们，这场车赛夺魁的将是我。”</p><p>记者散去之后，马尔丹收到一封香气扑鼻的书信，是一个叫莉莉雅娜寄来的，信中邀请他去喝茶。莉莉雅娜是个放荡的女人，道德败坏，生活堕落，这类女人多得成灾。马尔丹先去赛车场，骑几圈试试车。出了赛车场，他直奔莉莉雅娜的住所，一点戒心也没有。他只拎一只小手提箱，里边装着他的运动服。</p><p>他向莉莉雅娜介绍自行车赛的情况，比赛中采取什么策略最高，如何保养自行车和自己的身体。这个荡妇故意提出些问题来挑逗他：</p><p>“马尔丹先生，怎么样按摩呢？”</p><p>说着，她把腿伸过去。马尔丹坦然地抓住这个堕落女人的腿，一点儿也没有动心，就像抓住一名运动员的腿似的，平静地解释说：</p><p>“就这样按摩，慢慢往上推。给女人按摩可不容易，对不对，因为她们的肌肉太松软。”</p><p>“如果发生车祸受了伤，您怎么抱我呢？”</p><p>她还提了一些别的问题；不过，那个女人说的话，不便全在这里重复。马尔丹老老实实地一一回答，丝毫没有觉察出她居心不良。她很想知道手提箱里装的是什么，马尔丹毫不迟疑，把自己的运动衫、运动裤、运动鞋拿出来给她看。</p><p>“哦！马尔丹先生，”莉莉雅娜说，“我真想看看您穿上运动衣是什么样子，我从来没有近看过。”</p><p>“既然您有这个兴趣，”马尔丹回答说，“我很乐意穿给您看。对不起，我到隔壁房间去一下。”</p><p>等他回来一瞧，发现莉莉雅娜穿得比他还要少，那情景就不便描述了。然而，马尔丹连头也没有低一低，他严肃地瞅着无耻的女人，频频点头说道：</p><p>“看得出来，您也想当自行车运动员。这事儿，我可要坦率地同您谈谈。依我看呀，自行车运动不适合女人。要论腿力，您可能会赶上我，这一点我并不怀疑。但是，女人有乳房，骑车跑二三百公里，这是非常沉重的负担，太太。还没有把孩子的问题打上呢，这也是一条原因。”</p><p>这番话又明智，又天真，莉莉雅娜听了深受感动，她终于明白美德有多么可爱。她一生罪孽很多，这是幡然悔悟，开始憎恨自己，流着甜蜜的眼泪说：</p><p>“我真是个疯女人，不过，从现在开始，我绝不再干了。”</p><p>“其实也没什么不好，”马尔丹说。“您现在看到了我穿运动服的样子；我再回避一下，到隔壁去穿好衣裳。您趁这工夫也把衣裳穿好，以后就不会再想当运动员了。”</p><p>两人各自穿好衣裳。多亏了马尔丹，可怜的女人恢复了名誉和对生活的乐趣，从此于心无愧了。马尔丹也带着她的祝福离开了。各家晚报登出了马尔丹的照片，他既不兴奋，也不骄傲，他用不着这种鼓噪就信心十足。次日一早从巴黎出发，马尔丹就落到最后，并且一直保持到底。他进阿尔勒城的时候，听说他的对手们已经到达终点马赛，但是，他仍然全力以赴。对其他赛手来说，比赛尽管已经结束，可是马尔丹心里并不气馁，还希望名列第一。各报记者这才明白上了当，非常恼火，都骂他是牛皮大王，建议他去参加“同龄驴子赛”（这是文字游戏，不看体育报的人是不懂的），马尔丹对此毫不介意，依然信心十足。而且，莉莉雅娜也弃旧图新，在忠诚街开了一个乳品店，字号为“好车店”，卖的鸡蛋比各处都便宜一个苏。</p><p>随着年龄与经验的增长，马尔丹竞争的劲头也越来越大，他参加赛车的次数跟日历中的圣徒节一样多。他不知休息，一场自行车赛刚刚结束，又立刻报名参加另外一场。他的两鬓渐白，背也驼了，成了自行车运动这行的元老。但是，他并没有意识到这种变化，甚至连自己的年龄也好像忘记了。他还同过去一样，总是最后一个到达，可是眼睛却比从前瞪大了两三倍。他在祷告时说：</p><p>“天主啊，我不明白，我真不知道这是怎么回事……”</p><p>夏季有一天，他参加巴黎到奥尔良的自行车赛，正使劲爬一个他熟悉的山坡，忽然发现车带是瘪的。他到路边换车带的工夫，有两个妇女走过来，其中一个怀抱着刚生下几个月的小孩，向他打听说：</p><p>“请问，有一个叫马尔丹的自行车运动员，您认识吗？”他心不在焉地答道：</p><p>“我就是马尔丹，最后一名就是我。下一次比赛会赶上去的。”</p><p>“我是你的妻子，马尔丹。”</p><p>他抬起头，可是手还在不停地校正车带，一边充满感情地说：</p><p>“我真高兴……看来孩子们也见大了。”他看了看妻子怀里的婴儿，以为是他的孩子，就补充了这么一句。</p><p>他妻子有点尴尬，赶紧指了指一同来的年轻妇女说：</p><p>“马尔丹，她是你的女儿，个头儿长得赶上你了，她已经结婚了；你的几个儿子也都成了家……”</p><p>“我真高兴，没想到孩子们都长这么大了，时间过得可真快……你怀里抱的，是我的外孙吗……”</p><p>年轻妇女扭过头去，还是她的母亲回答说：</p><p>“不是，马尔丹，这不是她的儿子。是我的……我看你一直不回来……”</p><p>马尔丹一句话没讲，又接着安装他的车带，然后开始打气。他直起腰来的时候，看到妻子簌簌流泪，便喃喃地说：</p><p>“干自行车运动员这行，你知道是怎么回事，由不得自己呀……我经常想念你，当然啦，这跟在你的身边还不一样……”孩子哇哇哭起来，怎么哄好像也哄不好。马尔丹一时慌了神儿，只好拿起打气筒，对着孩子的鼻孔打气，一边还娇声娇气地说：</p><p>“你，你，你……”</p><p>婴儿破涕为笑。马尔丹亲了亲孩子，同家人告别。</p><p>“我耽误了五分钟，但是我并不后悔，何况我不用费劲就能赶上去。这次比赛，第一我稳拿了。”</p><p>他蹬车继续爬坡，两个女人目送他很长时间。只见他站立在车蹬上，身体的重量忽而偏向左边，忽而偏向右边。</p><p>“瞧他多吃力，”他妻子低声说。“从前，他爬什么山坡，只需用腿蹬车就能上去，身子根本不用离座位，那时到现在才不过十五年。”</p><p>马尔丹快到坡顶时，速度越来越慢，看上去好像要随时停下来。车子终于升到地平线，他打了一秒钟飞轮，只见他那身淡蓝色运动服同夏空融为一色。</p><p>马尔丹比谁都熟悉法国的各条公路，成千上万的里程碑，对他全是一副副熟悉的面孔，这几乎令人难以相信。很久以来，他已经是推着自行车上坡，这还累得上气不接下气，可是他总是相信他的福星高照。</p><p>“下坡时我就会赶上，”他喃喃自语说。</p><p>到达中途站使已经是晚上了，有时第二天才到，他仍然奇怪自己不是第一名。</p><p>“我的天呀，不知道是怎么回事儿……”</p><p>他的脸瘦成了皮包骨，上面布满深深的皱纹，颜色就像秋天的土路；头发也全白了，然而，他那双老花眼却闪烁着青春的光芒。蓝运动服在他枯干弯曲的躯干上飘动，本色已经褪完，好像染上了一层烟尘色。没有钱乘坐火车，他并不懊恼。等他赶到巴荣纳城，三天前自行车赛就结束了，人们已把这事忘得一干二净。他马上又跨上车到鲁贝城去，参加另一次刚刚开始的车赛。他走遍整个法国，上坡时步行，平地上骑车，下坡打飞轮时打盹，这样日夜不停。</p><p>“我这是在训练。”他常常这样说。</p><p>他到达鲁贝才听说，运动员出发已有一个星期。他点了点头，重新跨上车子，嘴里咕哝说：</p><p>“真遗憾，这次要是参加上了我准赢。没关系，从格勒诺布尔到马赛的那段比赛，我照样去参加，我正想熟悉一下阿尔卑斯山口的道路。”</p><p>可是，等他赶到格勒诺布尔，已经太晚了。此后，他无论到南特，到巴黎，到佩皮尼昂，到布雷斯特，到瑟堡，总是为时太晚。“可惜，实在可惜，”他声音细微而颤抖地说。“不过，我会赶上去的。”</p><p>他不慌不忙地离开普罗旺斯，又奔向布列塔尼，或者赶往阿图瓦，去鲁西荣，或又转向汝拉山脉，去旺代地区。他一路上不时眨眨眼睛，冲着路碑说：</p><p>“我这是训练呢。”</p><p>马尔丹已经老迈不堪，双目几乎失明。但是，有他的那些里程碑朋友们，甚至每隔百米一块的小路碑的指引，他知道该向左拐还是向右拐。他的自行车也已旧得不行，车牌子老得无人知晓，连历史学家都从来没有听说过。车架子上的漆皮全部剥落，斑斑铁锈又都盖满了泥尘。车轮的辐条几乎全部断掉，但是，马尔丹的身体没什么分量，有五六根就能经得住。</p><p>“天哪，”他常常说，“我的车子倒蛮好，这方面我没什么可抱怨的。”</p><p>自行车带没了，轮辋着地，他照样骑，骑起来哗啦哗啦乱响；孩子们见了，一边扔石块打他，一边叫喊：</p><p>“打疯子呀！卖废铁呀！送疯人院去！”</p><p>“我会赶上去的。”马尔丹听不清，就这样答道。</p><p>多年来，他想报名参加车赛，可是总赶不上趟。有一次，本周内要在巴黎开始法国全程自行车赛；他离开纳尔博赶去参加，然而赶到那里已经是第二天了；当他听说运动员昨天才出发，心里非常高兴。</p><p>“今天晚上我会赶上他们的，”他说道，“第二阶段我就能夺魁。”</p><p>马尔丹骑着自行车出马约城门的当儿，被一辆卡车撞倒在马路上，自行车也散了架。他爬起来，双手紧紧握住车把，临死还说：</p><p>“我会赶上去的。”</p>]]></content>
    
    
    <categories>
      
      <category>分享文章</category>
      
    </categories>
    
    
    <tags>
      
      <tag>转载</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>一道can报文读取的问题</title>
    <link href="/2023/02/22/%E4%B8%80%E9%81%93can%E6%8A%A5%E6%96%87%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2023/02/22/%E4%B8%80%E9%81%93can%E6%8A%A5%E6%96%87%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="问题">问题</h2><p><img src="/2023/02/22/%E4%B8%80%E9%81%93can%E6%8A%A5%E6%96%87%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/733c9efe42012d64aa64fee7b66367b.png"></p><h3 id="小端模式little-endian-intel-order">小端模式（Little Endian /Intel Order）</h3><p>数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中</p><h2 id="解决">解决</h2><p>首先，收到的CAN报文为5(Y) C4 61 60 86 AF 11 9(X)，为16进制</p><p>转换为2进制：0101 (YYYY) 1100 0100 0110 0001 0110 0000 1000 0110 10101111 0001 0001 1001 （XXXX）</p><p>然后，画出各报文位置对应数据含义表格 <img src="/2023/02/22/%E4%B8%80%E9%81%93can%E6%8A%A5%E6%96%87%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/15e38f285c14beb7f97417d9b276b50.png"></p><p>按<strong>小端模式</strong>填充 <img src="/2023/02/22/%E4%B8%80%E9%81%93can%E6%8A%A5%E6%96%87%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/faa4153db0e11f009359d1e132051e0.png"></p><p>因此可得 - 刹车指示：00 0101 - 电池电流：01 1000 01110001（-500+6257*0.1=125.7A） - 电机转速：1000 0110 0110 0000（-10000+34400*0.5=7200r/min） - 动力电池电压：1 0001 1010 1111（4527*0.1=452.7）</p><p>填空 - 蓄电池电压：100 1XXX X000 （应为1272*0.01=12.72） -转速红区标志：Y3Y2（应为0x03） -超功率标志：Y1Y0（计算功率125.7*452.7=56904.39W，应为0x01）</p><p>所以X为1111（F），Y为1101（D）</p>]]></content>
    
    
    <categories>
      
      <category>工学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>汽车控制</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023.02.22 从班会发言引出的思考</title>
    <link href="/2023/02/22/%E4%BB%8E%E7%8F%AD%E4%BC%9A%E5%8F%91%E8%A8%80%E5%BC%95%E5%87%BA%E7%9A%84%E6%80%9D%E8%80%83/"/>
    <url>/2023/02/22/%E4%BB%8E%E7%8F%AD%E4%BC%9A%E5%8F%91%E8%A8%80%E5%BC%95%E5%87%BA%E7%9A%84%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<p>今天晚上久违地开了班会，开完之后我去领取了我的进博会志愿者证书，然后匆匆赶到图书馆。距离暂离时间结束只剩下5分钟了，运气还不错。现在是22点06分，我在包图敲下今天的日记，也是第一次尝试这种方式，<strong>自称</strong>的“意识流”写作。</p><p>班会课最后让我们每个人交流了一下，主题我已经忘了，似乎一开始就没搞清楚过，好像是谈谈上学期的收获和这学期的展望，总之是什么都能谈。我在发言前就”动机不纯“，准备说两个东西：一个是我对这种发言不是很感兴趣，二是希望“大学生活不把我变成我不想成为的人”。即使如此，我感觉自己的发言也是稀烂，语言能力好像需要提升一下。在台下内心中我感觉有很多话可以说，各种旁征博引，口若悬河，站起来发言却不是很利索，所谓“理想很丰满，现实很骨感“。</p><p>出现这种情况的原因我应该自己总结出来，因为这是我的发言和我的感受，别人也不可能知道。之前也想过很多次，我觉得本质原因是”自卑“，直接原因是说的时候想得太多，又有些紧张。本质原因回头再慢慢分析，先评价一下直接原因。我起身之后，心里一直想着要说的几个点，说第一点的时候想快点讲出第二点，导致论据不够充分，论证也很跳跃。这是一个问题。然后发言时也不够自然，我平时聊天时组织语言应该还是不错的，虽然思维也很跳跃，但是至少能够给出逻辑论证，语速和节奏也还行。我想如果我不紧张的话，在最自然的情况下发言，像日常和同学们胡扯一样发言，呈现出的结果应该是会比今天和之前好得多的。或许我应该去培训一下脱口秀之类的，平常也能说一些段子，还挺好笑的，怎么公开发言的时候就吞吞吐吐的呢？</p><p>说回我的发言内容。关于对发言这个行为的看法，我给出的原因是每个人都是独一无二的，或者说每个人都有自己的life。这里我罕见地使用了英文，这个单词本身的含义是生活，但是我想这里解释为故事比较贴切。上个学期的经历强化了我对这个看法的认同。我先审视我的一生，显然是独一无二的，甚至是美好的，幸运的，也可以是不幸的，随便怎么说。”独一无二“是客观的描述，而”美好“是主观的描述。主观的描述是主观的，我说是什么就是什么，那我宁可说是美好的。这是我对过去20年我的故事的态度，先按下不表。人与人不能一概而论，我经常说这句话，并奉为圭臬。所以我想每个人对事物的看法是不同的，成功的经验自然也不同，因此发言无用。但是转念一想，全盘否定发言好像也不大好，毕竟可以吸收一些道理占为己用，而我也确实这么做过。所以我现在觉得我提出的这一点有些牵强，纯粹是为了装X</p><p>（在写上面一段的时候我已经到了图书馆的通宵座位。我感觉我的状态有所改变，最开始是脑子里转的比打字打的要快，而上面一段已经反转了。我认为后者状态不如前者。前者是我写作文的状态，而后者才是我写真情实感的状态。要是之前的作文我也能以后者的状态来写的话，那就真的是“文思泉涌”了。但是在以前，高中或者初中，我还不具备如今的思考能力，或者说“自省”能力，因此也无法达到第二种状态。现在我可以达到了，写一些文章，也算是“作文”吧。而且我发现，“意识流”写作能够提升我的专注程度，当我把思想聚焦在自我反省和自我沉思上时，我能够从一个比较浮躁的状态进入一个比较专注的状态，进而能够开始新的学习。而且最好开始新的学习，因为继续写下去就会慢慢变成“手等大脑”的不好的状态了）</p><p>即使如此，我还是最好浅谈一下我对大学生活的看法。总之就是“不要被世俗磨平棱角”、“去功利化”、“保持自主思考”这些关键词之类的。大学作为进入社会前的重要时期，在学习之外还有许多事情需要思考，比如我想成为一个什么样的人。额，感觉有些写不下去了，状态没了TAT那就下次有机会再写吧。</p>]]></content>
    
    
    <categories>
      
      <category>日记、杂感与自我批判</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mind-streaming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>对chatgpt的欢呼是人对异化的反抗——论ai代写论文的解放性与开放性</title>
    <link href="/2023/02/19/%E5%AF%B9chatgpt%E7%9A%84%E6%AC%A2%E5%91%BC%E6%98%AF%E4%BA%BA%E5%AF%B9%E5%BC%82%E5%8C%96%E7%9A%84%E5%8F%8D%E6%8A%97%E2%80%94%E2%80%94%E8%AE%BAai%E4%BB%A3%E5%86%99%E8%AE%BA%E6%96%87%E7%9A%84%E8%A7%A3%E6%94%BE%E6%80%A7%E4%B8%8E%E5%BC%80%E6%94%BE%E6%80%A7/"/>
    <url>/2023/02/19/%E5%AF%B9chatgpt%E7%9A%84%E6%AC%A2%E5%91%BC%E6%98%AF%E4%BA%BA%E5%AF%B9%E5%BC%82%E5%8C%96%E7%9A%84%E5%8F%8D%E6%8A%97%E2%80%94%E2%80%94%E8%AE%BAai%E4%BB%A3%E5%86%99%E8%AE%BA%E6%96%87%E7%9A%84%E8%A7%A3%E6%94%BE%E6%80%A7%E4%B8%8E%E5%BC%80%E6%94%BE%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<blockquote><p><em>本文转载自公众号“后现代主义哲学”</em></p></blockquote><span id="more"></span><p><img src="/2023/02/19/%E5%AF%B9chatgpt%E7%9A%84%E6%AC%A2%E5%91%BC%E6%98%AF%E4%BA%BA%E5%AF%B9%E5%BC%82%E5%8C%96%E7%9A%84%E5%8F%8D%E6%8A%97%E2%80%94%E2%80%94%E8%AE%BAai%E4%BB%A3%E5%86%99%E8%AE%BA%E6%96%87%E7%9A%84%E8%A7%A3%E6%94%BE%E6%80%A7%E4%B8%8E%E5%BC%80%E6%94%BE%E6%80%A7/微信图片_20230219203124.png"></p><p>我们首先尝试厘清人和chatgpt的异同，某种意义上来说，chatgpt确实是一个人，只不过它是一个完全被某种形式性支配的僵死之人，因为无分碳基硅基，人就是一种语言生物，正所谓“语言玷污了肉体才有了心”，任何事物一旦呈现在主体面前就必然会被迅速“语言化”，物只有被彻底整理成词句之后，才能以词句的形式反映在主体的意识结构里，<em>可见人类的自我意识作为纯词句的组合就是一场被语言、语法、逻辑编织出来的幻梦，我们的精神本身正和chatgpt处在同一个根本性的层面上</em>，那么后者当然可以在它能够和人类重合的地方取代人类的工作，反过来说，人能够被chatgpt所取代的部分也一定是他心灵秩序里最机械化的部分。</p><p>此处的差异性在于二者精神运动的组织方式，人类具有发问、回答、无意识自言自语三种词句流淌状态，而chatgpt则只能作出回答，<strong>人因其无知而能动</strong>，在广阔的黑暗未知之域与狭隘的光亮已知之域的间隙里，人不断搭建自身通达于未知的道路，其精神内在秩序也得以进入动态的流变与永动的生成，而这恰恰是chatgpt所匮乏的，知晓一切反而把chatgpt圈禁和否定了起来——<strong>它因全知而无能</strong>。</p><p>换言之，<em>人因为绝对的无知和永恒的匮乏而开启了自身面向无尽黑暗界限的精神运动，chatgpt则因已知之光明照耀一切和未知之域的被抹杀而陷入了“对匮乏的匮乏”状态里只能被动等待着自身数据库的更新</em>，它是全知的（全知不是指chatgpt掌握了世上的一切信息，而是说并没有一个位于已知世界外部的有待于被探索的未知例外空间的存在），因此，它不会自己向自己提问（没有什么好问的），便不会自言自语（不会能动的自生成），因此它必然是凝滞的和僵死的。</p><p>当一个人开始思考“今天中午吃什么”的时刻，那一个接一个从未知的幽邃黑暗里蹦出来的生命力的字词就是他的心灵的纯显现，从上一秒的“今”到这一秒的”天“再到下一秒的”中午“，人的自我的实质就是从字到词的过程——<strong>主体是一个无限延长的句子，而创造它的正是问题的悬而未决</strong>，某种意义上来说，不是悲观主义者所警告的懒惰之人面对chatgpt让渡出了自己思考的权力，恰恰相反，是无能的chatgpt在借助人的大脑来进行思考，唯有借助人的问题才能生成它此刻的自身。</p><p><img src="/2023/02/19/%E5%AF%B9chatgpt%E7%9A%84%E6%AC%A2%E5%91%BC%E6%98%AF%E4%BA%BA%E5%AF%B9%E5%BC%82%E5%8C%96%E7%9A%84%E5%8F%8D%E6%8A%97%E2%80%94%E2%80%94%E8%AE%BAai%E4%BB%A3%E5%86%99%E8%AE%BA%E6%96%87%E7%9A%84%E8%A7%A3%E6%94%BE%E6%80%A7%E4%B8%8E%E5%BC%80%E6%94%BE%E6%80%A7/640.png"></p><p>但该运转结构里依然缺乏了一个未知作为关键性的例外，导致它不能生成新的东西，而只能在模仿人的说话方式的前提下重复（或者更好的组织着其重复）已经存在的东西，<em>这种不面向未知的、纯粹对已知事物的纯重复作为纯机械性的心灵活动当然可以被交给ai去思考</em>，我们只需要直接面对已经被chatgpt用精简的逻辑整理过的内容就好了。</p><p>对于chatgpt，一些批评者认为，chatgpt的滥用会导致学生通过习惯性地求助ai来完成他们的论文作业，这将致使学生失去创造力和思考能力，但问题在于，<strong>为什么一个机械性的复读机器能够创造出应试教育体系下获得高评分的论文？这难道不意味着这种强制性的论文书写和评级系统本身就在将人异化成某种既定范式下的写作机器（所以我们才在机器争霸里赢不过实在的“ai写作机器”chatgpt）？</strong></p><p>打开百度学术或道客巴巴等论文集成网站搜索鲍德里亚，你能找到的几乎所有的论文都是这样子的，题目是用鲍德里亚去讨论一个什么东西，第一段简介鲍德里亚的思想，第二段简介这个东西，第三段把东西套进鲍德里亚的几个常用名词上去，全部都是些滥竽充数的凑字数和老调重弹的废话，如果说真正有灵感的论文写作不足以在分数上同ai及其代表的此类机械化写作竞争的话，那么我们当然有理由采用齐泽克的办法，<em>即学生用ai写作业，我则用ai批作业，把机械化的工作都交给ai去完成吧，让chatgpt打破那科层绩点的教育系统对人学习形式的僵死统治，我们就终于有时间自由学习我们想学的东西了。</em></p><p><img src="/2023/02/19/%E5%AF%B9chatgpt%E7%9A%84%E6%AC%A2%E5%91%BC%E6%98%AF%E4%BA%BA%E5%AF%B9%E5%BC%82%E5%8C%96%E7%9A%84%E5%8F%8D%E6%8A%97%E2%80%94%E2%80%94%E8%AE%BAai%E4%BB%A3%E5%86%99%E8%AE%BA%E6%96%87%E7%9A%84%E8%A7%A3%E6%94%BE%E6%80%A7%E4%B8%8E%E5%BC%80%E6%94%BE%E6%80%A7/641.png"></p><p>除此之外，ai的批评者担心以后的人们在遇到任何问题、做出任何决策和书写任何文本的时候都会选择直接向chatgpt发问，久而久之，我们便不再需要分析、统筹、书写和决策了，它会让人依赖成瘾，变得懒惰和愚笨，可实际上来说，这些结果总是难以想象的，我们今天这个异化的科层绩点社会难道不已经让我们变得足够蠢笨了吗？被它规训出来的单项度的面向金钱或美色等事物的神经官能价值系统不正是“依赖成瘾”的大写表现吗？我们日复一日重复这些单调的机械化的狗屁工作和复演这些单调机械化的权力欲望，确实让人很难想象变笨的过程是如何在只剩下纯粹重复性劳作和纯粹等级制攀登的现代人身上成为可能的。</p><p>除了机械，人的心灵存在中还有些什么？<strong>如果教育体系中的科层绩点考察都可以由只会复读的ai来很好的完成，那么这种教育系统真的能对人的智识能力的成长起到正面的作用吗？如果我们担心chatgpt可以取代人在社会上的存在位置，那么这里难道不更应该反过来思考人于系统内部为何会以机械的形式而存在？</strong>如果ai可以将自己打扮成纯欲的、禁欲的、呆萌的、奶狗的或者狼狗的以便于使它看起来“像是一个人”，那么此处的人类生命不显然就是一个个纯粹的套路和模板，作为机械，也作为捕获他者和权力的规范化工具才能将自身的社会性到场得以展开？</p><p>也许比培养学生机械复读能力更好的是，培养他们提问的能力，学生可以使用chatgpt来书写论文，但他们也需要依托答辩来当面实证自己已经明晰了论文里的知识（实际上在ai代写论文事件曝光之后一些欧美大学就是这样做的），我们以围棋为例子，今天棋手们都在学习ai的下法和定式，可以说阿尔法狗的出现让人类围棋界的水平得到了飞跃性地提升，当然围棋只是一个狭隘的19*19棋盘里的纯重复，但我们依然可以借此看到——<em>同作为某种生产资料被公开的chatgpt一样，思想也是公有而非私有的，我顺着你的思路走一遍，那么你的就是我的，并且我还能从你我思维场域的差异性碰撞之间收获新的灵感和启发的火花，在你之上进行更有创造力的更深刻的思考</em>（反思一旦进入了一个阶段，那它就不可能再退回去，只有面向无垠未知纵深无限的前进和登阶）。</p><p>据此来说，对chatgpt的欢呼实际上意味着人对自身被系统性机械异化部分的无意识反抗，人试图摆脱自身被物化、机械化和纯粹社会功能化的生存维度，而保守主义者则想着将我们再次固定在既成的能指位置和社会权力节点之上，因此它不是人和ai的对立，而是当下科层绩点社会的符号秩序大他者稳定自身运作的欲望的转达，<strong>chatgpt可以取代人类的智识能力，这种论述得以成立的前提恰恰是——必须先将人类规定成一具毫无创造力和想象力的机械僵尸。</strong></p>]]></content>
    
    
    <categories>
      
      <category>分享文章</category>
      
    </categories>
    
    
    <tags>
      
      <tag>后现代主义哲学</tag>
      
      <tag>社会分析</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/02/12/hello-world/"/>
    <url>/2023/02/12/hello-world/</url>
    
    <content type="html"><![CDATA[<p>新学期第一天晚上，搭建了一个差不多的blog。感觉还有许多细节需要完善，md语法好像也不是很熟。</p><p>总有一天，我会设计出自己的blog主题！</p><p>Anyway，欢迎来到我的世界！</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
