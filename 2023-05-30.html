

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ruiyang He">
  <meta name="keywords" content="">
  
    <meta name="description" content="调参 显卡内存限制 时间限制 目前是基于当前情况的最好参数（尽力）   模型不收敛的问题 batch normalization   分组训练 把所有楷书label和行书label分开训练，acc有显著提升   训练过程可视化 生成动态曲线，非常直观，便于调试    在我们实际模型搭建的过程中，我们遇到了一些问题，然后通过各种方式尝试解决了它们。 在超参数优化方面，我们需要选择合适的epoch、">
<meta property="og:type" content="website">
<meta property="og:title" content="page.title">
<meta property="og:url" content="http://hiryan23.github.io/2023-05-30.html">
<meta property="og:site_name" content="Hiryan&#39;s Blog">
<meta property="og:description" content="调参 显卡内存限制 时间限制 目前是基于当前情况的最好参数（尽力）   模型不收敛的问题 batch normalization   分组训练 把所有楷书label和行书label分开训练，acc有显著提升   训练过程可视化 生成动态曲线，非常直观，便于调试    在我们实际模型搭建的过程中，我们遇到了一些问题，然后通过各种方式尝试解决了它们。 在超参数优化方面，我们需要选择合适的epoch、">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-05-30T08:32:33.417Z">
<meta property="article:modified_time" content="2023-05-30T08:32:33.417Z">
<meta property="article:author" content="Ruiyang He">
<meta name="twitter:card" content="summary">
  
  
  
  <title>page.title - Hiryan&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />





<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"hiryan23.github.io","root":"/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Hiryan&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/lungmen.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="page.title"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  <ol>
<li>调参<ol>
<li>显卡内存限制</li>
<li>时间限制</li>
<li>目前是基于当前情况的最好参数（尽力）</li>
</ol>
</li>
<li>模型不收敛的问题<ol>
<li>batch normalization</li>
</ol>
</li>
<li>分组训练<ol>
<li>把所有楷书label和行书label分开训练，acc有显著提升</li>
</ol>
</li>
<li>训练过程可视化<ol>
<li>生成动态曲线，非常直观，便于调试</li>
</ol>
</li>
</ol>
<p>在我们实际模型搭建的过程中，我们遇到了一些问题，然后通过各种方式尝试解决了它们。</p>
<p>在超参数优化方面，我们需要选择合适的epoch、learning rate、batch size、channel等</p>
<p>epoch决定了训练次数，learning rate决定学习速率，我们在已有显卡设备的情况下不断调整，确定最终的参数<br>batch size控制梯度下降的幅度，我们具有可视化的动态曲线acc图，因此可以直观看出梯度下降的结果和调整batch size<br>channel通道数决定了模型学习的效果。通道数越多，意味着模型会从更多的层次上捕捉图片的特征，但是也会带来参数数量的爆炸式增长。</p>
<p>在激活函数方面，我们考虑了Sigmoid和ReLU函数的特性，最终主要选择ReLU作为激活函数。</p>
<p>我们在调试模型的过程中主要面临的限制是显卡内存不足和训练时间过长的问题。在这样的限制下，我们找到了最适合的超参数</p>
<p>训练模式方面，我们发现，When all … </p>
<p>在建模的开始阶段，我们遇到了模型不收敛的问题。我们使用了batch normalization的方法，最终保证了模型收敛和训练的精度。</p>
<p>整个搭建模型的过程中，我们一直使用了可视化图形工具辅助我们调试。这个动态的图片可以让我们很好直观的看出曲线的走势和最终结果。</p>
<p>Of course, Here are some caveats.<br>在超参数优化方面，我们目前仅仅是手动调参。更好的方案是应用bayes优化方法，以提高效率。<br>在图片处理方面，受限于设备，我们压缩了图片的像素，损失了一些细节。使用更高清的图片能够带来更好的拟合精度。<br>在模型选择方面，还有一些更加现代的模型如Xception，可能也能够被利用。目前我们优化的准确率似乎被限制在0.6左右，这也意味着我们需要找到一些新的解决方法。</p>
<p>During our actual model building process, we encountered some problems and then tried to solve them by various ways.</p>
<p>In terms of hyperparameter optimization, we need to choose the right epoch, learning rate, batch size, number of channels, etc.</p>
<p>epoch determines the number of training sessions, learning rate determines the rate of learning, and we just keep adjusting them to determine the final parameters in the case of existing graphics devices.</p>
<p>batch size controls the magnitude of gradient descent, we have a visual dynamic acc-curve graph, so it is easy for us to visually see the gradient descent results and adjust the batch size.</p>
<p>The number of channels determines how well the model learns. More channels means that the model captures the features of the image from more levels, but also brings an explosion in the number of parameters.</p>
<p>In terms of activation function, we considered the characteristics of Sigmoid and ReLU functions, and finally chose ReLU as the activation function.</p>
<p>The main limitations we faced in debugging the model were the lack of memory of the GPU and the long training time. But under such constraints, we still found the most suitable hyperparameters</p>
<p>With respect to the training model, we found that When all … </p>
<p>In the beginning of the modeling phase, we encountered the problem of model non-convergence. We used the batch normalization method to ensure the convergence of the model and the accuracy of the training.</p>
<p>Throughout the process of building the model, we used matplotlib of python to assist us in debugging. This dynamic image gives us a good visualization of the curve and the final result.</p>
<p>Of course, here are some caveats.<br>In terms of hyperparameter optimization, we are currently just tuning the parameters manually. A better solution would be to apply bayes optimization methods to improve efficiency.<br>In terms of image processing, we are limited by the device, we compress the pixels of the images and lose some details. Using higher resolution images can bring better fitting accuracy.<br>In terms of model selection, there are also more modern models such as Xception that may be able to be utilized as well. Currently the accuracy of our optimization seems to be limited to about 0.6, which also means we need to find some new solutions.</p>


  

</article>



              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
