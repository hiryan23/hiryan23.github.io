

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ruiyang He">
  <meta name="keywords" content="">
  
    <meta name="description" content="Arboricity and Subgraph Listing Algorithms (Norishige Chiba and Takao Nishizeki, 1985)">
<meta property="og:type" content="article">
<meta property="og:title" content="Arboricity and Subgraph Listing Algorithms">
<meta property="og:url" content="http://hiryan23.github.io/2024/04/29/%E5%AF%BB%E6%89%BE%E5%9B%BE%E4%B8%ADclique%E7%9A%84%E7%AE%97%E6%B3%95/index.html">
<meta property="og:site_name" content="Hiryan&#39;s Blog">
<meta property="og:description" content="Arboricity and Subgraph Listing Algorithms (Norishige Chiba and Takao Nishizeki, 1985)">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-04-29T07:11:31.082Z">
<meta property="article:modified_time" content="2024-06-06T06:43:29.951Z">
<meta property="article:author" content="Ruiyang He">
<meta property="article:tag" content="图数据库">
<meta property="article:tag" content="文献研究">
<meta name="twitter:card" content="summary">
  
  
  
  <title>Arboricity and Subgraph Listing Algorithms - Hiryan&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/custom.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"hiryan23.github.io","root":"/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":3},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Hiryan&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/lungmen.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.7)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Arboricity and Subgraph Listing Algorithms"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Ruiyang He
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-04-29 15:11" pubdate>
          2024年4月29日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          74 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="2024S"
        id="heading-8250178ba15ec7f40890510922b2eb43" role="tab" data-toggle="collapse" href="#collapse-8250178ba15ec7f40890510922b2eb43"
        aria-expanded="true"
      >
        2024S
        <span class="list-group-count">(4)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-8250178ba15ec7f40890510922b2eb43"
           role="tabpanel" aria-labelledby="heading-8250178ba15ec7f40890510922b2eb43">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2024/04/29/%E5%AF%BB%E6%89%BE%E5%9B%BE%E4%B8%ADclique%E7%9A%84%E7%AE%97%E6%B3%95/" title="Arboricity and Subgraph Listing Algorithms"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">Arboricity and Subgraph Listing Algorithms</span>
        </a>
      
    
      
      
        <a href="/2024/03/31/%E5%85%B3%E4%BA%8E%E8%82%A1%E6%8C%87%E6%9C%9F%E8%B4%A7%E5%AF%B9%E5%86%B2%E7%9A%84%E6%80%9D%E8%80%83/" title="关于股指期货对冲的思考"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">关于股指期货对冲的思考</span>
        </a>
      
    
      
      
        <a href="/2024/03/06/%E5%A4%8D%E6%9D%83%E8%AF%A6%E8%A7%A3/" title="复权详解"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">复权详解</span>
        </a>
      
    
      
      
        <a href="/2024/02/26/%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E5%B8%B8%E8%A7%81%E5%AF%B9%E5%86%B2%E7%AD%96%E7%95%A5/" title="期权交易常见对冲策略"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">期权交易常见对冲策略</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Arboricity and Subgraph Listing Algorithms</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：7 个月前
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>Arboricity and Subgraph Listing Algorithms (Norishige Chiba and Takao
Nishizeki, 1985)</p>
<span id="more"></span>
<p>![[Arboricity and Subgraph Listing
Algorithms/Chiba-1985-arboricity.pdf]]</p>
<h2 id="abstract">Abstract</h2>
<p>In this paper we introduce a new simple strategy into edge-searching
of a graph, which is useful to the various subgraph listing problems.
Applying the strategy, we obtain the following four algorithms. - The
first one lists all the triangles in a graph <span class="math inline">\(G\)</span> in <span class="math inline">\(O(a(G)m)\)</span> time, where <span class="math inline">\(m\)</span> is the number of edges of <span class="math inline">\(G\)</span> and <span class="math inline">\(a(\text
G)\)</span> the arboricity of <span class="math inline">\(G\)</span>. -
The second finds all the quadrangles in <span class="math inline">\(O(a(G)m)\)</span> time. Since <span class="math inline">\(a(G)\)</span> is at most three for a planar graph
<span class="math inline">\(G\)</span>, both run in linear time for a
planar graph. - The third lists all the complete subgraphs <span class="math inline">\(K_l\)</span> of order <span class="math inline">\(l\)</span> in <span class="math inline">\(O(la(G)^{l-2}m)\)</span> time. - The fourth lists
all the cliques in <span class="math inline">\(O(a(G)m)\)</span> time
per clique. All the algorithms require linear space. We also establish
an upper bound on <span class="math inline">\(a(G)\)</span> for a graph
<span class="math inline">\(G\)</span>: <span class="math inline">\(a(G)\leq [(2m+n)^{1/2}/2]\)</span>, where <span class="math inline">\(n\)</span> is the number of vertices in <span class="math inline">\(G\)</span>.</p>
<p>总结四个算法： - 找三角形 - 找四点形 - 找l阶完全子图 -
找所有clique</p>
<h2 id="main">Main</h2>
<h3 id="introduction">1. Introduction</h3>
<p>主要策略：在图中找点，然后在这个点诱导子图中找符合要求的包含该点的东西。
具体而言，根据点的非增的度数找（从最大度数往最小度数点找），找过了就删，避免重复。</p>
<p>参数解释：<span class="math inline">\(a(G)\)</span>是指图的荫度</p>
<blockquote>
<p>The <strong>arboricity</strong> of an undirected graph is the minimum
number of forests into which its edges can be partitioned. Equivalently
it is the minimum number of spanning forest needed to cover all the
edges of the graph. The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Nash-Williams_theorem" title="Nash-Williams theorem">Nash-Williams theorem</a> provides
necessary and sufficient conditions for when a graph
is <em>k</em>-arboric.</p>
</blockquote>
<p>其余参数都是正常参数。</p>
<p>复杂度估计：略</p>
<h3 id="preliminaries">2. Preliminaries</h3>
<p>一些计算，略</p>
<h3 id="algorithm-for-listing-triangles">3. Algorithm for listing
triangles</h3>
<p>代码见附录</p>
<h3 id="algorithm-for-listing-quadrangles">4. Algorithm for listing
quadrangles</h3>
<p>代码见附录</p>
<h3 id="algorithm-for-listing-complete-subgraphs">5. Algorithm for
listing complete subgraphs</h3>
<p>代码见附录</p>
<h2 id="appendix">Appendix</h2>
<p>![[寻找图中clique的算法/chiba.py]]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time  <br>  <br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np  <br><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UndirectedGraph</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):  <br>        self.vertex_to_id_dict: <span class="hljs-built_in">dict</span> = &#123;&#125;  <br>        self.id_to_vertex_dict: <span class="hljs-built_in">dict</span> = &#123;&#125;  <br>        self.vertex_count: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>  <br>        self.id_list: SortedList = SortedList()  <br>        self.adj_list: <span class="hljs-built_in">list</span> = []  <br>        self.deg_list: <span class="hljs-built_in">list</span> = []  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_from_txt</span>(<span class="hljs-params">self, file: <span class="hljs-built_in">str</span></span>):  <br>        edge_list = np.loadtxt(file, dtype=<span class="hljs-built_in">int</span>)  <br>        <span class="hljs-keyword">for</span> src, dst <span class="hljs-keyword">in</span> edge_list:  <br>            self.add_edge(src, dst)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_edge</span>(<span class="hljs-params">self, vertex1, vertex2</span>):  <br>        <span class="hljs-keyword">if</span> vertex1 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.vertex_to_id_dict:  <br>            self.add_vertex(vertex1)  <br>        <span class="hljs-keyword">if</span> vertex2 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.vertex_to_id_dict:  <br>            self.add_vertex(vertex2)  <br>        self.adj_list[self.vertex_to_id_dict[vertex1]].add(self.vertex_to_id_dict[vertex2])  <br>        self.adj_list[self.vertex_to_id_dict[vertex2]].add(self.vertex_to_id_dict[vertex1])  <br>  <br>        self.deg_list[self.vertex_to_id_dict[vertex1]] += <span class="hljs-number">1</span>  <br>        self.deg_list[self.vertex_to_id_dict[vertex2]] += <span class="hljs-number">1</span>  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_vertex</span>(<span class="hljs-params">self, vertex</span>):  <br>        v_id = self.vertex_count  <br>        self.vertex_to_id_dict[vertex] = v_id  <br>        self.id_to_vertex_dict[v_id] = vertex  <br>        self.vertex_count += <span class="hljs-number">1</span>  <br>        self.id_list.add(v_id)  <br>        self.adj_list.append(SortedList())  <br>        self.deg_list.append(<span class="hljs-number">0</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">del_vertex</span>(<span class="hljs-params">self, vertex, inplace=<span class="hljs-literal">False</span></span>):  <br>        v_id = self.vertex_to_id_dict[vertex]  <br>        v_adj = self.adj_list[v_id]  <br>        <span class="hljs-keyword">if</span> v_id <span class="hljs-keyword">in</span> self.id_list:  <br>            <span class="hljs-keyword">if</span> inplace:  <br>                <span class="hljs-keyword">for</span> u_id <span class="hljs-keyword">in</span> v_adj:  <br>                    self.deg_list[u_id] -= <span class="hljs-number">1</span>  <br>                    self.adj_list[u_id].remove(v_id)  <br>                self.deg_list[v_id] = -<span class="hljs-number">1</span>  <br>                self.id_list.remove(v_id)  <br>                self.adj_list[v_id] = SortedList()  <br>            <span class="hljs-keyword">else</span>:  <br>                new_g = self  <br>                <span class="hljs-keyword">for</span> u_id <span class="hljs-keyword">in</span> v_adj:  <br>                    new_g.deg_list[u_id] -= <span class="hljs-number">1</span>  <br>                    new_g.adj_list[u_id].remove(v_id)  <br>                new_g.deg_list[v_id] = -<span class="hljs-number">1</span>  <br>                new_g.id_list.remove(v_id)  <br>                new_g.adj_list[v_id] = SortedList()  <br>  <br>                <span class="hljs-keyword">return</span> new_g  <br>        <span class="hljs-keyword">else</span>:  <br>            <span class="hljs-keyword">pass</span>  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">K3</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-string">&quot;&quot;&quot;  </span><br><span class="hljs-string">    Print all triangles.    &quot;&quot;&quot;</span>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, g: UndirectedGraph</span>):  <br>        self.graph = g  <br>        self.process()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sort_by_deg</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)), key=<span class="hljs-keyword">lambda</span> x: self.graph.deg_list[x], reverse=<span class="hljs-literal">True</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>):  <br>        sorted_vertex_list = self.sort_by_deg()[:<span class="hljs-built_in">len</span>(self.graph.id_list)]  <br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> sorted_vertex_list[:-<span class="hljs-number">2</span>]:  <br>            v_adj = self.graph.adj_list[v]  <br>            mark = <span class="hljs-built_in">set</span>(v_adj)  <br>            <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> v_adj:  <br>                u_adj = self.graph.adj_list[u]  <br>                <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> u_adj:  <br>                    <span class="hljs-keyword">if</span> w <span class="hljs-keyword">in</span> mark:  <br>                        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;(<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[v]&#125;</span>,&quot;</span>  <br>                              <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[u]&#125;</span>,&quot;</span>  <br>                              <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[w]&#125;</span>)&quot;</span>)  <br>                mark.remove(u)  <br>            self.graph.del_vertex(self.graph.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C4</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, g: UndirectedGraph</span>):  <br>        self.graph = g  <br>        self.U = [<span class="hljs-built_in">set</span>() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> self.graph.deg_list]  <br>        self.process()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sort_by_deg</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)), key=<span class="hljs-keyword">lambda</span> x: self.graph.deg_list[x], reverse=<span class="hljs-literal">True</span>)  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_id_to_vertex</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">set</span></span>):  <br>        <span class="hljs-keyword">return</span> &#123;self.graph.id_to_vertex_dict[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> s&#125;  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>):  <br>        sorted_vertex_list = self.sort_by_deg()[:<span class="hljs-built_in">len</span>(self.graph.id_list)]  <br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> sorted_vertex_list:  <br>            <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> self.graph.adj_list[v]:  <br>                <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> self.graph.adj_list[u]:  <br>                    <span class="hljs-keyword">if</span> w != v:  <br>                        self.U[w] = self.U[w] | &#123;u&#125;  <br>            <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)):  <br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.U[w]) &gt;= <span class="hljs-number">2</span>:  <br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;(<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[v]&#125;</span>,<span class="hljs-subst">&#123;self.graph.id_to_vertex_dict[w]&#125;</span>,&quot;</span>  <br>                          <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.set_id_to_vertex(self.U[w])&#125;</span>)&quot;</span>)  <br>            <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.graph.deg_list)):  <br>                <span class="hljs-keyword">if</span> self.U[w]:  <br>                    self.U[w] = <span class="hljs-built_in">set</span>()  <br>            self.graph.del_vertex(self.graph.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">COMPLETE</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, order: <span class="hljs-built_in">int</span>, g: UndirectedGraph</span>):  <br>        self.order = order  <br>        self.graph = g  <br>        self.C = []  <br>  <br>        self.f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ans1.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)  <br>        self.K(self.order, self.graph)  <br>        self.f.close()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">self, k: <span class="hljs-built_in">int</span>, gk: UndirectedGraph</span>):  <br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">2</span>:  <br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> gk.id_list:  <br>                res = [&#123;gk.id_to_vertex_dict[x], gk.id_to_vertex_dict[y]&#125; | <span class="hljs-built_in">set</span>(self.C)  <br>                       <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> gk.adj_list[x] <span class="hljs-keyword">if</span> x &lt; y]  <br>                _ = &#123;<span class="hljs-built_in">print</span>(i, file=self.f) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res&#125;  <br>  <br>        <span class="hljs-keyword">else</span>:  <br>            length = <span class="hljs-built_in">len</span>(gk.id_list)  <br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):  <br>                v = gk.id_list[<span class="hljs-number">0</span>]  <br>                gk_1 = graph_induced_by_vertex_neighbor(gk, gk.id_to_vertex_dict[v])  <br>                self.C.append(gk.id_to_vertex_dict[v])  <br>                self.K(k - <span class="hljs-number">1</span>, gk_1)  <br>                self.C.pop()  <br>                gk.del_vertex(gk.id_to_vertex_dict[v], <span class="hljs-literal">True</span>)  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NEW_COMPLETE</span>(<span class="hljs-title class_ inherited__">object</span>):  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, order: <span class="hljs-built_in">int</span>, g: UndirectedGraph</span>):  <br>        self.order = order  <br>        self.graph = g  <br>        self.C = []  <br>        self.graph_label = [order] * <span class="hljs-built_in">len</span>(g.id_list)  <br>        self.adj_list = [<span class="hljs-built_in">list</span>(g.adj_list[i]) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(g.adj_list))]  <br>  <br>        name_list = [self.graph.id_to_vertex_dict[v_id] <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> self.graph.id_list]  <br>  <br>        self.f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ans2.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)  <br>        self.K(self.order, name_list, self.graph.deg_list)  <br>        self.f.close()  <br>  <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">self, k: <span class="hljs-built_in">int</span>, u_name_list: <span class="hljs-built_in">list</span>, k_deg_list: <span class="hljs-built_in">list</span></span>):  <br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">2</span>:  <br>            sub_g = graph_induced_by_vertices(self.graph, u_name_list)  <br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sub_g.id_list:  <br>                res = [&#123;sub_g.id_to_vertex_dict[x], sub_g.id_to_vertex_dict[y]&#125; | <span class="hljs-built_in">set</span>(self.C)  <br>                       <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> sub_g.adj_list[x] <span class="hljs-keyword">if</span> x &lt; y]  <br>                _ = &#123;<span class="hljs-built_in">print</span>(i, file=self.f) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> res&#125;  <br>        <span class="hljs-keyword">else</span>:  <br>            name_to_id_dict = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(u_name_list, <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(u_name_list))))  <br>            <span class="hljs-comment"># id_to_name_dict = dict(zip(range(len(u_name_list)), u_name_list))  </span><br>  <br>            sorted_list = <span class="hljs-built_in">sorted</span>(u_name_list, key=<span class="hljs-keyword">lambda</span> y: k_deg_list[name_to_id_dict[y]], reverse=<span class="hljs-literal">True</span>)  <br>  <br>            <span class="hljs-keyword">for</span> vi_name <span class="hljs-keyword">in</span> sorted_list:  <br>                u1_list = [self.graph.id_to_vertex_dict[v] <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> self.adj_list[self.graph.vertex_to_id_dict[vi_name]]  <br>                           <span class="hljs-keyword">if</span> self.graph_label[v] == k]  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    self.graph_label[self.graph.vertex_to_id_dict[u]] = k - <span class="hljs-number">1</span>  <br>  <br>                k1_deg_list = []  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    d = <span class="hljs-number">0</span>  <br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.adj_list[self.graph.vertex_to_id_dict[u]]:  <br>                        <span class="hljs-keyword">if</span> self.graph.id_to_vertex_dict[i] <span class="hljs-keyword">in</span> u1_list:  <br>                            self.adj_list[self.graph.vertex_to_id_dict[u]].remove(i)  <br>                            self.adj_list[self.graph.vertex_to_id_dict[u]].append(i)  <br>                            d += <span class="hljs-number">1</span>  <br>                    k1_deg_list.append(d)  <br>  <br>                self.C.append(vi_name)  <br>  <br>                self.K(k-<span class="hljs-number">1</span>, u1_list, k1_deg_list)  <br>  <br>                self.C.pop()  <br>  <br>                <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> u1_list:  <br>                    self.graph_label[self.graph.vertex_to_id_dict[u]] = k  <br>  <br>                self.graph_label[self.graph.vertex_to_id_dict[vi_name]] = k + <span class="hljs-number">1</span>  <br>  <br>                <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> u1_list:  <br>                    pos = <span class="hljs-number">0</span>  <br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.adj_list[self.graph.vertex_to_id_dict[v]])):  <br>                        <span class="hljs-keyword">if</span> self.graph_label[self.adj_list[self.graph.vertex_to_id_dict[v]][i]] == k:  <br>                            pos = i  <br>                            <span class="hljs-keyword">break</span>  <br>  <br>                    self.adj_list[self.graph.vertex_to_id_dict[v]].remove(self.graph.vertex_to_id_dict[vi_name])  <br>                    self.adj_list[self.graph.vertex_to_id_dict[v]].insert(pos, self.graph.vertex_to_id_dict[vi_name])  <br>  <br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">graph_induced_by_vertex_neighbor</span>(<span class="hljs-params">g: UndirectedGraph, v</span>) -&gt; UndirectedGraph:  <br>    g_ind_v = UndirectedGraph()  <br>  <br>    neighbor_vertex_list = <span class="hljs-built_in">set</span>(g.adj_list[g.vertex_to_id_dict[v]])  <br>    <span class="hljs-comment"># neighbor_vertex_list.add(g.vertex_to_id_dict[v])  </span><br>  <br>    <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> neighbor_vertex_list:  <br>        _ = &#123;g_ind_v.add_edge(g.id_to_vertex_dict[v_id], g.id_to_vertex_dict[u])  <br>             <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> g.adj_list[v_id] <span class="hljs-keyword">if</span> u <span class="hljs-keyword">in</span> neighbor_vertex_list <span class="hljs-keyword">and</span> v_id &lt; u&#125;  <br>  <br>    <span class="hljs-keyword">return</span> g_ind_v  <br>  <br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">graph_induced_by_vertices</span>(<span class="hljs-params">g: UndirectedGraph, v_name_list</span>) -&gt; UndirectedGraph:  <br>    g_ind_v = UndirectedGraph()  <br>    v_id_list = [g.vertex_to_id_dict[v] <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> v_name_list]  <br>  <br>    <span class="hljs-keyword">for</span> v_id <span class="hljs-keyword">in</span> v_id_list:  <br>        _ = &#123;g_ind_v.add_edge(g.id_to_vertex_dict[v_id], g.id_to_vertex_dict[u])  <br>             <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> g.adj_list[v_id] <span class="hljs-keyword">if</span> u <span class="hljs-keyword">in</span> v_id_list <span class="hljs-keyword">and</span> v_id &lt; u&#125;  <br>  <br>    <span class="hljs-keyword">return</span> g_ind_v  <br>  <br>  <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:  <br>    G = UndirectedGraph()  <br>    G.load_from_txt(<span class="hljs-string">&#x27;example.txt&#x27;</span>)  <br>    <span class="hljs-comment"># K3 = K3(G)  </span><br>    <span class="hljs-comment"># C4 = C4(G)  </span><br>    time1 = time.time()  <br>    <span class="hljs-comment"># C = COMPLETE(6, G)  </span><br>    C = NEW_COMPLETE(<span class="hljs-number">6</span>, G)  <br>    time2 = time.time()  <br>  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Process time: <span class="hljs-subst">&#123;time2-time1&#125;</span>s&quot;</span>)<br></code></pre></td></tr></table></figure>
<h2 id="问题">问题</h2>
<p>我的优化的算法比老算法还慢。感觉问题可能出现在in
list的搜索上。或许用dict+SortedList更快。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/2024S/" class="category-chain-item">2024S</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93/" class="print-no-link">#图数据库</a>
      
        <a href="/tags/%E6%96%87%E7%8C%AE%E7%A0%94%E7%A9%B6/" class="print-no-link">#文献研究</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Arboricity and Subgraph Listing Algorithms</div>
      <div>http://hiryan23.github.io/2024/04/29/寻找图中clique的算法/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Ruiyang He</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年4月29日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2024年6月6日</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/06/01/%E5%86%99%E5%9C%A8%E5%A4%A7%E4%B8%89%E7%9A%84%E5%84%BF%E7%AB%A5%E8%8A%82/" title="2024.06.01 写在大三的儿童节">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">2024.06.01 写在大三的儿童节</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/04/23/%E5%86%99%E5%9C%A8%E5%AE%89%E6%B3%B0%E6%98%A5%E4%BB%A4%E8%90%A5%E4%B9%8B%E5%90%8E/" title="2024.04.23 写在安泰春令营之后">
                        <span class="hidden-mobile">2024.04.23 写在安泰春令营之后</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      

    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
